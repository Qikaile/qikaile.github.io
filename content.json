{"meta":{"title":"å¤©é•œäº‘ç”Ÿ","subtitle":"Welcome!","description":"å¿ƒé™æ€è¿œï¼Œå¿—è¡Œåƒé‡Œã€‚","author":"TJYS","url":"https://qikaile.tk","root":"/"},"pages":[{"title":"404","date":"2020-03-13T16:00:00.000Z","updated":"2020-04-01T01:17:43.059Z","comments":false,"path":"404.html","permalink":"https://qikaile.tk/404.html","excerpt":"","text":""},{"title":"å…³äº","date":"2020-03-13T16:00:00.000Z","updated":"2020-12-03T11:16:35.699Z","comments":false,"path":"about/index.html","permalink":"https://qikaile.tk/about/index.html","excerpt":"","text":"åŸºç¡€ä¿¡æ¯GitHubï¼šhttps://github.com/Qikaileåæ ‡ï¼šå—äº¬ä¸“ä¸šæŠ€èƒ½ç†Ÿæ‚‰ä¸‰ç»´è®¾è®¡è½¯ä»¶Pythonå…´è¶£çˆ±å¥½ç”µå½±æ›´æ–°æ—¥å¿—â˜‘ 2020.03.14 - Hello Worldâ˜‘ 2020.03.19 - Hexoæ­å»ºä¸ªäººåšå®¢ç³»åˆ—ï¼šä¸»é¢˜ç¾åŒ–ç¯‡â˜‘ 2020.03.28 - æœºå™¨å­¦ä¹ â˜‘ 2020.03.28 - Pandasä¸­æ–‡æ‰‹å†Œâ˜‘ 2020.03.28 - ååˆ†é’Ÿæå®š Pandasâ˜‘ 2020.03.28 - PSåŠŸèƒ½ç²¾é€šè¯¾ è‡ªæˆ‘ä»‹ç»~ ~ æ§ æ˜Ÿ åº§ / è½» ç”Ÿ æ´» / è½» æ—¥ è®° / è½» æ¢¦ æƒ³ ~ ~01ç”Ÿæ´»ç»™æ—¶å…‰ä¸€ä»½æµ…æµ…çš„å›çœ¸ï¼Œç»™å¿ƒçµä¸€ä»½æ·¡æ·¡çš„å®‰æš–ï¼ŒèŠ¬èŠ³è¿‡å¾€ï¼Œå²æœˆé™å¥½ã€‚02å·¥ä½œ03èƒ¡è¨€å½“ç½‘é¡µè®¾è®¡é‡ä¸Šæ–‡è‰ºèŒƒæ˜¯ä¸€åœºæ€æ ·çš„é‚‚é€…ï¼Œä¸è¦è®¡åˆ’ç›¸é‡ï¼Œæœ€ç¾å¥½çš„äº‹æƒ…æ€»æ˜¯å¶ç„¶å‘ç”Ÿçš„ï¼â€”â€”äº‘ç”Ÿ04æ—¥è®°2021å¹´-æ–°å¹´å€’è®¡æ—¶157 å¤© 9 æ—¶ 7 åˆ† 42 ç§’function getRTime(){var e=new Date(\"2021/02/12 00:00:00\"),t=new Date,n=e.getTime()-t.getTime(),m=Math.floor(n/1e3/60/60/24),o=Math.floor(n/1e3/60/60%24),r=Math.floor(n/1e3/60%60),d=Math.floor(n/1e3%60);document.getElementById(\"t_d\").innerHTML=m+\" å¤©\",document.getElementById(\"t_h\").innerHTML=o+\" æ—¶\",document.getElementById(\"t_m\").innerHTML=r+\" åˆ†\",document.getElementById(\"t_s\").innerHTML=d+\" ç§’\"}setInterval(getRTime,1e3)"},{"title":"ä¹¦ç­¾","date":"2020-03-13T16:00:00.000Z","updated":"2020-04-23T04:50:13.842Z","comments":false,"path":"bookmark/index.html","permalink":"https://qikaile.tk/bookmark/index.html","excerpt":"","text":"å°èƒ¡åŒé‡Œï¼Œä¹¾å¤å¤§ä¸–ç•Œå·¥å…·ç®±æ–‡æ¡£é›†å›¾ç‰‡é›†è§†é¢‘åº“MarkdownTypora:ä¸€æ¬¾ç®€æ´çš„Markdownç¼–è¾‘å™¨Sublime Text+Markdownæ’ä»¶è¯­é›€Markdownåœ¨çº¿ç¼–è¾‘å™¨Cmd Markdownç¼–è¾‘é˜…è¯»å™¨å›¾åºŠä¸ƒç‰›äº‘å›¾åºŠè·¯è¿‡å›¾åºŠSM.MSå›¾åºŠå›¾åºŠå·¥å…·PicGoMPic-å›¾åºŠç¥å™¨å­—ä½“ä¸­æ–‡å­—ä½“åº“è‡ªåŠ¨è¯†åˆ«å­—ä½“çš„ç½‘ç«™åœ¨çº¿ç”Ÿæˆå°ç« LOGO&amp;å›¾æ ‡ç±»Font Awesomeé˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“Bootstrapè‘—åå…¬å¸çš„çŸ¢é‡LOGOä¸‹è½½æµ·é‡ICONæºæ–‡ä»¶å…è´¹ä¸‹è½½ç»å…¸é…è‰²åœ¨çº¿å–è‰²å™¨é…è‰²è¡¨é…è‰²æ”¶è—ç½‘ç«™åœ¨çº¿æ ¼å¼è½¬æ¢ICOå›¾æ ‡åœ¨çº¿ç”Ÿæˆè½¬æ¢å·¥å…·:Pngã€Jpgã€Gifè½¬Icoå›¾æ ‡å…è´¹APIæ¥å£åœ¨çº¿è§†é¢‘å¤„ç†:MP4åœ¨çº¿è½¬Gifæ ¼å¼jQueryæ’ä»¶åº“jQueryæ’ä»¶åº“:å¸¸ç”¨çš„jsæ¨¡å—ï¼Œæ”¯æŒåœ¨çº¿é¢„è§ˆHexo Nextå»ºç«™å‚è€ƒGit åŸºæœ¬æ“ä½œNexT|DocumentationNexTä½¿ç”¨æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰NexT Themesä¸»é¢˜Hexo-Theme-Materyä¸»é¢˜Hexo-Theme-Sakuraä¸»é¢˜ä¼˜ç§€åšä¸»1ä¼˜ç§€åšä¸»2ä¼˜ç§€åšä¸»3å›¾ç‰‡ç½‘ç«™PixabayPinterest:éœ€ç¿»å¢™è§†é¢‘ç½‘ç«™29ä¸ªæ— ç‰ˆæƒã€å…è´¹çš„è§†é¢‘ç½‘ç«™PexelsVidevoVideezy"},{"title":"æ–‡ç« åˆ†ç±»","date":"2020-03-14T06:29:13.000Z","updated":"2020-03-14T06:30:09.378Z","comments":false,"path":"categories/index.html","permalink":"https://qikaile.tk/categories/index.html","excerpt":"","text":""},{"title":"-ç”»å»Š-","date":"2020-03-15T02:22:04.000Z","updated":"2020-12-03T09:35:31.798Z","comments":false,"path":"gallery/index.html","permalink":"https://qikaile.tk/gallery/index.html","excerpt":"","text":"è·å–ä¸­...- ç¿°å®é˜ -- æ¶¦å…°è½© -- æ€¡æƒ…è½© -.+ï¾Ÿâ™ªï¾Ÿ+.ï½.+ï¾Ÿâ™ªï¾Ÿ+.ï½.+ï¾Ÿâ™ªï¾Ÿ+.ï½.+ï¾Ÿâ™ªï¾Ÿ+.ï½.+ï¾Ÿâ™ªï¾Ÿ+.ï½.+ï¾Ÿâ™ªï¾Ÿ+."},{"title":"å‹æƒ…é“¾æ¥","date":"2020-03-15T09:31:40.000Z","updated":"2020-04-01T12:34:10.440Z","comments":true,"path":"links/index.html","permalink":"https://qikaile.tk/links/index.html","excerpt":"","text":""},{"title":"FroalaEditor","date":"2020-03-13T16:00:00.000Z","updated":"2020-04-21T13:39:42.577Z","comments":false,"path":"markdown/index.html","permalink":"https://qikaile.tk/markdown/index.html","excerpt":"","text":""},{"title":"éŸ³ä¹","date":"2020-03-13T16:00:00.000Z","updated":"2020-08-31T03:11:19.344Z","comments":true,"path":"music/index.html","permalink":"https://qikaile.tk/music/index.html","excerpt":"","text":"éŸ³ä¹æ˜¯æ€ç»´ç€çš„å£°éŸ³ã€‚.aplayer{margin:1.5rem 0}"},{"title":"","date":"2020-04-20T04:18:05.706Z","updated":"2020-04-08T01:42:42.494Z","comments":true,"path":"photos/3Dphoto.css","permalink":"https://qikaile.tk/photos/3Dphoto.css","excerpt":"","text":"/* build time:Fri Dec 04 2020 10:40:44 GMT+0800 (GMT+08:00)*/ *{margin:0;padding:0}body{max-width:100%;min-width:100%;height:100%;background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%;position:absolute;margin-left:auto;margin-right:auto}li{list-style:none}.box{width:200px;height:200px;background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%;position:absolute;margin-left:42%;margin-top:22%;-webkit-transform-style:preserve-3d;-webkit-transform:rotateX(13deg);-webkit-animation:move 6s linear infinite}.box:hover{-webkit-animation:move 60s linear infinite}.minbox{width:100px;height:100px;position:absolute;left:50px;top:30px;-webkit-transform-style:preserve-3d}.minbox li{width:100px;height:100px;position:absolute;left:0;top:0}.minbox li:nth-child(1){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/01.jpg) no-repeat 0 0;-webkit-transform:translateZ(50px)}.minbox li:nth-child(2){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/02.jpg) no-repeat 0 0;-webkit-transform:rotateX(180deg) translateZ(50px)}.minbox li:nth-child(3){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/03.jpg) no-repeat 0 0;-webkit-transform:rotateX(-90deg) translateZ(50px)}.minbox li:nth-child(4){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/04.jpg) no-repeat 0 0;-webkit-transform:rotateX(90deg) translateZ(50px)}.minbox li:nth-child(5){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/05.jpg) no-repeat 0 0;-webkit-transform:rotateY(-90deg) translateZ(50px)}.minbox li:nth-child(6){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/06.jpg) no-repeat 0 0;-webkit-transform:rotateY(90deg) translateZ(50px)}.maxbox li:nth-child(1){obj-fit:cover;background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/1.jpg) no-repeat 0 0;background-size:100% 100%;-webkit-transform:translateZ(50px)}.maxbox li:nth-child(2){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/2.jpg) no-repeat 0 0;background-size:100% 100%;-webkit-transform:translateZ(50px)}.maxbox li:nth-child(3){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/3.jpg) no-repeat 0 0;background-size:100% 100%;-webkit-transform:rotateX(-90deg) translateZ(50px)}.maxbox li:nth-child(4){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/4.jpg) no-repeat 0 0;background-size:100% 100%;-webkit-transform:rotateX(90deg) translateZ(50px)}.maxbox li:nth-child(5){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/5.jpg) no-repeat 0 0;background-size:100% 100%;-webkit-transform:rotateY(-90deg) translateZ(50px)}.maxbox li:nth-child(6){background:url(https://gitee.com/sky_mirrors_the_clouds/cloudimg/raw/master/img/6.jpg) no-repeat 0 0;background-size:100% 100%;-webkit-transform:rotateY(90deg) translateZ(50px)}.maxbox{width:800px;height:400px;position:absolute;left:0;top:-20px;-webkit-transform-style:preserve-3d}.maxbox li{width:200px;height:200px;background:#fff;position:absolute;left:0;top:0;opacity:.2;-webkit-transition:all 1s ease}.maxbox li:nth-child(1){-webkit-transform:translateZ(100px)}.maxbox li:nth-child(2){-webkit-transform:rotateX(180deg) translateZ(100px)}.maxbox li:nth-child(3){-webkit-transform:rotateX(-90deg) translateZ(100px)}.maxbox li:nth-child(4){-webkit-transform:rotateX(90deg) translateZ(100px)}.maxbox li:nth-child(5){-webkit-transform:rotateY(-90deg) translateZ(100px)}.maxbox li:nth-child(6){-webkit-transform:rotateY(90deg) translateZ(100px)}.box:hover ol li:nth-child(1){-webkit-transform:translateZ(300px);width:400px;height:400px;opacity:.8;left:-100px;top:-100px}.box:hover ol li:nth-child(2){-webkit-transform:rotateX(180deg) translateZ(300px);width:400px;height:400px;opacity:.8;left:-100px;top:-100px}.box:hover ol li:nth-child(3){-webkit-transform:rotateX(-90deg) translateZ(300px);width:400px;height:400px;opacity:.8;left:-100px;top:-100px}.box:hover ol li:nth-child(4){-webkit-transform:rotateX(90deg) translateZ(300px);width:400px;height:400px;opacity:.8;left:-100px;top:-100px}.box:hover ol li:nth-child(5){-webkit-transform:rotateY(-90deg) translateZ(300px);width:400px;height:400px;opacity:.8;left:-100px;top:-100px}.box:hover ol li:nth-child(6){-webkit-transform:rotateY(90deg) translateZ(300px);width:400px;height:400px;opacity:.8;left:-100px;top:-100px}@keyframes move{0%{-webkit-transform:rotateX(13deg) rotateY(0)}100%{-webkit-transform:rotateX(13deg) rotateY(360deg)}} /* rebuild by neat */"},{"title":"","date":"2020-04-20T04:18:05.706Z","updated":"2020-04-02T09:25:17.299Z","comments":true,"path":"photos/data.json","permalink":"https://qikaile.tk/photos/data.json","excerpt":"","text":"{\"list\":[{\"date\":\"2020-04\",\"arr\":{\"year\":2020,\"month\":4,\"link\":[\"2020-04-02_1.jpg\",\"2020-04-02_10.jpg\",\"2020-04-02_11.jpg\",\"2020-04-02_12.jpg\",\"2020-04-02_13.jpg\",\"2020-04-02_14.jpg\",\"2020-04-02_15.jpg\",\"2020-04-02_16.jpg\",\"2020-04-02_17.jpg\",\"2020-04-02_18.jpg\",\"2020-04-02_19.jpg\",\"2020-04-02_2.jpg\",\"2020-04-02_20.jpg\",\"2020-04-02_21.jpg\",\"2020-04-02_22.jpg\",\"2020-04-02_23.jpg\",\"2020-04-02_24.jpg\",\"2020-04-02_25.jpg\",\"2020-04-02_26.jpg\",\"2020-04-02_27.jpg\",\"2020-04-02_28.jpg\",\"2020-04-02_29.jpg\",\"2020-04-02_3.jpg\",\"2020-04-02_30.jpg\",\"2020-04-02_31.jpg\",\"2020-04-02_4.jpg\",\"2020-04-02_5.jpg\",\"2020-04-02_6.jpg\",\"2020-04-02_7.jpg\",\"2020-04-02_8.jpg\",\"2020-04-02_9.jpg\"],\"text\":[\"1\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"2\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"3\",\"30\",\"31\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}}]}"},{"title":"ç›¸å†Œ","date":"2020-04-20T04:18:05.710Z","updated":"2020-04-08T01:57:35.252Z","comments":false,"path":"photos/index.html","permalink":"https://qikaile.tk/photos/index.html","excerpt":"","text":"Photos å¾…ç»­å›¾ç‰‡æ­£åœ¨åŠ è½½ä¸­â€¦!function(){var t=function(t){var e=document.createElement(\"script\");document.getElementsByTagName(\"body\")[0].appendChild(e),e.setAttribute(\"src\",t)};setTimeout(function(){t(\"https://cdn.jsdelivr.net/gh/qikaile/cdn@1.2/js/ins.js\")},0)}()"},{"title":"","date":"2020-04-20T04:18:05.710Z","updated":"2020-03-31T03:23:50.000Z","comments":true,"path":"photos/ins.css","permalink":"https://qikaile.tk/photos/ins.css","excerpt":"","text":"/* build time:Fri Dec 04 2020 10:40:44 GMT+0800 (GMT+08:00)*/ #post-instagram{padding:30px}#post-instagram .article-entry{padding-right:0}.instagram{position:relative;min-height:500px}.instagram img{width:100%}.instagram .year{font-size:16px}.instagram .open-ins{padding:10px 0;color:#cdcdcd}.instagram .open-ins:hover{color:#657b83}.instagram .year{display:inline}.instagram .thumb{width:25%;height:0;padding-bottom:25%;position:relative;display:inline-block;text-align:center;background:#ededed;outline:1px solid #ddd}.instagram .thumb a{position:relative}.instagram .album h1 em{font-style:normal;font-size:14px;margin-left:10px}.instagram .album ul{display:flex;flex-wrap:wrap;clear:both;width:100%;text-align:left}.instagram .album li{list-style:none;display:inline-block;box-sizing:border-box;padding:0 5px;margin-bottom:-10px;height:0;width:25%;position:relative;padding-bottom:25%}.instagram .album li:before{display:none}.instagram .album div.img-box{position:absolute;width:90%;height:90%;-webkit-box-shadow:0 1px 0 rgba(255,255,255,.4),0 1px 0 1px rgba(255,255,255,.1);-moz-box-shadow:0 1px 0 rgba(255,255,255,.4),0 1px 0 1px rgba(255,255,255,.1);box-shadow:0 1px 0 rgba(255,255,255,.4),0 1px 0 1px rgba(255,255,255,.1)}.instagram .album div.img-box img{width:100%;height:100%;position:absolute;z-index:2}.instagram .album div.img-box .img-bg{position:absolute;top:0;left:0;bottom:0;width:100%;margin:-5px;padding:5px;-webkit-box-shadow:0 0 0 1px rgba(0,0,0,.04),0 1px 5px rgba(0,0,0,.1);-moz-box-shadow:0 0 0 1px rgba(0,0,0,.04),0 1px 5px rgba(0,0,0,.1);box-shadow:0 0 0 1px rgba(0,0,0,.04),0 1px 5px rgba(0,0,0,.1);-webkit-transition:all .15s ease-out .1s;-moz-transition:all .15s ease-out .1s;-o-transition:all .15s ease-out .1s;transition:all .15s ease-out .1s;opacity:.2;cursor:pointer;display:block;z-index:3}.instagram .album div.img-box .icon{font-size:14px;position:absolute;left:50%;top:50%;margin-left:-7px;margin-top:-7px;color:#999;z-index:1}.instagram .album div.img-box .img-bg:hover{opacity:0}.photos-btn-wrap{border-bottom:1px solid #e5e5e5;margin-bottom:20px}.photos-btn{font-size:16px;color:#333;margin-bottom:-4px;padding:5px 8px 3px}.photos-btn.active{color:#08c;border:1px solid #e5e5e5;border-bottom:5px solid #fff}@media screen and (max-width:600px){.instagram .thumb{width:50%;padding-bottom:50%}.instagram .album li{width:100%;position:relative;padding-bottom:100%;text-align:center}.instagram .album div.img-box{margin:0;width:90%;height:90%}} /* rebuild by neat */"},{"title":"","date":"2020-04-20T04:18:05.714Z","updated":"2020-04-02T13:14:12.903Z","comments":true,"path":"photos/ins.js","permalink":"https://qikaile.tk/photos/ins.js","excerpt":"","text":"// build time:Fri Dec 04 2020 10:40:42 GMT+0800 (GMT+08:00) (function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:false};t[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=t;n.c=e;n.p=\"/dist/\";return n(0)})([function(t,e,n){\"use strict\";n(1);var r=n(2);var i=o(r);function o(t){return t&&t.__esModule?t:{\"default\":t}}var a=[];var u=0;var s;function l(t){var e=t.getBoundingClientRect();var n=getComputedStyle(t,null);var r=document.createElement(\"i\");r.className=\"icon-film\";r.style.color=\"#fff\";r.style.fontSize=\"26px\";r.style.position=\"absolute\";r.style.right=\"10px\";r.style.bottom=\"10px\";r.style.zIndex=1;t.parentNode.appendChild(r)}var c=function h(){var t=document.querySelectorAll('.thumb a[data-type=\"video\"]');for(var e=0,n=t.length;e '+o.text[u]+\" \"}e=e+''+o.year+\"å¹´\"+o.month+'æœˆ '+a+\" \"}document.querySelector(\".instagram\").innerHTML=''+e+\"\";c();i.default.init()};var d=function y(t){var e=t.split(\"/\");return\"/photos/assets/ins/\"+e[e.length-1]};var p=function b(t){var e={};for(var n=0,r=t.length;n=200&&this.status"},{"title":"","date":"2020-04-20T04:18:05.714Z","updated":"2020-03-31T03:23:50.000Z","comments":true,"path":"photos/photoswipe-ui-default.min.js","permalink":"https://qikaile.tk/photos/photoswipe-ui-default.min.js","excerpt":"","text":"/*! PhotoSwipe Default UI - 4.1.2 - 2017-04-05 * http://photoswipe.com * Copyright (c) 2017 Dmitry Semenov; */ !function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){\"use strict\";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:\"auto\"},closeElClasses:[\"item\",\"caption\",\"zoom-wrap\",\"ui\",\"top-bar\"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML=\"\",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:\"facebook\",label:\"Share on Facebook\",url:\"https://www.facebook.com/sharer/sharer.php?u=\"},{id:\"twitter\",label:\"Tweet\",url:\"https://twitter.com/intent/tweet?text=&url=\"},{id:\"pinterest\",label:\"Pin it\",url:\"http://www.pinterest.com/pin/create/button/?url=&media=&description=\"},{id:\"download\",label:\"Download image\",url:\"\",download:!0}],getImageURLForShare:function(){return a.currItem.src||\"\"},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||\"\"},indexIndicatorSep:\" / \",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute(\"class\")||\"\",g=0;g-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?\"add\":\"remove\")+\"Class\"](a,\"pswp__\"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,\"ui--one-slide\",a),p=a)},E=function(){C(i,\"share-modal--hidden\",y)},F=function(){return y=!y,y?(b.removeClass(i,\"pswp__share-modal--fade-in\"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,\"pswp__share-modal--fade-in\")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout(\"shareLinkClick\",b,c),!!c.href&&(!!c.hasAttribute(\"download\")||(window.open(c.href,\"pswp_share\",\"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=\"+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1))},H=function(){for(var a,b,c,d,e,f=\"\",g=0;g-1&&(d.getAttribute(\"class\").indexOf(\"__caption\")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l(\"bindEvents\",function(){b.bind(d,\"pswpTap click\",A),b.bind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,\"mouseover\",v.onMouseOver)}),l(\"unbindEvents\",function(){y||F(),t&&clearInterval(t),b.unbind(document,\"mouseout\",L),b.unbind(document,\"mousemove\",K),b.unbind(d,\"pswpTap click\",A),b.unbind(a.scrollWrap,\"pswpTap\",v.onGlobalTap),b.unbind(a.scrollWrap,\"mouseover\",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l(\"destroy\",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,\"pswp__caption--empty\")),i&&(i.children[0].onclick=null),b.removeClass(d,\"pswp__ui--over-close\"),b.addClass(d,\"pswp__ui--hidden\"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,\"pswp__ui--hidden\"),l(\"initialZoomIn\",function(){q.showAnimationDuration&&b.removeClass(d,\"pswp__ui--hidden\")}),l(\"initialZoomOut\",function(){b.addClass(d,\"pswp__ui--hidden\")}),l(\"parseVerticalMargin\",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,\"ui--idle\",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,\"caption--empty\",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?\"add\":\"remove\")+\"Class\"](a.template,\"pswp--fs\")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&\"mouse\"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,\"pswp__img\")&&(1===a.getZoomLevel()&&a.getZoomLevel()"},{"title":"","date":"2020-04-20T04:18:05.718Z","updated":"2020-03-31T03:23:50.000Z","comments":true,"path":"photos/photoswipe.css","permalink":"https://qikaile.tk/photos/photoswipe.css","excerpt":"","text":"/* build time:Fri Dec 04 2020 10:40:44 GMT+0800 (GMT+08:00)*/ /*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;-ms-touch-action:none;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:0}.pswp *{-webkit-box-sizing:border-box;box-sizing:border-box}.pswp img{max-width:none}.pswp--animate_opacity{opacity:.001;will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open{display:block}.pswp--zoom-allowed .pswp__img{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--zoomed-in .pswp__img{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--dragging .pswp__img{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp__bg{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;opacity:0;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__scroll-wrap{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.pswp__container,.pswp__zoom-wrap{-ms-touch-action:none;touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0}.pswp__container,.pswp__img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap{position:absolute;width:100%;-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 333ms cubic-bezier(.4,0,.22,1);transition:transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg{will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in .pswp__bg,.pswp--animated-in .pswp__zoom-wrap{-webkit-transition:none;transition:none}.pswp__container,.pswp__zoom-wrap{-webkit-backface-visibility:hidden}.pswp__item{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.pswp__img{position:absolute;width:auto;height:auto;top:0;left:0}.pswp__img--placeholder{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank{background:#222}.pswp--ie .pswp__img{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg a{color:#ccc;text-decoration:underline} /* rebuild by neat */"},{"title":"","date":"2020-04-20T04:18:05.718Z","updated":"2020-03-31T03:23:50.000Z","comments":true,"path":"photos/photoswipe.min.js","permalink":"https://qikaile.tk/photos/photoswipe.min.js","excerpt":"","text":"/*! PhotoSwipe - v4.1.2 - 2017-04-05 * http://photoswipe.com * Copyright (c) 2017 Dmitry Semenov; */ !function(a,b){\"function\"==typeof define&&define.amd?define(b):\"object\"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){\"use strict\";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?\"remove\":\"add\")+\"EventListener\";b=b.split(\" \");for(var f=0;f0&&(g=parseInt(g[1],10),g>=1&&g=1&&(i=ac()-1&&d0?i.maxSpreadZoom:1},Va=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=La(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+\"px\",c.height=e+\"px\",c.left=a.initialPosition.x+\"px\",c.top=a.initialPosition.y+\"px\"},Ha=function(){if(ea){var a=ea,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+\"px\",a.height=e+\"px\",a.left=pa.x+\"px\",a.top=pa.y+\"px\"}}},Xa=function(a){var b=\"\";i.escKey&&27===a.keyCode?b=\"close\":i.arrowKeys&&(37===a.keyCode?b=\"prev\":39===a.keyCode&&(b=\"next\")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Ya=function(a){a&&(Y||X||fa||T)&&(a.preventDefault(),a.stopPropagation())},Za=function(){f.setScrollOffset(0,e.getScrollY())},$a={},_a=0,ab=function(a){$a[a]&&($a[a].raf&&I($a[a].raf),_a--,delete $a[a])},bb=function(a){$a[a]&&ab(a),$a[a]||(_a++,$a[a]={})},cb=function(){for(var a in $a)$a.hasOwnProperty(a)&&ab(a)},db=function(a,b,c,d,e,f,g){var h,i=Ea();bb(a);var j=function(){if($a[a]){if(h=Ea()-i,h>=d)return ab(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),$a[a].raf=H(j)}};j()},eb={shout:Da,listen:Ca,viewportSize:qa,options:i,isMainScrollAnimating:function(){return fa},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return V},isZooming:function(){return aa},setScrollOffset:function(a,b){sa.x=a,M=sa.y=b,Da(\"updateScrollOffset\",sa)},applyZoomPan:function(a,b,c,d){pa.x=b,pa.y=c,s=a,Ha(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,\"pswp__bg\"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,\"pswp__scroll-wrap\"),f.container=e.getChildByClass(f.scrollWrap,\"pswp__container\"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display=\"none\",Wa(),r={resize:f.updateSize,orientationchange:function(){clearTimeout(O),O=setTimeout(function(){qa.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:Za,keydown:Xa,click:Ya};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c=ac())&&(m=0),f.currItem=_b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(va=!1),a.setAttribute(\"aria-hidden\",\"false\"),i.modal&&(va?a.style.position=\"fixed\":(a.style.position=\"absolute\",a.style.top=e.getScrollY()+\"px\")),void 0===M&&(Da(\"initialLayout\"),M=K=e.getScrollY());var l=\"pswp--open \";for(i.mainClass&&(l+=i.mainClass+\" \"),i.showHideOpacity&&(l+=\"pswp--animate_opacity \"),l+=G?\"pswp--touch\":\"pswp--notouch\",l+=N.animationName?\" pswp--css_animation\":\"\",l+=N.svg?\" pswp--svg\":\"\",e.addClass(a,l),f.updateSize(),o=-1,ua=null,c=0;cda.min.x?a=da.min.x:ada.min.y?b=da.min.y:b=h&&(o+=ua+(ua>0?-h:h),c=h);for(var d=0;d0?(b=y.shift(),y[h-1]=b,o++,Ja((o+2)*ta.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ja(o*ta.x,b.el.style),f.setContent(b,m+c-d-1-1));if(ea&&1===Math.abs(ua)){var e=_b(z);e.initialZoomLevel!==s&&(ic(e,qa),mc(e),Ia(e))}ua=0,f.updateCurrZoomItem(),z=m,Da(\"afterChange\")}}},updateSize:function(b){if(!va&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+\"px\",M=c),!b&&xa.x===window.innerWidth&&xa.y===window.innerHeight)return;xa.x=window.innerWidth,xa.y=window.innerHeight,a.style.height=xa.y+\"px\"}if(qa.x=f.scrollWrap.clientWidth,qa.y=f.scrollWrap.clientHeight,Za(),ta.x=qa.x+Math.round(qa.x*i.spacing),ta.y=qa.y,Ka(ta.x*ra),Da(\"beforeResize\"),void 0!==o){for(var d,g,j,k=0;k2&&(j=Aa(j)),g=_b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):d.index===-1&&j>=0&&f.setContent(d,j),g&&g.container&&(ic(g,qa),mc(g),Ia(g));x=!1}t=s=f.currItem.initialZoomLevel,da=f.currItem.bounds,da&&(pa.x=da.center.x,pa.y=da.center.y,Ha(!0)),Da(\"resize\")},zoomTo:function(a,b,c,d,f){b&&(t=s,ub.x=Math.abs(b.x)-pa.x,ub.y=Math.abs(b.y)-pa.y,Ma(oa,pa));var g=Sa(a,!1),h={};Va(\"x\",g,h,a),Va(\"y\",g,h,a);var i=s,j={x:pa.x,y:pa.y};Na(h);var k=function(b){1===b?(s=a,pa.x=h.x,pa.y=h.y):(s=(a-i)*b+i,pa.x=(h.x-j.x)*b+j.x,pa.y=(h.y-j.y)*b+j.y),f&&f(b),Ha(1===b)};c?db(\"customZoomTo\",0,1,c,d||e.easing.sine.inOut,k):k(1)}},fb=30,gb=10,hb={},ib={},jb={},kb={},lb={},mb=[],nb={},ob=[],pb={},qb=0,rb=ma(),sb=0,tb=ma(),ub=ma(),vb=ma(),wb=function(a,b){return a.x===b.x&&a.y===b.y},xb=function(a,b){return Math.abs(a.x-b.x)50){var d=ob.length>2?ob.shift():{};d.x=b,d.y=c,ob.push(d),Q=a}},Ib=function(){var a=pa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(qa.y/2))},Jb={},Kb={},Lb=[],Mb=function(a){for(;Lb.length>0;)Lb.pop();return F?(la=0,mb.forEach(function(a){0===la?Lb[0]=a:1===la&&(Lb[1]=a),la++})):a.type.indexOf(\"touch\")>-1?a.touches&&a.touches.length>0&&(Lb[0]=Fb(a.touches[0],Jb),a.touches.length>1&&(Lb[1]=Fb(a.touches[1],Kb))):(Jb.x=a.pageX,Jb.y=a.pageY,Jb.id=\"\",Lb[0]=Jb),Lb},Nb=function(a,b){var c,d,e,g,h=0,j=pa[a]+b[a],k=b[a]>0,l=tb.x+b.x,m=tb.x-nb.x;return c=j>da.min[a]||jda.min[a]&&(c=i.panEndFriction,h=da.min[a]-j,d=da.min[a]-oa[a]),(d0&&lf.currItem.fitRatio&&(pa[a]+=b[a]*c)):(void 0!==g&&(Ka(g,!0),$=g!==nb.x),da.min.x!==da.max.x&&(void 0!==e?pa.x=e:$||(pa.x+=b.x*c)),void 0!==g)},Ob=function(a){if(!(\"mousedown\"===a.type&&a.button>0)){if($b)return void a.preventDefault();if(!U||\"mousedown\"!==a.type){if(Eb(a,!0)&&a.preventDefault(),Da(\"pointerDown\"),F){var b=e.arraySearch(mb,a.pointerId,\"id\");b1&&!fa&&!$&&(t=s,X=!1,aa=W=!0,na.y=na.x=0,Ma(oa,pa),Ma(hb,c[0]),Ma(ib,c[1]),Gb(hb,ib,vb),ub.x=Math.abs(vb.x)-pa.x,ub.y=Math.abs(vb.y)-pa.y,ba=ca=yb(hb,ib))}}},Pb=function(a){if(a.preventDefault(),F){var b=e.arraySearch(mb,a.pointerId,\"id\");if(b>-1){var c=mb[b];c.x=a.pageX,c.y=a.pageY}}if(V){var d=Mb(a);if(ga||Y||aa)_=d;else if(tb.x!==ta.x*ra)ga=\"h\";else{var f=Math.abs(d[0].x-kb.x)-Math.abs(d[0].y-kb.y);Math.abs(f)>=gb&&(ga=f>0?\"h\":\"v\",_=d)}}},Qb=function(){if(_){var a=_.length;if(0!==a)if(Ma(hb,_[0]),jb.x=hb.x-kb.x,jb.y=hb.y-kb.y,aa&&a>1){if(kb.x=hb.x,kb.y=hb.y,!jb.x&&!jb.y&&wb(_[1],ib))return;Ma(ib,_[1]),X||(X=!0,Da(\"zoomGestureStarted\"));var b=yb(hb,ib),c=Vb(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ka=!0);var d=1,e=Ta(),g=Ua();if(cg&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);ds,s=c,Ha()}else{if(!ga)return;if(ha&&(ha=!1,Math.abs(jb.x)>=gb&&(jb.x-=_[0].x-lb.x),Math.abs(jb.y)>=gb&&(jb.y-=_[0].y-lb.y)),kb.x=hb.x,kb.y=hb.y,0===jb.x&&0===jb.y)return;if(\"v\"===ga&&i.closeOnVerticalDrag&&!Bb()){na.y+=jb.y,pa.y+=jb.y;var k=Ib();return T=!0,Da(\"onVerticalDrag\",k),Fa(k),void Ha()}Hb(Ea(),hb.x,hb.y),Y=!0,da=f.currItem.bounds;var l=Nb(\"x\",jb);l||(Nb(\"y\",jb),Na(pa),Ha())}}},Rb=function(a){if(N.isOldAndroid){if(U&&\"mouseup\"===a.type)return;a.type.indexOf(\"touch\")>-1&&(clearTimeout(U),U=setTimeout(function(){U=0},600))}Da(\"pointerUp\"),Eb(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(mb,a.pointerId,\"id\");if(c>-1)if(b=mb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||\"mouse\";else{var d={4:\"mouse\",2:\"touch\",3:\"pen\"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||\"mouse\")}}var g,h=Mb(a),j=h.length;if(\"mouseup\"===a.type&&(j=0),2===j)return _=null,!0;1===j&&Ma(lb,h[0]),0!==j||ga||fa||(b||(\"mouseup\"===a.type?b={x:a.pageX,y:a.pageY,type:\"mouse\"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:\"touch\"})),Da(\"touchRelease\",a,b));var k=-1;if(0===j&&(V=!1,e.unbind(window,p,f),zb(),aa?k=0:sb!==-1&&(k=Ea()-sb)),sb=1===j?Ea():-1,g=k!==-1&&k1?(a=Ea()-Q+50,b=ob[ob.length-2][d]):(a=Ea()-P,b=lb[d]),c.lastFlickOffset[d]=kb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])da.min[a]?c.backAnimDestination[a]=da.min[a]:pa[a]fb&&(h||b.lastFlickOffset.x>20)?d=-1:gtb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,qb===m&&(c=!1),fa=!0,Da(\"mainScrollAnimStart\"),db(\"mainScroll\",tb.x,l,k,e.easing.cubic.out,Ka,function(){cb(),fa=!1,qb=-1,(c||qb!==m)&&f.updateCurrItem(),Da(\"mainScrollAnimComplete\")}),c&&f.updateCurrItem(!0),c},Vb=function(a){return 1/ca*a*t},Wb=function(){var a=s,b=Ta(),c=Ua();sc&&(a=c);var d,g=1,h=ja;return ia&&!S&&!ka&&s1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Ob,r[B]=Pb,r[C]=Rb,D&&(r[D]=r[C]),N.touch&&(q+=\" mousedown\",p+=\" mousemove mouseup\",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Xb,Yb,Zb,$b,_b,ac,bc,cc=function(b,c,d,g){Xb&&clearTimeout(Xb),$b=!0,Zb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){ab(\"initialZoom\"),d?(f.template.removeAttribute(\"style\"),f.bg.removeAttribute(\"style\")):(Fa(1),c&&(c.style.display=\"block\"),e.addClass(a,\"pswp--animated-in\"),Da(\"initialZoom\"+(d?\"OutEnd\":\"InEnd\"))),g&&g(),$b=!1};if(!j||!h||void 0===h.x)return Da(\"initialZoom\"+(d?\"Out\":\"In\")),s=b.initialZoomLevel,Ma(pa,b.initialPosition),Ha(),a.style.opacity=d?0:1,Fa(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility=\"hidden\"),d||(s=h.w/b.w,pa.x=h.x,pa.y=h.y-K,f[g?\"template\":\"bg\"].style.opacity=.001,Ha()),bb(\"initialZoom\"),d&&!c&&e.removeClass(a,\"pswp--animated-in\"),g&&(d?e[(c?\"remove\":\"add\")+\"Class\"](a,\"pswp--animate_opacity\"):setTimeout(function(){e.addClass(a,\"pswp--animate_opacity\")},30)),Xb=setTimeout(function(){if(Da(\"initialZoom\"+(d?\"Out\":\"In\")),d){var f=h.w/b.w,i={x:pa.x,y:pa.y},l=s,m=ja,n=function(b){1===b?(s=f,pa.x=h.x,pa.y=h.y-M):(s=(f-l)*b+l,pa.x=(h.x-i.x)*b+i.x,pa.y=(h.y-M-i.y)*b+i.y),Ha(),g?a.style.opacity=1-b:Fa(m-b*m)};c?db(\"initialZoom\",0,1,j,e.easing.cubic.out,n,k):(n(1),Xb=setTimeout(k,j+20))}else s=b.initialZoomLevel,Ma(pa,b.initialPosition),Ha(),Fa(1),g?a.style.opacity=1:Fa(1),Xb=setTimeout(k,j+20)},d?25:90)};n()},dc={},ec=[],fc={index:0,errorMsg:'The image could not be loaded.',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Yb.length}},gc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},hc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((dc.x-b)/2),d.center.y=Math.round((dc.y-c)/2)+a.vGap.top,d.max.x=b>dc.x?Math.round(dc.x-b):d.center.x,d.max.y=c>dc.y?Math.round(dc.y-c)+a.vGap.top:d.center.y,d.min.x=b>dc.x?0:d.center.x,d.min.y=c>dc.y?a.vGap.top:d.center.y},ic=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Da(\"parseVerticalMargin\",a)),dc.x=b.x,dc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=dc.x/a.w,f=dc.y/a.h;a.fitRatio=e1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=gc())}if(!c)return;return hc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=gc(),a.initialPosition=a.bounds.center,a.bounds},jc=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,mc(b,d,b===f.currItem&&ya),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display=\"none\",b.placeholder=null)},500))},kc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl(\"pswp__img\",\"img\"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},lc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=\"\"),a.container.innerHTML=i.errorMsg.replace(\"%url%\",a.src),!0},mc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+\"px\",a.placeholder.style.height=e+\"px\"),b.style.width=d+\"px\",b.style.height=e+\"px\"}},nc=function(){if(ec.length){for(var a,b=0;b=0,e=Math.min(c[0],ac()),g=Math.min(c[1],ac());for(b=1;b1200},setContent:function(a,b){i.loop&&(b=Aa(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML=\"\");Da(\"gettingData\",b,g),a.index=b,a.item=g;var h=g.container=e.createEl(\"pswp__zoom-wrap\");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),lc(g),ic(g,qa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl(\"pswp__img\",\"img\"),d.style.opacity=1,d.src=g.src,mc(g,d),jc(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(lc(c,!0))return c.loadComplete=c.img=null,ic(c,qa),Ia(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!$b&&c.placeholder&&(c.placeholder.style.display=\"none\",c.placeholder=null):N.transform&&(fa||$b)?ec.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):jc(b,c,h,c.img,fa||$b,!0)}c.loadComplete=null,c.img=null,Da(\"imageLoadComplete\",b,c)}},e.features.transform){var k=\"pswp__img pswp__img--placeholder\";k+=g.msrc?\"\":\" pswp__img--placeholder--blank\";var l=e.createEl(k,g.msrc?\"img\":\"\");g.msrc&&(l.src=g.msrc),mc(g,l),h.appendChild(l),g.placeholder=l}g.loading||kc(g),f.allowProgressiveImg()&&(!Zb&&N.transform?ec.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):jc(b,g,h,g.img,!0,!0))}Zb||b!==m?Ia(g):(ea=h.style,cc(g,d||g.img)),a.el.innerHTML=\"\",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var oc,pc={},qc=function(a,b,c){var d=document.createEvent(\"CustomEvent\"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||\"touch\"};d.initCustomEvent(\"pswpTap\",!0,!0,e),a.target.dispatchEvent(d)};za(\"Tap\",{publicMethods:{initTap:function(){Ca(\"firstTouchStart\",f.onTapStart),Ca(\"touchRelease\",f.onTapRelease),Ca(\"destroy\",function(){pc={},oc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(oc),oc=null)},onTapRelease:function(a,b){if(b&&!Y&&!W&&!_a){var c=b;if(oc&&(clearTimeout(oc),oc=null,xb(c,pc)))return void Da(\"doubleTap\",c);if(\"mouse\"===b.type)return void qc(a,b,\"mouse\");var d=a.target.tagName.toUpperCase();if(\"BUTTON\"===d||e.hasClass(a.target,\"pswp__single-tap\"))return void qc(a,b);Ma(pc,c),oc=setTimeout(function(){qc(a,b),oc=null},300)}}}});var rc;za(\"DesktopZoom\",{publicMethods:{initDesktopZoom:function(){L||(G?Ca(\"mouseUsed\",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){rc={};var c=\"wheel mousewheel DOMMouseScroll\";Ca(\"bindEvents\",function(){e.bind(a,c,f.handleMouseWheel)}),Ca(\"unbindEvents\",function(){rc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,\"pswp--zoomed-in\"),f.mouseZoomedIn=!1),s"},{"title":"è¯´è¯´","date":"2020-12-04T02:29:02.128Z","updated":"2020-12-04T02:29:02.128Z","comments":false,"path":"shuoshuo/index.html","permalink":"https://qikaile.tk/shuoshuo/index.html","excerpt":"","text":"new Artitalk({appId:\"6wCGbu3PQykyYVRcQEMxrJJj-MdYXbMMI\",appKey:\"zLAOtHYpx8CcC6uJIRisMarI\"})"},{"title":"æ ‡ç­¾","date":"2020-03-14T06:25:44.000Z","updated":"2020-04-04T05:22:23.872Z","comments":false,"path":"tags/index.html","permalink":"https://qikaile.tk/tags/index.html","excerpt":"","text":""},{"title":"çƒ­é—¨æ–‡ç« ","date":"2020-03-16T01:26:32.000Z","updated":"2020-09-01T09:09:28.631Z","comments":false,"path":"top/index.html","permalink":"https://qikaile.tk/top/index.html","excerpt":"","text":"firebase.initializeApp({ apiKey: 'AIzaSyDwEbfgGcE1jgv3t6Hkaud-pVg-F8bZ3Ck', //ä½ çš„apiKey projectId: 'tjys20200831-f2db2' //ä½ çš„projectId }) var title= ''; var count = 0; var url = ''; const db = firebase.firestore(); var collection = 'articles'; //ä¸»é¢˜é…ç½®æ–‡ä»¶é…ç½®çš„collection //'; db.collection(collection).orderBy('count', 'desc').limit(10).get().then((querySnapshot) => { querySnapshot.forEach((doc) => { // console.log(doc.id, \" => \", doc.data()); title = doc.id; count = doc.data().count; url = doc.data().url; var content=\"\"+\"\"+\"â¤ã€æ–‡ç« çƒ­åº¦: \"+\"\"+\"\"+\"\"+count+\" â„ƒã€‘\"+\"\" + '&emsp;&emsp;' + \""},{"title":"-æ¶¦å…°è½©-","date":"2020-03-15T02:22:04.000Z","updated":"2020-12-03T01:03:55.399Z","comments":false,"path":"gallery/Runlanxuan/index.html","permalink":"https://qikaile.tk/gallery/Runlanxuan/index.html","excerpt":"","text":""},{"title":"-ç¿°å®é˜-","date":"2020-03-15T02:22:04.000Z","updated":"2020-12-03T01:04:07.149Z","comments":false,"path":"gallery/Hanbaopavilion/index.html","permalink":"https://qikaile.tk/gallery/Hanbaopavilion/index.html","excerpt":"","text":""},{"title":"-æ€¡æƒ…è½©-","date":"2020-03-15T02:22:04.000Z","updated":"2020-12-03T00:58:56.607Z","comments":false,"path":"gallery/Yiqingxuan/index.html","permalink":"https://qikaile.tk/gallery/Yiqingxuan/index.html","excerpt":"","text":""},{"title":"","date":"2020-04-20T04:18:05.722Z","updated":"2020-03-31T03:23:50.000Z","comments":true,"path":"photos/default-skin/default-skin.css","permalink":"https://qikaile.tk/photos/default-skin/default-skin.css","excerpt":"","text":"/* build time:Fri Dec 04 2020 10:40:44 GMT+0800 (GMT+08:00)*/ /*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp__button{width:44px;height:44px;position:relative;background:0 0;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;-webkit-transition:opacity .2s;transition:opacity .2s;-webkit-box-shadow:none;box-shadow:none}.pswp__button:focus,.pswp__button:hover{opacity:1}.pswp__button:active{outline:0;opacity:.9}.pswp__button::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close .pswp__button--close{opacity:1}.pswp__button,.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{background:url(default-skin.png) 0 0 no-repeat;background-size:264px 88px;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:105dpi),(min-resolution:1.1dppx){.pswp--svg .pswp__button,.pswp--svg .pswp__button--arrow--left:before,.pswp--svg .pswp__button--arrow--right:before{background-image:url(default-skin.svg)}.pswp--svg .pswp__button--arrow--left,.pswp--svg .pswp__button--arrow--right{background:0 0}}.pswp__button--close{background-position:0 -44px}.pswp__button--share{background-position:-44px -44px}.pswp__button--fs{display:none}.pswp--supports-fs .pswp__button--fs{display:block}.pswp--fs .pswp__button--fs{background-position:-44px 0}.pswp__button--zoom{display:none;background-position:-88px 0}.pswp--zoom-allowed .pswp__button--zoom{display:block}.pswp--zoomed-in .pswp__button--zoom{background-position:-132px 0}.pswp--touch .pswp__button--arrow--left,.pswp--touch .pswp__button--arrow--right{visibility:hidden}.pswp__button--arrow--left,.pswp__button--arrow--right{background:0 0;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left{left:0}.pswp__button--arrow--right{right:0}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right:before{right:6px;background-position:-94px -44px}.pswp__counter,.pswp__share-modal{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;-webkit-transition:opacity .25s ease-out;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden{display:none}.pswp__share-tooltip{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;-webkit-box-shadow:0 2px 5px rgba(0,0,0,.25);box-shadow:0 2px 5px rgba(0,0,0,.25);-webkit-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);-webkit-transition:-webkit-transform .25s;transition:transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip a{display:block;padding:8px 12px;color:#000;text-decoration:none;font-size:14px;line-height:18px}.pswp__share-tooltip a:hover{text-decoration:none;color:#000}.pswp__share-tooltip a:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip a:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in{opacity:1}.pswp__share-modal--fade-in .pswp__share-tooltip{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.pswp--touch .pswp__share-tooltip a{padding:16px 12px}a.pswp__share--facebook:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter:hover{background:#55acee;color:#fff}a.pswp__share--pinterest:hover{background:#ccc;color:#ce272d}a.pswp__share--download:hover{background:#ddd}.pswp__counter{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption small{font-size:11px;color:#bbb}.pswp__caption__center{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;color:#ccc}.pswp__caption--empty{display:none}.pswp__caption--fake{visibility:hidden}.pswp__preloader{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;-webkit-transition:opacity .25s ease-out;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn{width:20px;height:20px;margin:12px}.pswp__preloader--active{opacity:1}.pswp__preloader--active .pswp__preloader__icn{background:url(preloader.gif) 0 0 no-repeat}.pswp--css_animation .pswp__preloader--active{opacity:1}.pswp--css_animation .pswp__preloader--active .pswp__preloader__icn{-webkit-animation:clockwise .5s linear infinite;animation:clockwise .5s linear infinite}.pswp--css_animation .pswp__preloader--active .pswp__preloader__donut{-webkit-animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite;animation:donut-rotate 1s cubic-bezier(.4,0,.22,1) infinite}.pswp--css_animation .pswp__preloader__icn{background:0 0;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation .pswp__preloader__cut{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation .pswp__preloader__donut{-webkit-box-sizing:border-box;box-sizing:border-box;width:14px;height:14px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:0 0;margin:0}@media screen and (max-width:1024px){.pswp__preloader{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}100%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes donut-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}100%{-webkit-transform:rotate(0);transform:rotate(0)}}.pswp__ui{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right,.pswp__caption,.pswp__top-bar{-webkit-backface-visibility:hidden;will-change:opacity;-webkit-transition:opacity 333ms cubic-bezier(.4,0,.22,1);transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right{visibility:visible}.pswp__caption,.pswp__top-bar{background-color:rgba(0,0,0,.5)}.pswp__ui--fit .pswp__caption,.pswp__ui--fit .pswp__top-bar{background-color:rgba(0,0,0,.3)}.pswp__ui--idle .pswp__top-bar{opacity:0}.pswp__ui--idle .pswp__button--arrow--left,.pswp__ui--idle .pswp__button--arrow--right{opacity:0}.pswp__ui--hidden .pswp__button--arrow--left,.pswp__ui--hidden .pswp__button--arrow--right,.pswp__ui--hidden .pswp__caption,.pswp__ui--hidden .pswp__top-bar{opacity:.001}.pswp__ui--one-slide .pswp__button--arrow--left,.pswp__ui--one-slide .pswp__button--arrow--right,.pswp__ui--one-slide .pswp__counter{display:none}.pswp__element--disabled{display:none!important}.pswp--minimal--dark .pswp__top-bar{background:0 0} /* rebuild by neat */"}],"posts":[{"title":"markdownç¬”è®°","slug":"markdownç¬”è®°","date":"2020-06-14T16:00:00.000Z","updated":"2020-06-15T06:22:19.535Z","comments":true,"path":"markdownç¬”è®°.html","link":"","permalink":"https://qikaile.tk/markdown%E7%AC%94%E8%AE%B0.html","excerpt":"","text":"1. æ¬¢è¿ä½¿ç”¨ Cmd Markdown ç¼–è¾‘é˜…è¯»å™¨å°†ä»¥ä¸‹ä»£ç ï¼Œiconå›¾æ ‡ç”±markdownå°±ä¼šæ˜¾ç¤ºç½‘ç«™åœ°å€æˆ‘ä»¬ç†è§£æ‚¨éœ€è¦æ›´ä¾¿æ·æ›´é«˜æ•ˆçš„å·¥å…·è®°å½•æ€æƒ³ï¼Œæ•´ç†ç¬”è®°ã€çŸ¥è¯†ï¼Œå¹¶å°†å…¶ä¸­æ‰¿è½½çš„ä»·å€¼ä¼ æ’­ç»™ä»–äººï¼ŒCmd Markdown æ˜¯æˆ‘ä»¬ç»™å‡ºçš„ç­”æ¡ˆ â€”â€” æˆ‘ä»¬ä¸ºè®°å½•æ€æƒ³å’Œåˆ†äº«çŸ¥è¯†æä¾›æ›´ä¸“ä¸šçš„å·¥å…·ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ Cmd Markdownï¼šæ•´ç†çŸ¥è¯†ï¼Œå­¦ä¹ ç¬”è®°å‘å¸ƒæ—¥è®°ï¼Œæ‚æ–‡ï¼Œæ‰€è§æ‰€æƒ³æ’°å†™å‘å¸ƒæŠ€æœ¯æ–‡ç¨¿ï¼ˆä»£ç æ”¯æŒï¼‰æ’°å†™å‘å¸ƒå­¦æœ¯è®ºæ–‡ ä¸€äº›å¸¸ç”¨çš„ Emoji ç¬¦å·ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰ ğŸŒï¼šäº‘åŒæ­¥é€Ÿåº¦è®©äººå¤±æœ›ï¼Œç”¨æˆ·ä½“éªŒæ„Ÿä¸ä½³ğŸ“±ï¼šå¯¹è‹¹æœç³»ç»Ÿç”¨æˆ·ä¸å‹å¥½ï¼Œç§»åŠ¨ç«¯ä½¿ç”¨æ„Ÿå·®ğŸ˜­ï¼šå­¦ä¹ é—¨æ§›é«˜ï¼Œåˆå­¦è€…ä¸æ˜“ä¸Šæ‰‹â™ï¼šç¬”è®°æ’ç‰ˆæ··ä¹±ï¼Œå§‹ç»ˆä¸çŸ¥é“è¯¥æ€æ ·å¯¹é½âœ¨ï¼šåŠŸèƒ½ã€‚ğŸŒ¼ğŸ·ğŸ€æœˆä¹‹å½±âœ¨ğŸŒ™âœ¨ ä»‹ç»ï¼šğŸµä¹éšå¿ƒåŠ¨......ğŸŒ™âœ¨ğŸŒ¼ğŸƒ âœŒğŸˆšâ˜‘â˜’ğŸ”˜â˜…â˜€âœ…æ–‡æœ¬å›¾æ ‡é“¾æ¥ğŸ“–æ‰“å¼€çš„ä¹¦ ğŸ“šå›¾ä¹¦ ğŸ”–ä¹¦ç­¾ ğŸ““ç¬”è®°æœ¬J(\\theta) = \\frac 1 2 \\sum_{i=1}^m (h_\\theta(x^{(i)})-y^{(i)})^2æ¢è¡Œå’Œæ®µè½å¦‚æœéœ€è¦æ¢è¡Œï¼Œæ‚¨åº”è¯¥åœ¨å½“å‰è¡Œæœ«å°¾æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ï¼Œç„¶åæ¢è¡Œã€‚VNoteæä¾›å¿«æ·é”®Shift+Enteræ¥è¾…åŠ©ç”¨æˆ·è¾“å…¥ä¸¤ä¸ªç©ºæ ¼å¹¶æ¢è¡Œã€‚å¦‚æœéœ€è¦ä¸€ä¸ªæ–°çš„æ®µè½ï¼Œæ‚¨åº”è¯¥å…ˆæ’å…¥ä¸€ä¸ªç©ºè¡Œç„¶åæ‰è¾“å…¥æ–°çš„æ®µè½çš„æ–‡æœ¬ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ‚¨åº”è¯¥åœ¨ä¸€ä¸ªå—å…ƒç´ ï¼ˆä¾‹å¦‚ä»£ç å—ã€åˆ—è¡¨å’Œå—å¼•ç”¨ï¼‰åé¢æ’å…¥ä¸€ä¸ªç©ºè¡Œæ¥æ˜¾å¼ç»“æŸè¯¥å…ƒç´ ã€‚è¯¥æŒ‡å—å‚è€ƒäº† Mastering Markdowné™¤äº†æ‚¨ç°åœ¨çœ‹åˆ°çš„è¿™ä¸ª Cmd Markdown åœ¨çº¿ç‰ˆæœ¬ï¼Œæ‚¨è¿˜å¯ä»¥å‰å¾€ä»¥ä¸‹ç½‘å€ä¸‹è½½ï¼š1.1.1. Windows/Mac/Linux å…¨å¹³å°å®¢æˆ·ç«¯è¯·ä¿ç•™æ­¤ä»½ Cmd Markdown çš„æ¬¢è¿ç¨¿å…¼ä½¿ç”¨è¯´æ˜ï¼Œå¦‚éœ€æ’°å†™æ–°ç¨¿ä»¶ï¼Œç‚¹å‡»é¡¶éƒ¨å·¥å…·æ å³ä¾§çš„ æ–°æ–‡ç¨¿ æˆ–è€…ä½¿ç”¨å¿«æ·é”® Ctrl+Alt+Nã€‚1.2. ä»€ä¹ˆæ˜¯ MarkdownMarkdown æ˜¯ä¸€ç§æ–¹ä¾¿è®°å¿†ã€ä¹¦å†™çš„çº¯æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿™äº›æ ‡è®°ç¬¦å·ä»¥æœ€å°çš„è¾“å…¥ä»£ä»·ç”Ÿæˆæå¯Œè¡¨ç°åŠ›çš„æ–‡æ¡£ï¼šè­¬å¦‚æ‚¨æ­£åœ¨é˜…è¯»çš„è¿™ä»½æ–‡æ¡£ã€‚å®ƒä½¿ç”¨ç®€å•çš„ç¬¦å·æ ‡è®°ä¸åŒçš„æ ‡é¢˜ï¼Œåˆ†å‰²ä¸åŒçš„æ®µè½ï¼Œç²—ä½“ æˆ–è€… æ–œä½“ æŸäº›æ–‡å­—ï¼Œæ›´æ£’çš„æ˜¯ï¼Œå®ƒè¿˜å¯ä»¥1.2.1. åˆ¶ä½œä¸€ä»½å¾…åŠäº‹å®œ Todo åˆ—è¡¨[ ] æ”¯æŒä»¥ PDF æ ¼å¼å¯¼å‡ºæ–‡ç¨¿[ ] æ”¹è¿› Cmd æ¸²æŸ“ç®—æ³•ï¼Œä½¿ç”¨å±€éƒ¨æ¸²æŸ“æŠ€æœ¯æé«˜æ¸²æŸ“æ•ˆç‡[x] æ–°å¢ Todo åˆ—è¡¨åŠŸèƒ½[x] ä¿®å¤ LaTex å…¬å¼æ¸²æŸ“é—®é¢˜[x] æ–°å¢ LaTex å…¬å¼ç¼–å·åŠŸèƒ½1.2.2. ä¹¦å†™ä¸€ä¸ªè´¨èƒ½å®ˆæ’å…¬å¼LaTeXThis is the 1^st^ superscript.ä¸Šä¸‹æ ‡E=mc^2é¢œè‰²çš„æ ‡è®°çº¢è‰²::: alert-primaryè¿™æ˜¯ä¸€ä¸ªåŸºç¡€æ–‡æœ¬ã€‚:::::: alert-successè¿™æ˜¯ä¸€ä¸ªæˆåŠŸæ–‡æœ¬ã€‚:::::: alert-infoè¿™æ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡æœ¬ã€‚:::::: alert-dangerè¿™æ˜¯ä¸€ä¸ªå±é™©æ–‡æœ¬ã€‚:::1.2.3. é«˜äº®ä¸€æ®µä»£ç code1234567@requires_authorizationclass SomeClass: passif __name__ == '__main__': # A comment print 'hello world'1.2.4. é«˜æ•ˆç»˜åˆ¶ æµç¨‹å›¾123456789st&#x3D;&gt;start: å¼€å§‹æ¡†op&#x3D;&gt;operation: å¤„ç†æ¡†cond&#x3D;&gt;condition: åˆ¤æ–­æ¡†(æ˜¯æˆ–å¦?)sub1&#x3D;&gt;subroutine: å­æµç¨‹io&#x3D;&gt;inputoutput: è¾“å…¥è¾“å‡ºæ¡†e&#x3D;&gt;end: ç»“æŸæ¡†st-&gt;op-&gt;condcond(yes)-&gt;io-&gt;econd(no)-&gt;sub1(right)-&gt;op123456graph TDA[æ¨¡å—A] --&gt;|A1| B(æ¨¡å—B)B --&gt; C&#123;åˆ¤æ–­æ¡ä»¶C&#125;C --&gt;|æ¡ä»¶C1| D&gt;æ¨¡å—D]C --&gt;|æ¡ä»¶C2| E((æ¨¡å—E))C --&gt;|æ¡ä»¶C3| F[&quot;æ¨¡å—F(å¼•å·å¯è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦)&quot;]1.2.5. é«˜æ•ˆç»˜åˆ¶ åºåˆ—å›¾12345%% æ—¶åºå›¾ä¾‹å­,-&gt; ç›´çº¿ï¼Œ--&gt;è™šçº¿ï¼Œ-&gt;&gt;å®çº¿ç®­å¤´sequenceDiagramAlice-&gt;&gt;Bob: Hello Bob, how are you?Note right of Bob: Bob thinksBob--&gt;&gt;Alice: I am good thanks!1234@startumlBob -[#red]&gt; Alice : helloAlice -[#0000FF]-&gt;Bob : ok@enduml123456789101112131415@startuml!include &lt;cloudinsight&#x2F;tomcat&gt;!include &lt;cloudinsight&#x2F;kafka&gt;!include &lt;cloudinsight&#x2F;java&gt;!include &lt;cloudinsight&#x2F;cassandra&gt;title Cloudinsight sprites exampleskinparam monochrome truerectangle &quot;&lt;$tomcat&gt;\\nwebapp&quot; as webappqueue &quot;&lt;$kafka&gt;&quot; as kafkarectangle &quot;&lt;$java&gt;\\ndaemon&quot; as daemondatabase &quot;&lt;$cassandra&gt;&quot; as cassandrawebapp -&gt; kafkakafka -&gt; daemondaemon --&gt; cassandra@enduml1.2.6. é«˜æ•ˆç»˜åˆ¶ ç”˜ç‰¹å›¾1234567891011121314gantt title é¡¹ç›®å¼€å‘æµç¨‹ section é¡¹ç›®ç¡®å®š éœ€æ±‚åˆ†æ :a1, 2016-06-22, 5d å¯è¡Œæ€§æŠ¥å‘Š :after a1, 5d æ¦‚å¿µéªŒè¯ : 5d section é¡¹ç›®å®æ–½ æ¦‚è¦è®¾è®¡ :2016-07-05 , 5d è¯¦ç»†è®¾è®¡ :2016-07-08, 10d ç¼–ç  :2016-07-15, 10d æµ‹è¯• :2016-07-22, 5d section å‘å¸ƒéªŒæ”¶ å‘å¸ƒ: 2d éªŒæ”¶: 3d1.2.7. ç»˜åˆ¶è¡¨æ ¼é¡¹ç›®ä»·æ ¼æ•°é‡è®¡ç®—æœº\\$16005æ‰‹æœº\\$1212ç®¡çº¿\\$12341.2.8. æ•°å­—æ—¶åºå›¾1234567&#123;signal: [ &#123;name: &#39;clk&#39;, wave: &#39;p.....|...&#39;&#125;, &#123;name: &#39;dat&#39;, wave: &#39;x.345x|&#x3D;.x&#39;, data: [&#39;head&#39;, &#39;body&#39;, &#39;tail&#39;, &#39;data&#39;]&#125;, &#123;name: &#39;req&#39;, wave: &#39;0.1..0|1.0&#39;&#125;, &#123;&#125;, &#123;name: &#39;ack&#39;, wave: &#39;1.....|01.&#39;&#125;]&#125;1.2.9. é¥¼å›¾123456pie title åŠ¨ç‰©æ•° &quot;Dogs&quot; : 356 &quot;Cats&quot; : 85 &quot;Rats&quot; : 150 &quot;Cows&quot; : 1501.2.10. æ›´è¯¦ç»†è¯­æ³•è¯´æ˜æƒ³è¦æŸ¥çœ‹æ›´è¯¦ç»†çš„è¯­æ³•è¯´æ˜ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä»¬å‡†å¤‡çš„ Cmd Markdown ç®€æ˜è¯­æ³•æ‰‹å†Œï¼Œè¿›é˜¶ç”¨æˆ·å¯ä»¥å‚è€ƒ Cmd Markdown é«˜é˜¶è¯­æ³•æ‰‹å†Œ äº†è§£æ›´å¤šé«˜çº§åŠŸèƒ½ã€‚æ€»è€Œè¨€ä¹‹ï¼Œä¸åŒäºå…¶å®ƒ æ‰€è§å³æ‰€å¾— çš„ç¼–è¾‘å™¨ï¼šä½ åªéœ€ä½¿ç”¨é”®ç›˜ä¸“æ³¨äºä¹¦å†™æ–‡æœ¬å†…å®¹ï¼Œå°±å¯ä»¥ç”Ÿæˆå°åˆ·çº§çš„æ’ç‰ˆæ ¼å¼ï¼Œçœå´åœ¨é”®ç›˜å’Œå·¥å…·æ ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œè°ƒæ•´å†…å®¹å’Œæ ¼å¼çš„éº»çƒ¦ã€‚Markdown åœ¨æµç•…çš„ä¹¦å†™å’Œå°åˆ·çº§çš„é˜…è¯»ä½“éªŒä¹‹é—´æ‰¾åˆ°äº†å¹³è¡¡ã€‚ ç›®å‰å®ƒå·²ç»æˆä¸ºä¸–ç•Œä¸Šæœ€å¤§çš„æŠ€æœ¯åˆ†äº«ç½‘ç«™ GitHub å’Œ æŠ€æœ¯é—®ç­”ç½‘ç«™ StackOverFlow çš„å¾¡ç”¨ä¹¦å†™æ ¼å¼ã€‚1.3. ä»€ä¹ˆæ˜¯ Cmd Markdownæ‚¨å¯ä»¥ä½¿ç”¨å¾ˆå¤šå·¥å…·ä¹¦å†™ Markdownï¼Œä½†æ˜¯ Cmd Markdown æ˜¯è¿™ä¸ªæ˜Ÿçƒä¸Šæˆ‘ä»¬å·²çŸ¥çš„ã€æœ€å¥½çš„ Markdown å·¥å…·â€”â€”æ²¡æœ‰ä¹‹ä¸€ ï¼šï¼‰å› ä¸ºæ·±ä¿¡æ–‡å­—çš„åŠ›é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å’Œä½ ä¸€æ ·ï¼Œå¯¹æµç•…ä¹¦å†™ï¼Œåˆ†äº«æ€æƒ³å’ŒçŸ¥è¯†ï¼Œä»¥åŠé˜…è¯»ä½“éªŒæœ‰æè‡´çš„è¿½æ±‚ï¼Œæˆ‘ä»¬æŠŠå¯¹äºè¿™äº›è¯‰æ±‚çš„å›åº”æ•´åˆåœ¨ Cmd Markdownï¼Œå¹¶ä¸”ä¸€æ¬¡ï¼Œä¸¤æ¬¡ï¼Œä¸‰æ¬¡ï¼Œä¹ƒè‡³æ— æ•°æ¬¡åœ°æå‡è¿™ä¸ªå·¥å…·çš„ä½“éªŒï¼Œæœ€ç»ˆå°†å®ƒæ¼”åŒ–æˆä¸€ä¸ª ç¼–è¾‘/å‘å¸ƒ/é˜…è¯» Markdown çš„åœ¨çº¿å¹³å°â€”â€”æ‚¨å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ï¼Œä»»ä½•ç³»ç»Ÿ/è®¾å¤‡ä¸Šç®¡ç†è¿™é‡Œçš„æ–‡å­—ã€‚1.3.1. å®æ—¶åŒæ­¥é¢„è§ˆæˆ‘ä»¬å°† Cmd Markdown çš„ä¸»ç•Œé¢ä¸€åˆ†ä¸ºäºŒï¼Œå·¦è¾¹ä¸ºç¼–è¾‘åŒºï¼Œå³è¾¹ä¸ºé¢„è§ˆåŒºï¼Œåœ¨ç¼–è¾‘åŒºçš„æ“ä½œä¼šå®æ—¶åœ°æ¸²æŸ“åˆ°é¢„è§ˆåŒºæ–¹ä¾¿æŸ¥çœ‹æœ€ç»ˆçš„ç‰ˆé¢æ•ˆæœï¼Œå¹¶ä¸”å¦‚æœä½ åœ¨å…¶ä¸­ä¸€ä¸ªåŒºæ‹–åŠ¨æ»šåŠ¨æ¡ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå·§å¦™çš„ç®—æ³•æŠŠå¦ä¸€ä¸ªåŒºçš„æ»šåŠ¨æ¡åŒæ­¥åˆ°ç­‰ä»·çš„ä½ç½®ï¼Œè¶…é…·ï¼1.3.2. ç¼–è¾‘å·¥å…·æ ä¹Ÿè®¸æ‚¨è¿˜æ˜¯ä¸€ä¸ª Markdown è¯­æ³•çš„æ–°æ‰‹ï¼Œåœ¨æ‚¨å®Œå…¨ç†Ÿæ‚‰å®ƒä¹‹å‰ï¼Œæˆ‘ä»¬åœ¨ ç¼–è¾‘åŒº çš„é¡¶éƒ¨æ”¾ç½®äº†ä¸€ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„å·¥å…·æ ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é¼ æ ‡åœ¨å·¥å…·æ ä¸Šè°ƒæ•´æ ¼å¼ï¼Œä¸è¿‡æˆ‘ä»¬ä»æ—§é¼“åŠ±ä½ ä½¿ç”¨é”®ç›˜æ ‡è®°æ ¼å¼ï¼Œæé«˜ä¹¦å†™çš„æµç•…åº¦ã€‚1.3.3. ç¼–è¾‘æ¨¡å¼å®Œå…¨å¿ƒæ— æ—éª›çš„æ–¹å¼ç¼–è¾‘æ–‡å­—ï¼šç‚¹å‡» ç¼–è¾‘å·¥å…·æ  æœ€å³ä¾§çš„æ‹‰ä¼¸æŒ‰é’®æˆ–è€…æŒ‰ä¸‹ Ctrl + Mï¼Œå°† Cmd Markdown åˆ‡æ¢åˆ°ç‹¬ç«‹çš„ç¼–è¾‘æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªæåº¦ç®€æ´çš„å†™ä½œç¯å¢ƒï¼Œæ‰€æœ‰å¯èƒ½ä¼šå¼•èµ·åˆ†å¿ƒçš„å…ƒç´ éƒ½å·²ç»è¢«æŒªé™¤ï¼Œè¶…æ¸…çˆ½ï¼1.3.4. å®æ—¶çš„äº‘ç«¯æ–‡ç¨¿ä¸ºäº†ä¿éšœæ•°æ®å®‰å…¨ï¼ŒCmd Markdown ä¼šå°†æ‚¨æ¯ä¸€æ¬¡å‡»é”®çš„å†…å®¹ä¿å­˜è‡³äº‘ç«¯ï¼ŒåŒæ—¶åœ¨ ç¼–è¾‘å·¥å…·æ  çš„æœ€å³ä¾§æç¤º å·²ä¿å­˜ çš„å­—æ ·ã€‚æ— éœ€æ‹…å¿ƒæµè§ˆå™¨å´©æºƒï¼Œæœºå™¨æ‰ç”µæˆ–è€…åœ°éœ‡ï¼Œæµ·å•¸â€”â€”åœ¨ç¼–è¾‘çš„è¿‡ç¨‹ä¸­éšæ—¶å…³é—­æµè§ˆå™¨æˆ–è€…æœºå™¨ï¼Œä¸‹ä¸€æ¬¡å›åˆ° Cmd Markdown çš„æ—¶å€™ç»§ç»­å†™ä½œã€‚1.3.5. ç¦»çº¿æ¨¡å¼åœ¨ç½‘ç»œç¯å¢ƒä¸ç¨³å®šçš„æƒ…å†µä¸‹è®°å½•æ–‡å­—ä¸€æ ·å¾ˆå®‰å…¨ï¼åœ¨æ‚¨å†™ä½œçš„æ—¶å€™ï¼Œå¦‚æœç”µè„‘çªç„¶å¤±å»ç½‘ç»œè¿æ¥ï¼ŒCmd Markdown ä¼šæ™ºèƒ½åˆ‡æ¢è‡³ç¦»çº¿æ¨¡å¼ï¼Œå°†æ‚¨åç»­é”®å…¥çš„æ–‡å­—ä¿å­˜åœ¨æœ¬åœ°ï¼Œç›´åˆ°ç½‘ç»œæ¢å¤å†å°†ä»–ä»¬ä¼ é€è‡³äº‘ç«¯ï¼Œå³ä½¿åœ¨ç½‘ç»œæ¢å¤å‰å…³é—­æµè§ˆå™¨æˆ–è€…ç”µè„‘ï¼Œä¸€æ ·æ²¡æœ‰é—®é¢˜ï¼Œç­‰åˆ°ä¸‹æ¬¡å¼€å¯ Cmd Markdown çš„æ—¶å€™ï¼Œå¥¹ä¼šæé†’æ‚¨å°†ç¦»çº¿ä¿å­˜çš„æ–‡å­—ä¼ é€è‡³äº‘ç«¯ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å°½æœ€å¤§çš„åŠªåŠ›ä¿éšœæ‚¨æ–‡å­—çš„å®‰å…¨ã€‚1.3.6. ç®¡ç†å·¥å…·æ ä¸ºäº†ä¾¿äºç®¡ç†æ‚¨çš„æ–‡ç¨¿ï¼Œåœ¨ é¢„è§ˆåŒº çš„é¡¶éƒ¨æ”¾ç½®äº†å¦‚ä¸‹æ‰€ç¤ºçš„ ç®¡ç†å·¥å…·æ ï¼šé€šè¿‡ç®¡ç†å·¥å…·æ å¯ä»¥ï¼š&lt;/i&gt; å‘å¸ƒï¼šå°†å½“å‰çš„æ–‡ç¨¿ç”Ÿæˆå›ºå®šé“¾æ¥ï¼Œåœ¨ç½‘ç»œä¸Šå‘å¸ƒï¼Œåˆ†äº« æ–°å»ºï¼šå¼€å§‹æ’°å†™ä¸€ç¯‡æ–°çš„æ–‡ç¨¿&lt;/i&gt; åˆ é™¤ï¼šåˆ é™¤å½“å‰çš„æ–‡ç¨¿ å¯¼å‡ºï¼šå°†å½“å‰çš„æ–‡ç¨¿è½¬åŒ–ä¸º Markdown æ–‡æœ¬æˆ–è€… Html æ ¼å¼ï¼Œå¹¶å¯¼å‡ºåˆ°æœ¬åœ°&lt;/i&gt; åˆ—è¡¨ï¼šæ‰€æœ‰æ–°å¢å’Œè¿‡å¾€çš„æ–‡ç¨¿éƒ½å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ã€æ“ä½œ æ¨¡å¼ï¼šåˆ‡æ¢ æ™®é€š/Vim/Emacs ç¼–è¾‘æ¨¡å¼1.3.7. é˜…è¯»å·¥å…·æ é€šè¿‡ é¢„è§ˆåŒº å³ä¸Šè§’çš„ é˜…è¯»å·¥å…·æ ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰æ–‡ç¨¿çš„ç›®å½•å¹¶å¢å¼ºé˜…è¯»ä½“éªŒã€‚å·¥å…·æ ä¸Šçš„äº”ä¸ªå›¾æ ‡ä¾æ¬¡ä¸ºï¼š&lt;/i&gt; ç›®å½•ï¼šå¿«é€Ÿå¯¼èˆªå½“å‰æ–‡ç¨¿çš„ç›®å½•ç»“æ„ä»¥è·³è½¬åˆ°æ„Ÿå…´è¶£çš„æ®µè½ è§†å›¾ï¼šäº’æ¢å·¦è¾¹ç¼–è¾‘åŒºå’Œå³è¾¹é¢„è§ˆåŒºçš„ä½ç½®&lt;/i&gt; ä¸»é¢˜ï¼šå†…ç½®äº†é»‘ç™½ä¸¤ç§æ¨¡å¼çš„ä¸»é¢˜ï¼Œè¯•è¯• é»‘è‰²ä¸»é¢˜ï¼Œè¶…ç‚«ï¼ é˜…è¯»ï¼šå¿ƒæ— æ—éª›çš„é˜…è¯»æ¨¡å¼æä¾›è¶…ä¸€æµçš„é˜…è¯»ä½“éªŒ å…¨å±ï¼šç®€æ´ï¼Œç®€æ´ï¼Œå†ç®€æ´ï¼Œä¸€ä¸ªå®Œå…¨æ²‰æµ¸å¼çš„å†™ä½œå’Œé˜…è¯»ç¯å¢ƒ1.3.8. é˜…è¯»æ¨¡å¼åœ¨ é˜…è¯»å·¥å…·æ  ç‚¹å‡» æˆ–è€…æŒ‰ä¸‹ Ctrl+Alt+M éšå³è¿›å…¥ç‹¬ç«‹çš„é˜…è¯»æ¨¡å¼ç•Œé¢ï¼Œæˆ‘ä»¬åœ¨ç‰ˆé¢æ¸²æŸ“ä¸Šçš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼šå­—ä½“ï¼Œå­—å·ï¼Œè¡Œé—´è·ï¼Œå‰èƒŒæ™¯è‰²éƒ½å€¾æ³¨äº†å¤§é‡çš„æ—¶é—´ï¼ŒåŠªåŠ›æå‡é˜…è¯»çš„ä½“éªŒå’Œå“è´¨ã€‚1.3.9. æ ‡ç­¾ã€åˆ†ç±»å’Œæœç´¢åœ¨ç¼–è¾‘åŒºä»»æ„è¡Œé¦–ä½ç½®è¾“å…¥ä»¥ä¸‹æ ¼å¼çš„æ–‡å­—å¯ä»¥æ ‡ç­¾å½“å‰æ–‡æ¡£ï¼šæ ‡ç­¾ï¼š æœªåˆ†ç±»æ ‡ç­¾ä»¥åçš„æ–‡ç¨¿åœ¨ã€æ–‡ä»¶åˆ—è¡¨ã€‘ï¼ˆCtrl+Alt+Fï¼‰é‡Œä¼šæŒ‰ç…§æ ‡ç­¾åˆ†ç±»ï¼Œç”¨æˆ·å¯ä»¥åŒæ—¶ä½¿ç”¨é”®ç›˜æˆ–è€…é¼ æ ‡æµè§ˆæŸ¥çœ‹ï¼Œæˆ–è€…åœ¨ã€æ–‡ä»¶åˆ—è¡¨ã€‘çš„æœç´¢æ–‡æœ¬æ¡†å†…æœç´¢æ ‡é¢˜å…³é”®å­—è¿‡æ»¤æ–‡ç¨¿ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š1.3.10. æ–‡ç¨¿å‘å¸ƒå’Œåˆ†äº«åœ¨æ‚¨ä½¿ç”¨ Cmd Markdown è®°å½•ï¼Œåˆ›ä½œï¼Œæ•´ç†ï¼Œé˜…è¯»æ–‡ç¨¿çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¸ä»…å¸Œæœ›å®ƒæ˜¯ä¸€ä¸ªæœ‰åŠ›çš„å·¥å…·ï¼Œæ›´å¸Œæœ›æ‚¨çš„æ€æƒ³å’ŒçŸ¥è¯†é€šè¿‡è¿™ä¸ªå¹³å°ï¼Œè¿åŒä¼˜è´¨çš„é˜…è¯»ä½“éªŒï¼Œå°†ä»–ä»¬åˆ†äº«ç»™æœ‰ç›¸åŒå¿—è¶£çš„äººï¼Œè¿›è€Œé¼“åŠ±æ›´å¤šçš„äººæ¥åˆ°è¿™é‡Œè®°å½•åˆ†äº«ä»–ä»¬çš„æ€æƒ³å’ŒçŸ¥è¯†ï¼Œå°è¯•ç‚¹å‡» (Ctrl+Alt+P) å‘å¸ƒè¿™ä»½æ–‡æ¡£ç»™å¥½å‹å§ï¼å†ä¸€æ¬¡æ„Ÿè°¢æ‚¨èŠ±è´¹æ—¶é—´é˜…è¯»è¿™ä»½æ¬¢è¿ç¨¿ï¼Œç‚¹å‡» (Ctrl+Alt+N) å¼€å§‹æ’°å†™æ–°çš„æ–‡ç¨¿å§ï¼ç¥æ‚¨åœ¨è¿™é‡Œè®°å½•ã€é˜…è¯»ã€åˆ†äº«æ„‰å¿«ï¼ä½œè€… @ghosert2016 å¹´ 07æœˆ 07æ—¥LaTeX. æ”¯æŒ LaTeX ç¼–è¾‘æ˜¾ç¤ºæ”¯æŒï¼Œä¾‹å¦‚ï¼š$\\sum_{i=1}^n a_i=0$ï¼Œ è®¿é—® MathJax å‚è€ƒæ›´å¤šä½¿ç”¨æ–¹æ³•ã€‚ &#8617;code. ä»£ç é«˜äº®åŠŸèƒ½æ”¯æŒåŒ…æ‹¬ Java, Python, JavaScript åœ¨å†…çš„ï¼Œå››åä¸€ç§ä¸»æµç¼–ç¨‹è¯­è¨€ã€‚ &#8617; ã€å¾®ä¿¡ã€‘ğŸ’¥ ã€å˜åŒ–ã€‘ğŸ ã€é”™è¯¯ã€‘ğŸ“– ã€æ–‡æ¡£ã€‘ğŸŒ€ ã€æ”¹å˜ã€‘ğŸŒ ã€æœ¬åœ°åŒ–ã€‘http://emojihomepage.com/ğŸ“˜ â„¹","categories":[],"tags":[]},{"title":"PSåŠŸèƒ½ç²¾é€šè¯¾","slug":"PSåŠŸèƒ½ç²¾é€šè¯¾","date":"2020-03-27T16:00:00.000Z","updated":"2020-04-04T08:34:26.719Z","comments":true,"path":"PSåŠŸèƒ½ç²¾é€šè¯¾.html","link":"","permalink":"https://qikaile.tk/PS%E5%8A%9F%E8%83%BD%E7%B2%BE%E9%80%9A%E8%AF%BE.html","excerpt":"","text":"æˆ‘ç”¨åŒæ‰‹æˆå°±ä½ çš„æ¢¦æƒ³è¯¾ç¨‹ç»“æ„ç²¾é€š14èŠ‚+æå‡22èŠ‚+å®æˆ˜36èŠ‚äº¤ä½œä¸šMç«™ï¼šm.dapengjiaoyu.comä¸Šä¼ å›¾ç‰‡æ ¼å¼ï¼šJPGå•å¼ ä½œä¸šä¸å¯å¤§è¿‡2Mã€æœ€å¤šä¸Šä¼ 9å¼ ã€9å¼ ä¸å¯å¤§è¿‡9Mè®¤è¯†è½¯ä»¶ç¾å›½Adobeå…¬å¸å¼€å‘ ä¸­æ–‡ï¼šå¥¥å¤šæ¯”PSï¼šä½å›¾çš„å¤„ç†è½¯ä»¶ä½å›¾ï¼šå›¾ç‰‡ç¼©å°æ‹‰å¤§ä¹‹åå›¾åƒä¼šå¤±çœŸã€è‰²å½©è¡¨ç°åŠ›å¥½ï¼Œæ–‡ä»¶å¤§PSçš„ä½¿ç”¨æ–¹å‘ï¼šæ‘„å½±åæœŸã€æ•ˆæœå›¾çš„åæœŸå¤„ç†ã€å›¾åƒåˆæˆã€ç”µå½±æµ·æŠ¥ã€ç”µå•†ã€ç½‘é¡µè®¾è®¡ã€UIè®¾è®¡ã€ç­‰ç­‰â€¦å¾ˆå¤šæ–¹é¢ï¼Œè¾ƒä¸ºå¹¿æ³›Aiï¼šçŸ¢é‡å›¾çš„å¤„ç†è½¯ä»¶çŸ¢é‡å›¾ï¼šå›¾ç‰‡ç¼©å°æ‹‰å¤§ä¹‹åå›¾åƒä¸ä¼šå¤±çœŸã€è‰²å½©è¡¨ç°ä¸å¦‚psç»†è…»ã€å±‚æ¬¡æ„Ÿä¸å¼ºã€æ–‡ä»¶å°Aiçš„ä½¿ç”¨æ–¹å‘ï¼šå°åˆ·ï¼ˆåç‰‡ï¼‰ã€åŒ…è£…ç›’çš„è®¾è®¡åˆ¶ä½œã€ä¼ä¸šVIæ‰‹å†Œè®¾è®¡ï¼ˆä¼ä¸šå½¢è±¡è¯†åˆ«ç³»ç»Ÿï¼‰ã€LOGOè®¾è®¡ç­‰IDï¼šä¸“ä¸šä¹¦ç±æ’ç‰ˆè½¯ä»¶IDçš„ä½¿ç”¨æ–¹å‘ï¼šæ‚å¿—ã€å¹¿å‘Šè®¾è®¡ã€ç›®å½•ã€é›¶å”®å•†è®¾è®¡å·¥ä½œå®¤å’ŒæŠ¥çº¸å‡ºç‰ˆæ–¹æ¡ˆç­‰PSåŸºæœ¬æ“ä½œ1.æ–°å»ºç”»å¸ƒï¼ˆå¿«æ·é”®Ctrl+Nï¼‰â‘ åˆ†è¾¨ç‡ï¼šæ‰“å°æ—¶ç”¨300åˆ†è¾¨ç‡(å¤§å°ºå¯¸è®¾è®¡ç¨¿åˆ†æ¯”ç‡ä¼šæ ¹æ®å…·ä½“æƒ…å†µå˜å°)ï¼›å±å¹•æ˜¾ç¤ºæ—¶ç”¨72åˆ†è¾¨ç‡â‘¡é¢œè‰²æ¨¡å¼ï¼šæ˜¾ç¤ºæ—¶ç”¨RGB RGBä»£è¡¨çº¢ç»¿è“â€‹ æ‰“å°æ—¶ç”¨CMYK CMYKä»£è¡¨é’ã€å“çº¢ã€é»„ã€é»‘2.æ‰“å¼€ï¼ˆåœ¨å·¥ä½œåŒºåŸŸå¤–ï¼‰â‘ æ–‡ä»¶â€”â€”æ‰“å¼€ï¼ˆå¿«æ·é”®Ctrl+Oï¼‰â‘¡æ‹–æ‹½æ‰“å¼€ï¼šåœ¨è®¡ç®—æœºé‡Œé€‰ä¸­éœ€è¦æ‰“å¼€çš„æ–‡ä»¶ç‚¹å‡»å¹¶æ‹–æ‹½è‡³pså›¾æ ‡ä¸Šï¼Œç„¶åç§»åŠ¨åˆ°èœå•æ æˆ–å±æ€§æ 3.ç½®å…¥ï¼ˆåœ¨å·¥ä½œåŒºåŸŸå†…ï¼‰ï¼šæ‹–æ‹½åˆ°ç”»å¸ƒä¸­ï¼Œéœ€ç¡®å®šç½®å…¥å‘½ä»¤ï¼Œå¯ç›´æ¥æŒ‰å›è½¦Enterç¡®å®š4.ä¿å­˜ï¼ˆå¿«æ·é”®Ctrl+Sï¼‰ï¼šæ ¼å¼psdç•™ç»™è®¾è®¡å¸ˆè‡ªå·±çš„æºæ–‡ä»¶å¯å†æ¬¡ä¿®æ”¹ï¼Œ Jpgå›¾ç‰‡æ ¼å¼ ä¸å¯ä¿®æ”¹ï¼Œ pngé€åº•å›¾ èƒŒæ™¯é€æ˜5.å¦å­˜ä¸ºï¼šå¿«æ·é”®Ctrl+Shift+S6.å­˜å‚¨ä¸ºwebæ‰€ç”¨æ ¼å¼ï¼šå¿«æ·é”®Ctrl+Shift+Alt+Sï¼ˆå¯ä»¥æ›´æ”¹ç´ æè´¨é‡å¤§å°ï¼Œä¼˜åŒ–æ–‡ä»¶å¤§å°ï¼‰7.è°ƒæ•´psï¼šç¼–è¾‘â€”é¦–é€‰é¡¹â€”æš‚å­˜ç›˜ å¿«æ·é”®Ctrl+Kå‹¾é€‰æ‰€æœ‰ç¡¬ç›˜å¯ç¼“è§£å¡é¡¿å¿«æ·é”®æ•´ç†æ–°å»ºç”»å¸ƒï¼šCtrl+Næ‰“å¼€ï¼šCtrl+Oä¿å­˜ï¼šCtrl+Så¦å­˜ä¸ºï¼šCtrl+Shift+Så­˜å‚¨ä¸ºwebæ‰€ç”¨æ ¼å¼ï¼šCtrl+Shift+Alt+Sæ­å¼€psçš„ç¥ç§˜é¢çº±ç”»å¸ƒæ“ä½œ1.æ”¾å¤§ç¼©å°ç”»å¸ƒï¼šAlt+é¼ æ ‡æ»šè½® æˆ– Ctrl+åŠ å‡é”® æˆ–ç¼©æ”¾å·¥å…·ï¼ˆAltç¼©å°ï¼‰2.ç™¾åˆ†ä¹‹ç™¾æ˜¾ç¤ºï¼šCtrl+1 æ ¹æ®æ˜¾ç¤ºå™¨æ˜¾ç¤ºï¼šCtrl+0ï¼ˆé›¶ï¼‰3.ç§»åŠ¨ç”»æ¿ï¼šæŒ‰ä½ç©ºæ ¼é”®å¯ä¸´æ—¶åˆ‡æ¢ä¸ºæŠ“æ‰‹å·¥å…·é¼ æ ‡å·¦é”®æ‹–æ‹½å³å¯4.æ’¤é”€ä¸€æ­¥ï¼šCtrl+Z æ’¤é”€å¤šæ­¥ï¼šCtrl+Alt+Z è¿˜åŸå¤šæ­¥ï¼šCtrl+Shift+Z5.è‡ªç”±å˜æ¢ï¼šCtrl+Tâ‘ æ™®é€šå˜æ¢ï¼šé€šè¿‡å¯¹è§’ç‚¹æ‹‰ä¼¸ï¼Œé¼ æ ‡æ”¾åœ¨å¯¹è§’ï¼ˆå‡ºç°å¼¯ç®­å¤´ï¼‰æ—‹è½¬ã€‚æŒ‰Altï¼ˆä¸­å¿ƒç‚¹ï¼‰å’ŒShiftï¼ˆç­‰æ¯”ï¼‰ä»¥ä¸­å¿ƒç‚¹ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å±‚åŸºæœ¬æ“ä½œ1.è§£é”èƒŒæ™¯å›¾å±‚ï¼šç‚¹å‡»å›¾å±‚åæ–¹é”å¤´è§£é”2.æ˜¾ç¤ºéšè—å›¾å±‚ï¼šç‚¹å‡»è¯¥å›¾å±‚å‰çš„çœ¼ç›å›¾æ ‡3.åˆ é™¤å›¾å±‚ï¼šé€‰ä¸­å›¾å±‚æŒ‰deleteé”®åˆ é™¤ æˆ–é€‰ä¸­å›¾å±‚åç‚¹å‡»ä¸‹æ–¹åƒåœ¾æ¡¶å›¾æ ‡ æˆ–é€‰ä¸­å›¾å±‚æ‹–æ‹½è‡³åƒåœ¾æ¡¶å›¾æ ‡ä¸Š4.åˆ›å»ºæ–°å›¾å±‚ï¼šç‚¹å‡»åƒåœ¾æ¡¶å·¦ä¾§çš„å›¾æ ‡ï¼ˆå¿«æ·é”®Ctrl+Alt+Shift+Nï¼‰5.ä¸Šè‰²ï¼ˆå‰æ™¯è‰²ä¸èƒŒæ™¯è‰²ï¼Œéœ€è¦è‡ªè¡Œæ·»åŠ æ–°å›¾å±‚ï¼‰6.æ¢å¤é»˜è®¤å‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²ï¼ˆé»‘ç™½ï¼‰ï¼šæŒ‰D7.åˆ‡æ¢å‰æ™¯è‰²ä¸èƒŒæ™¯è‰²ï¼šç‚¹å‡»å¼¯ç®­å¤´æˆ–æŒ‰Xå¡«å……å‰æ™¯è‰²ï¼šAlt+Deleteå¡«å……èƒŒæ™¯è‰²ï¼šCtrl+Deleteç§»åŠ¨å·¥å…·ï¼ˆå¿«æ·é”®Vï¼‰ç§»åŠ¨å·¥å…·å¯ä»¥ç§»åŠ¨ï¼Œå¯ä»¥å¤åˆ¶ï¼Œè¿˜å¯ä»¥è·¨ç”»å¸ƒå¤åˆ¶å¯¹é½ï¼šå¿…é¡»æœ‰ä¸¤ä¸ªåŠä»¥ä¸Šå›¾å±‚åˆ†å¸ƒï¼šå¿…é¡»æœ‰ä¸‰ä¸ªåŠä»¥ä¸Šå›¾å±‚å¿«é€Ÿé€‰æ‹©å›¾å±‚ï¼šç§»åŠ¨å·¥å…·ä¸‹æŒ‰ä½ctrlå¯ä»¥ä¸´æ—¶åˆ‡æ¢åˆ°è‡ªåŠ¨é€‰æ‹©æ¨¡å¼ï¼ŒåŒæ—¶æŒ‰ä½Shiftå¯ä»¥è¿›è¡ŒåŠ é€‰æˆ–å‡é€‰ç”»ç¬”ï¼ˆå¿«æ·é”®Bï¼‰1.ç”»ç¬”åŠ å·æƒ…å†µï¼šå¯èƒ½å¼€äº†å¤§å†™æˆ–ç”»ç¬”è¿‡å¤§2.ç”»ç¬”å·¥å…·ç”¨äºæ¶‚æŠ¹å‰æ™¯è‰²3.ç”»ç¬”å¤§å°æ›´æ”¹ï¼šPåé¢ã€ã€‘ ç”»ç¬”ç¡¬åº¦æ›´æ”¹ï¼šShift+Påé¢ã€ã€‘å¿«æ·é”®æ•´ç†é€‚åº”æ˜¾ç¤ºå™¨æ˜¾ç¤ºï¼šCtrl+0ç™¾åˆ†ç™¾æ˜¾ç¤ºï¼šCtrl+1æ’¤é”€ï¼šCtrl+Zè‡ªç”±å˜æ¢ï¼šCtrl+Tè¿˜åŸå¤šæ­¥ï¼šCtrl+Shift+Zæ’¤é”€å¤šæ­¥ï¼šCtrl+Alt+Zç”»ç¬”ï¼ˆå¿«æ·é”®ï¼šBï¼‰æ–°å»ºå›¾å±‚ï¼šCtrl+Alt+Shift+Nå¡«å……å‰æ™¯è‰²ï¼šAlt+Deleteå¡«å……èƒŒæ™¯è‰²ï¼šCtrl+Deleteæˆä¸ºå¤§ç¥å‰çš„ç¬¬ä¸€æ­¥å›¾å±‚æ“ä½œ1.å¤åˆ¶å›¾å±‚â‘ ç§»åŠ¨å·¥å…·ä¸‹ï¼ŒæŒ‰ä½Altç‚¹å‡»å¹¶æ‹–æ‹½å¯ä»¥å¤åˆ¶ï¼ŒæŒ‰ä½Shiftå¯ä»¥æ§åˆ¶å¤åˆ¶çš„å›¾å±‚æ°´å¹³æˆ–å‚ç›´æ–¹å‘å¹³ç§»â‘¡åŸä½å¤åˆ¶ï¼Œå¿«æ·é”®Ctrl+J2.ç¼–ç»„ï¼šCtrl+G å–æ¶ˆç¼–ç»„ï¼šCtrl+Shift+G3.åˆå¹¶å›¾å±‚ï¼šCtrl+Eï¼ˆå°½é‡å°‘ç”¨ï¼‰4.åˆ†ç¦»å›¾åƒï¼šCtrl+Shift+JæŠŠé€‰ä¸­çš„å†…å®¹å‰ªåˆ‡å‡ºæ¥å¹¶æ”¾åœ¨åŸä½é€‰æ¡†å·¥å…·ï¼ˆå¿«æ·é”®Mï¼Œåˆ‡æ¢å·¥å…·Shift+Mï¼‰1.é€‰æ¡†ï¼šæµåŠ¨çš„è™šçº¿ï¼ˆèš‚èšçº¿ï¼‰2.ç»˜åˆ¶æ–¹æ³•ï¼šç‚¹å‡»å¹¶æ‹–æ‹½ï¼ˆç‚¹å‡»é¼ æ ‡ä¸è¦æ¾å¼€ï¼‰æŒ‰ä½Shiftç»˜åˆ¶æ­£å›¾å½¢é€‰åŒºï¼ŒæŒ‰ä½Altä»¥é¼ æ ‡ä¸ºä¸­å¿ƒç»˜åˆ¶é€‰åŒºï¼ŒæŒ‰Shift+Altä»¥é¼ æ ‡ä¸ºä¸­å¿ƒç»˜åˆ¶æ­£å›¾å½¢é€‰åŒº3.å–æ¶ˆé€‰åŒºï¼šCtrl+D4.ç¾½åŒ–ï¼šåˆ¶ä½œè¾¹ç¼˜è™šåŒ–çš„æ•ˆæœå±æ€§æ å¤„è¿›è¡Œç¾½åŒ–æ—¶é€‰æ‹©ç¾½åŒ–åå¡«å……ï¼ˆé€‰æ¡†ç»˜ç”»ä¹‹å‰ï¼‰ç¾½åŒ–éœ€è¦é€‰æ‹©â€”ä¿®æ”¹â€”ç¾½åŒ–å¿«æ·é”®Shift+F6è¿›è¡Œç¾½åŒ–(é€‰æ¡†ç”»å®Œä¹‹å)5.è½½å…¥é€‰åŒºï¼šæŒ‰ä½Ctrlç‚¹å‡»è¯¥å›¾å±‚çš„å›¾å±‚ç¼©è§ˆå›¾é€‰åŒºçš„æ“ä½œ1.æ–°é€‰åŒºï¼šæ–°ç»˜åˆ¶çš„é€‰åŒºæ¯æ¬¡éƒ½å½¢æˆä¸€ä¸ªæ–°é€‰åŒº2.æ·»åŠ åˆ°é€‰åŒºï¼šæ–°ç»˜åˆ¶çš„é€‰åŒºä¸ä¹‹å‰ç»˜åˆ¶çš„é€‰åŒºè¿›è¡Œç›¸åŠ ï¼ˆå¿«æ·æ–¹æ³•å…ˆæŒ‰ä½Shiftå†ç»˜åˆ¶æ–°é€‰åŒºï¼‰3.ä»é€‰åŒºå‡å»ï¼šæ–°ç»˜åˆ¶çš„é€‰åŒºä¸ä¹‹å‰ç»˜åˆ¶çš„é€‰åŒºè¿›è¡Œç›¸å‡ï¼ˆå¿«æ·æ–¹æ³•å…ˆæŒ‰ä½Altå†ç»˜åˆ¶æ–°é€‰åŒºï¼‰4.ä¸é€‰åŒºäº¤å‰ï¼šæ–°ç»˜åˆ¶çš„é€‰åŒºä¸ä¹‹å‰ç»˜åˆ¶çš„é€‰åŒºç›¸äº¤éƒ¨åˆ†ç•™ä¸‹ï¼ˆå¿«æ·æ–¹æ³•å…ˆæŒ‰ä½Shift+Altå†ç»˜åˆ¶æ–°é€‰åŒºï¼‰5.ç»˜åˆ¶æ—¶ç§»åŠ¨ï¼šç»˜åˆ¶æ—¶æŒ‰ä½ç©ºæ ¼é”®å¯ä»¥ç§»åŠ¨é€‰åŒºå¿«æ·é”®æ•´ç†ç¼–ç»„ï¼šCtrl+Gï¼ˆåŸä½ï¼‰å¤åˆ¶ï¼šCtrl+Jåˆå¹¶å›¾å±‚ï¼šCtrl+Eå–æ¶ˆç¼–ç»„ï¼šCtrl+Shift+Gå¡«å……èƒŒæ™¯è‰²ï¼šCtrl+Deleteå¡«å……å‰æ™¯è‰²ï¼šAlt+Deleteå–æ¶ˆé€‰åŒºï¼šCtrl+Dåˆ†ç¦»å›¾åƒï¼šCtrl+Shift+Jç¾½åŒ–ï¼šShift+F6ç¥å¥‡çš„å¸ƒå°”è¿ç®—çŸ¢é‡å·¥å…·ï¼ˆå¿«æ·é”®Uï¼Œåˆ‡æ¢å·¥å…·Shift+Uï¼‰1.å½¢çŠ¶æ¨¡å¼ï¼šåœ¨ç»˜åˆ¶è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨æ–°å»ºå›¾å±‚ï¼Œé»˜è®¤è‡ªåŠ¨å¡«å……å‰æ™¯è‰²2.é¢œè‰²å¡«å……ï¼šçº¯è‰²å¡«å……ã€æ¸å˜å¡«å……ã€å›¾æ¡ˆå¡«å……3.å›¾å½¢æè¾¹ï¼šçº¯è‰²å¡«å……ã€æ¸å˜å¡«å……ã€å›¾æ¡ˆå¡«å……ï¼›æè¾¹å¤§å°ï¼›æè¾¹é€‰é¡¹4.å›¾å½¢å¤§å°ï¼šå±æ€§æ å¤„å¯ä»¥ç²¾ç¡®è°ƒæ•´å¤§å°æˆ–Ctrl+T5.å›¾å½¢ç»˜åˆ¶ï¼šæŒ‰ä½Shiftå¯ä»¥ç»˜åˆ¶æ­£å›¾å½¢ï¼ŒæŒ‰ä½Alté”®å¯ä»¥ä»¥é¼ æ ‡ä¸ºä¸­å¿ƒç‚¹ç»˜åˆ¶å›¾å½¢ï¼ŒæŒ‰ä½Shift+Altå¯ä»¥ä»¥é¼ æ ‡ä¸ºä¸­å¿ƒç‚¹ç»˜åˆ¶æ­£å›¾å½¢6.åœ†è§’çŸ©å½¢ï¼šç»˜åˆ¶çš„æ—¶å€™å…ˆè®¾ç½®åŠå¾„ï¼Œé«˜ç‰ˆæœ¬å¯ä»¥åœ¨å±æ€§æ ä¸­ä¿®æ”¹(CSç‰ˆæœ¬çš„å°±ä¸å¥½æ„æ€å•¦ï¼Œä¸èƒ½åœ¨å±æ€§æ è°ƒæ•´ï¼Œå› ä¸ºæ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œå“ˆå“ˆå“ˆï¼ï¼ï¼)7.å¤šè¾¹å½¢ï¼šç»˜åˆ¶çš„æ—¶å€™å…ˆè®¾ç½®å¤šè¾¹å½¢çš„è¾¹æ•°ä¸å¹³æ»‘æ˜Ÿæ˜Ÿç­‰8.ç›´çº¿ï¼šç»˜åˆ¶çš„æ—¶å€™å…ˆæ”¹å˜çº¿çš„ç²—ç»†ï¼ŒæŒ‰ä½shiftå¯ä»¥æˆè§’åº¦çº¦æŸ9.è‡ªå®šå½¢çŠ¶ï¼šè½¯ä»¶é¢„è®¾å¥½çš„å½¢çŠ¶ï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼Œè¿˜å¯ä»¥è¿½åŠ ã€‚10.è‡ªå®šå½¢çŠ¶è¿½åŠ ï¼šè®¾ç½®â€”å…¨éƒ¨â€”è¿½åŠ 11.å®šä¹‰è‡ªå®šå½¢çŠ¶ï¼šé€‰æ‹©æƒ³è¦å®šä¹‰çš„å›¾å±‚å³å‡»é€‰æ‹©å®šä¹‰è‡ªå®šå½¢çŠ¶ï¼ˆå¿…é¡»æœ‰è·¯å¾„çš„å›¾å±‚ï¼‰12.å¸ƒå°”è¿ç®—ï¼ˆé€šè¿‡å½¢çŠ¶å±‚çš„åŠ ã€å‡ã€äº¤å¾—åˆ°æ–°çš„å›¾å½¢ï¼‰ï¼šåŒé€‰åŒºæ“ä½œ13.çŸ¢é‡å›¾å½¢è®¡ç®—åï¼šå¿…é¡»è¦åˆå¹¶å½¢çŠ¶ç»„ä»¶å°é»‘å°ç™½1.å°é»‘ï¼ˆAï¼‰ï¼šç§»åŠ¨å’Œå¤åˆ¶è·¯å¾„ï¼Œå•ç‹¬é€‰ä¸­å›¾å½¢2.å°ç™½ï¼ˆAï¼‰ï¼šé€‰æ‹©å’Œç§»åŠ¨è·¯å¾„çš„ä¸Šé”šç‚¹ï¼Œä»¥åŠè°ƒèŠ‚æ§åˆ¶æ‰‹æŸ„ï¼ŒæŒ‰ä½Shiftå¯ä»¥åŠ é€‰é”šç‚¹æ¸å˜å·¥å…·åœ¨å±æ€§æ å¤„é€‰æ‹©ä¸€ç§æ¸å˜ç±»å‹ï¼Œå¹¶è®¾ç½®æ¸å˜é¢œè‰²å’Œå…¶ä»–å±æ€§ç­‰ï¼Œåˆ›å»ºæ¸å˜å¿«æ·é”®æ•´ç†å¡«å……å‰æ™¯è‰²ï¼šAlt+Deleteå¡«å……èƒŒæ™¯è‰²ï¼šCtrl+Deleteåˆ†ç¦»å›¾åƒï¼šCtrl+Shift+Jå–æ¶ˆé€‰åŒºï¼šCtrl+Dç¥–ä¼ æŠ å›¾æŠ€æ³•å¥—ç´¢å·¥å…·1.å¥—ç´¢å·¥å…·ï¼šå¤§è‡´æ¡†é€‰ï¼Œä¸é€‚åˆç²¾ç¡®æŠ å›¾2.å¤šè¾¹å½¢å¥—ç´¢å·¥å…·ï¼šé€‚åˆæŠ æœ‰æ£±è§’çš„å›¾ç‰‡ï¼Œç›´çº¿ï¼ˆå›è½¦å¯å¿«é€Ÿæˆé€‰åŒºï¼‰3.ç£æ€§å¥—ç´¢å·¥å…·ï¼šå…·æœ‰ç£æ€§ï¼Œå¯ä»¥è¯†åˆ«ç‰©ä½“è¾¹ç¼˜ï¼ˆè¾¹ç¼˜æ¸…æ™°ï¼‰ï¼Œæ“ä½œå‘ç”Ÿåç§»å¯ä»¥é€šè¿‡Deleteè¿›è¡Œç‚¹çš„åˆ é™¤ï¼ˆå›è½¦å¯å¿«é€Ÿæˆé€‰åŒºï¼‰a å®½åº¦ï¼šè¯¥å€¼å†³å®šäº†ä»¥å…‰æ ‡ä¸­å¿ƒä¸ºåŸºå‡†ï¼Œå…¶å‘¨å›´æœ‰å¤šå°‘ä¸ªåƒç´ èƒ½å¤Ÿè¢«å·¥å…·æ£€æµ‹åˆ°ã€‚è¾¹ç•Œæ¸…æ™°æ—¶æ•°å€¼é«˜b å¯¹æ¯”åº¦ï¼šè®¾ç½®å·¥å…·æ„Ÿåº”å›¾åƒè¾¹ç¼˜çš„çµæ•åº¦ï¼Œå›¾åƒæ¸…æ™°æ—¶æ•°å€¼é«˜c é¢‘ç‡ï¼šå†³å®šäº§ç”Ÿçš„é”šç‚¹æ•°é‡ã€‚æ•°å€¼è¶Šé«˜ï¼Œæ•æ‰çš„è¾¹ç•Œè¶Šå‡†ç¡®å¿«é€Ÿé€‰æ‹©å·¥å…·ï¼ˆå±äºç”»ç¬”ç±»ï¼‰1.è°ƒæˆå¤§å°ï¼šPåé¢çš„ã€ã€‘å¯ä»¥è°ƒèŠ‚ç”»ç¬”å¤§å°2.å¯ä»¥ç§»åŠ¨åå­—å…‰æ ‡ï¼Œå¿«é€Ÿè¿ç»­é€‰æ‹©ç›¸è¿‘çš„å›¾åƒï¼Œä¼šè‡ªåŠ¨è¯†åˆ«è¾¹ç¼˜ï¼ˆåˆ›å»ºé€‰æ¡†ï¼‰3.é€‰åŒºçš„åå‘é€‰æ‹©ï¼šCtrl+Shift+Ié­”æ£’å·¥å…·1.å¯ä»¥åˆ›å»ºé€‰åŒºï¼Œé€‰æ‹©é¢œè‰²ç›¸è¿‘çš„èŒƒå›´2.å®¹å·®å€¼è¶Šå¤§ï¼Œé€‰æ‹©é¢œè‰²ç›¸ä¼¼çš„èŒƒå›´è¶Šå¤§ï¼Œ5~35ä¹‹é—´3.ä¸å‹¾é€‰è¿ç»­æ—¶ï¼Œä¸»ä½“ç‰©ä¸èƒŒæ™¯é¢œè‰²ç›¸è¿‘æ—¶ï¼Œä¸»ä½“ç‰©ä¹Ÿä¼šé€‰ä¸­4.é­”æ£’å·¥å…·æŠ å›¾é€‚ç”¨æƒ…å†µï¼šèƒŒæ™¯æ˜¯çº¯è‰²ï¼Œæˆ–èƒŒæ™¯ä¸ä¸»ä½“ç‰©é¢œè‰²å·®è·å¤§è‰²å½©èŒƒå›´1.é€‰æ‹©â€”è‰²å½©èŒƒå›´ é€‰æ‹©æ”¹ä¸ºå–æ ·é¢œè‰² å›¾å½¢ä¸‹é¢é€‰æ‹©é€‰æ‹©èŒƒå›´2.æ ¹æ®å›¾åƒçš„é¢œè‰²èŒƒå›´ï¼Œè¿›è¡Œåˆ›å»ºé€‰åŒºç™½è‰²ä¸ºè¢«é€‰ä¸­çš„ï¼Œé»‘è‰²æ²¡è¢«é€‰ä¸­çš„ï¼Œç°è‰²é€æ˜çš„æ©¡çš®æ“¦å·¥å…·1.æ©¡çš®æ“¦å·¥å…·ï¼šç›´æ¥æ“¦æ¶‚ï¼Œåˆ æ‰ä¸éœ€è¦çš„å›¾åƒ2.é­”æœ¯æ©¡çš®æ“¦ï¼šç›´æ¥åˆ æ‰é¢œè‰²ç›¸è¿‘çš„åŒºåŸŸï¼Œå®¹å·®å€¼ä¸é­”æ£’ç›¸åŒå…¶ä»–è¾…åŠ©æ“ä½œ1.å›¾å±‚é¡ºåºï¼šä¸‹/ä¸Šç§»ä¸€å±‚å›¾å±‚ Ctrl+ã€ã€‘â€‹ ç½®åº•/ç½®é¡¶å›¾å±‚ Ctrl+Shift+ã€ã€‘2.æ”¶ç¼©ï¼ˆé€‰æ‹©â€”ä¿®æ”¹ï¼‰ï¼šåœ¨åŸæœ‰åŸºç¡€ä¸Šè¿›è¡Œç¼©å°é€‰åŒºå¿«æ·é”®æ•´ç†åå‘é€‰åˆ™ï¼šCtrl+Shift+Iä¸‹/ä¸Šç§»åŠ¨å›¾å±‚ï¼šCtrl+ã€ã€‘ç½®åº•/ç½®é¡¶ï¼šCtrl+Shift+ã€ã€‘é«˜æ•ˆä¿®å›¾æ³•æ±¡ç‚¹ä¿®å¤ç”»ç¬”1.è°ƒèŠ‚å¤§å°ï¼šPåé¢çš„ã€ã€‘è¿›è¡Œè°ƒèŠ‚2.ç±»å‹ï¼šå†…å®¹è¯†åˆ«ï¼ˆå¸¸ç”¨ï¼‰/åˆ›å»ºçº¹ç†/è¿‘ä¼¼åŒ¹é…3.å†…å®¹è¯†åˆ«ï¼šç‚¹å‡»éœ€è¦ä¿®å¤çš„åŒºåŸŸã€‚è½¯ä»¶ä¼šè‡ªåŠ¨åœ¨ä»–çš„å‘¨å›´è¿›è¡Œå–æ ·ï¼Œé€šè¿‡è®¡ç®—å¯¹å…¶è¿›è¡Œå…‰çº¿å’Œæ˜æš—çš„åŒ¹é…ï¼Œå¹¶è¿›è¡Œç¾½åŒ–èåˆ4.åˆ›å»ºçº¹ç†ï¼šå¯ä»¥åˆ›å»ºçº¹ç†ï¼Œçº¹ç†ä¸ºpsè‡ªå¸¦ä¸å¯ä¿®æ”¹5.è¿‘ä¼¼åŒ¹é…ï¼šä½¿ç”¨å·¥å…·è¾¹ç¼˜çš„åƒç´ æ¥ä¿®è¡¥å›¾åƒ æ‰©æ•£æ•°å€¼ä¸ºç”»ç¬”é™„è¿‘å‡ åƒç´ çš„èŒƒå›´ã€‚ï¼ˆå¯ä»¥è‡ªåŠ¨è°ƒèŠ‚æ˜æš—ï¼‰ä¿®å¤ç”»ç¬”å·¥å…·1.è°ƒèŠ‚å¤§å°ï¼šPåé¢çš„ã€ã€‘è¿›è¡Œè°ƒèŠ‚2.å–æ ·ï¼šåœ¨éœ€è¦ä¿®å¤çš„åŒºåŸŸå››å‘¨ï¼Œæ‰¾åˆ°é¢œè‰²ç›¸ä¼¼çš„åŒºåŸŸï¼ŒæŒ‰ä½Alté”®ï¼Œé¼ æ ‡ç‚¹å‡»è¿›è¡Œå–æ ·ï¼Œç„¶ååœ¨éœ€è¦ä¿®å¤çš„åŒºåŸŸç‚¹å‡»æˆ–æ¶‚æŠ¹ï¼Œï¼ˆåœ¨ä¿®å¤æ—¶ï¼Œä¿®å¤ç”»ç¬”å°½é‡è¦æ¯”ä¿®å¤çš„åŒºåŸŸå¤§ï¼Œå¦åˆ™ï¼Œä¿®å¤æ•ˆæœä¸æ˜¯å¾ˆå¥½ã€‚ï¼‰3.å¯¹é½ï¼šå‹¾é€‰å¯¹é½åå¸å–ç‚¹è·Ÿéšä¿®å¤ç‚¹ç§»åŠ¨ï¼Œä¸å‹¾é€‰æ¯æ¬¡å•å‡»ä¿®å¤éƒ½æ˜¯ç”¨åŒä¸€å¸å–ç‚¹å»ä¿®å¤4.å›¾æ¡ˆï¼šç›´æ¥æ¶‚æŠ¹å³å¯ï¼Œä¸éœ€è¦å–æ ·ï¼Œç±»ä¼¼å›¾æ¡ˆå åŠ ä¿®è¡¥å·¥å…·1.æºï¼šé€‰åŒºä½ç½®è¢«é¼ æ ‡åœç•™ä½ç½®è¦†ç›–2.ç›®æ ‡ï¼šé€‰åŒºä½ç½®è¦†ç›–é¼ æ ‡åœç•™ä½ç½®å†…å®¹æ„ŸçŸ¥ç§»åŠ¨å·¥å…·å¯ä»¥ç§»åŠ¨ç”»é¢å½“ä¸­ç‰©ä½“çš„ä½ç½®ï¼Œç§»åŠ¨ ä¹‹åå¯ä»¥è‡ªåŠ¨å¡«å……ã€‚å¯ä»¥åœ¨éœ€è¦ä¿®æ”¹çš„ä½ç½®ç»˜åˆ¶é€‰åŒºï¼Œç§»åŠ¨é€‰åŒºåˆ°ç”»å¸ƒå¤–ï¼Œç•™ä¸€å°éƒ¨åˆ†é€‰åŒºå†ç”»å¸ƒå½“ä¸­ï¼Œæ¥ç”¨äºä¿®è¡¥æ°´å°çº¢çœ¼å·¥å…·å¯ä»¥ä¿®å¤ç›¸æœºåœ¨å…‰çº¿æ˜æš—çš„æƒ…å†µä¸‹ï¼Œäº§ç”Ÿçš„çº¢çœ¼æ•ˆæœï¼Œç‚¹å‡»çº¢çœ¼éƒ¨ä½ï¼Œä¼šè‡ªåŠ¨ä¿®å¤ã€‚ï¼ˆäº†è§£å³å¯ï¼‰ä»¿åˆ¶å›¾ç« 1.ä½¿ç”¨æ–¹æ³•åŒä¿®å¤ç”»ç¬”ä¸€è‡´2.ä»¿åˆ¶å›¾ç« å·¥å…·ä¸ä¿®å¤ç”»ç¬”å·¥å…·çš„åŒºåˆ«ï¼šâ‘ ä»¿åˆ¶å›¾ç« æ˜¯æ— æŸä»¿åˆ¶ï¼Œå–æ ·ä»€ä¹ˆé¢œè‰²/çš®è‚¤ï¼Œä»¿åˆ¶çš„å°±æ˜¯ä»€ä¹ˆæ ·å­â‘¡ä¿®å¤ç”»ç¬”æœ‰ä¸€ä¸ªè¿ç®—è¿‡ç¨‹ï¼Œåœ¨æ¶‚æŠ¹å½“ä¸­å°†å–æ ·å›¾åƒå’Œç›®æ ‡ä½ç½®èåˆï¼Œè‡ªåŠ¨é€‚åº”å‘¨å›´ç¯å¢ƒå›¾æ¡ˆå›¾ç« å·¥å…·é€‰æ‹©å›¾æ¡ˆå¯ä»¥æ¶‚èƒŒæ™¯ï¼Œç±»ä¼¼å›¾æ¡ˆæ·»åŠ æ¶²åŒ–ï¼ˆå¿«æ·é”®ï¼šCtrl+Shift+Xï¼‰å¦‚æœæ¶²åŒ–ç‚¹ä¸å¼€æˆ–è€…ç°è‰²çš„ï¼Œé¦–é€‰é¡¹-æ€§èƒ½-ä½¿ç”¨å›¾å½¢å¤„ç†å™¨å‹¾é€‰ä¸Š1.ä½ç½®ï¼šæ»¤é•œâ€”æ¶²åŒ–2.å‘å‰å˜å½¢ï¼šå¯ä»¥åˆ¶ä½œç˜¦èº«ç˜¦è„¸æ•ˆæœ3.é‡å»ºå·¥å…·ï¼šå¯ä»¥æ¢å¤ä¹‹å‰çš„å˜å½¢4.é¡ºæ—¶é’ˆæ—‹è½¬æ‰­æ›²å·¥å…·ï¼šæŒ‰ä½alté”®ç‚¹å‡»å¯ä»¥é€†æ—¶é’ˆæ—‹è½¬5.è¤¶çš±å·¥å…·ï¼ˆæŒ¤å‹ã€è¤¶çš±æ•ˆæœï¼‰6.è†¨èƒ€å·¥å…·ï¼ˆä¸è¤¶çš±å·¥å…·ç›¸åï¼‰7.å·¦æ¨å·¥å…·ï¼ˆä»ä¸Šå¾€ä¸‹æ˜¯å¾€å·¦æ¨ï¼Œä»ä¸‹å¾€ä¸Šæ˜¯å¾€å³æ¨ï¼‰8.å†»ç»“è’™ç‰ˆå·¥å…·ï¼ˆä¿æŠ¤å›¾å±‚ï¼‰9.è§£å†»è’™ç‰ˆå·¥å…·ï¼ˆå–æ¶ˆå†»ç»“çš„è’™ç‰ˆï¼‰10.äººè„¸è¯†åˆ«11.ç§»åŠ¨å·¥å…·ã€æ”¾å¤§ç¼©å°å†…å®¹è¯†åˆ«ï¼ˆå¿«æ·é”®ï¼šShift+F5ï¼‰é€šè¿‡ç»˜åˆ¶é€‰åŒºé€‰æ‹© éœ€è¦ä¿®å¤çš„åŒºåŸŸï¼Œè½¯ä»¶ä¼šè‡ªåŠ¨è¯†åˆ«ä¸ç”»é¢ä¸åŒ¹é…çš„åŒºåŸŸï¼Œè¿›è¡Œä¿®å¤å›¾åƒå¿«æ·é”®æ•´ç†æ¶²åŒ– Ctrl+Shift+Xå†…å®¹è¯†åˆ« Shift+F5ç©è½¬é’¢ç¬”é’¢ç¬”å·¥å…·ï¼ˆå¿«æ·é”®Pï¼‰1.é’¢ç¬”å·¥å…·ï¼šâ‘ ç»˜åˆ¶ç›´çº¿çš„æ–¹æ³•ï¼šåœ¨èµ·å§‹ç‚¹ä½ç½®ç‚¹å‡»å®šç‚¹ï¼Œè¿ç»­ç‚¹å‡»ï¼ŒæŒ‰ä½Shifté”®ï¼Œå¯ä»¥ç»˜åˆ¶æˆè§’åº¦çš„ç›´çº¿â‘¡ç»˜åˆ¶æ›²çº¿çš„æ–¹æ³•ï¼šåœ¨èµ·å§‹ç‚¹ä½ç½®ç‚¹å‡»å®šç‚¹ï¼Œåœ¨ä¸‹ä¸€ç‚¹å¤„ç‚¹å‡»å¹¶æ‹–æ‹½é¼ æ ‡ï¼Œæ‹‰å‡ºå¼§çº¿ï¼Œä¼šå‡ºç°æ§åˆ¶æ‰‹æŸ„ï¼Œå†ä¸€æ¬¡ç»˜åˆ¶æ—¶ï¼Œéœ€è¦æŒ‰ä½Alté”®å–æ¶ˆä¸€ä¾§æ‰‹æŸ„â‘¢è‡ªåŠ¨æ·»åŠ åˆ é™¤ï¼šå¯ä»¥ç›´æ¥åœ¨è·¯å¾„ä¸Šç‚¹å‡»æ·»åŠ é”šç‚¹æˆ–è€…ç‚¹å‡»é”šç‚¹åˆ é™¤é”šç‚¹â‘£ä¸´æ—¶åˆ‡æ¢ï¼šæŒ‰ä½Ctrlé”®å¯ä»¥ä¸´æ—¶åˆ‡æ¢åˆ°å°ç™½å·¥å…·è¿›è¡Œé”šç‚¹ç§»åŠ¨ï¼ˆè‡ªå¸¦æ§åˆ¶æ‰‹æŸ„ï¼Œå¯ä»¥è°ƒèŠ‚å¼§åº¦å¤§å°ï¼‰â‘¤å°†è·¯å¾„è½¬æ¢ä¸ºé€‰åŒºï¼šå³å‡»ï¼Œé€‰æ‹©å»ºç«‹é€‰åŒºã€æˆ–Ctrl+Enterå›è½¦ã€æˆ–åœ¨è·¯å¾„é¢æ¿ä¸‹ï¼ŒCtrl+è·¯å¾„ç¼©è§ˆå›¾â‘¥Deleteé”®åˆ é™¤æœ€åä¸€ä¸ªé”šç‚¹çš„åŒæ—¶ä¼šç»“æŸé’¢ç¬”å·¥å…·è¿™ä¸€æ¬¡è·¯å¾„çš„ç»˜åˆ¶2.è‡ªç”±é’¢ç¬”å·¥å…·ï¼šç‚¹å‡»æ‹–æ‹½é¼ æ ‡å¯ä»¥ç”»å‡ºæµç•…çš„çº¿æ¡è·¯å¾„ã€‚å³å‡»è·¯å¾„ï¼Œé€‰æ‹©ç”»ç¬”å‹¾é€‰æ¨¡æ‹Ÿå‹åŠ›ï¼ˆéœ€å…ˆè®¾ç½®å¥½ç”»ç¬”å¤§å°ã€ç¡¬åº¦ç­‰ï¼‰3.è½¬æ¢ç‚¹å·¥å…·ï¼šç‚¹å‡»æ›²çº¿ä½ç½®çš„ç‚¹ï¼Œå¯ä»¥å°†å…¶å˜æˆç›´çº¿ã€‚ç‚¹å‡»ç›´çº¿ä½ç½®çš„ç‚¹ï¼Œé€‰ä¸­å¹¶æ‹–æ‹½ï¼Œå¯ä»¥å‡ºç°æ§åˆ¶æ‰‹æŸ„ï¼Œè°ƒèŠ‚å¼§åº¦è·¯å¾„é¢æ¿1.è·¯å¾„é¢æ¿å¯ä»¥å®ç°é€‰åŒºä¸è·¯å¾„çš„äº’ç›¸è½¬æ¢2.å‚¨å­˜ä¸ºjpg,psdæ—¶ï¼Œè·¯å¾„é¢æ¿å¯ä»¥å‚¨å­˜è·¯å¾„ï¼Œç±»ä¼¼å›¾å±‚ï¼Œä¾¿äºæŠ å›¾ä¾¿äºå·¥ä½œç”»ç¬”ï¼ˆå¿«æ·é”®ï¼šBï¼‰1.è½½å…¥ç”»ç¬”ï¼šè®¾ç½®ä¸­æ‰¾åˆ°è½½å…¥ç”»ç¬”ï¼Œæ‰¾åˆ°ç”»ç¬”ç‚¹å‡»è½½å…¥ï¼Œå³é”®å¯ä»¥åˆ é™¤ç”»ç¬”2.ç”»ç¬”é¢æ¿ï¼ˆå¿«æ·é”®F5ï¼‰ï¼šå½¢çŠ¶åŠ¨æ€ã€æ•£å¸ƒã€é¢œè‰²åŠ¨æ€3.å®šä¹‰ç”»ç¬”é¢„è®¾ï¼šç¼–è¾‘â€”å®šä¹‰ç”»ç¬”é¢„è®¾ ç”»ç¬”åªè®¤é»‘ç™½ç°ï¼Œé»‘ï¼ˆå®è‰²é¢œè‰²ï¼‰ã€ç™½ï¼ˆæ²¡æœ‰é¢œè‰²ï¼‰ã€ç°ï¼ˆåŠé€æ˜ï¼‰å¤šå…ƒåŒ–çš„æ–‡å­—æ–‡å­—å·¥å…·ï¼ˆæ¨èï¼šwww.qiuziti.comæ¥æ‰¾å­—ä½“ï¼‰1.æ¨ªæ’æ–‡å­—è’™ç‰ˆï¼ˆç›´æ’æ–‡å­—è’™ç‰ˆï¼‰å·¥å…·ï¼šç‚¹å‡»å°±ä¼šå‡ºç°çº¢è‰²è’™ç‰ˆï¼Œè¾“å…¥æ–‡å­—ç¡®å®šåä¸ä¼šæ–°å»ºå›¾å±‚ï¼Œå¹¶ä¸”æ–‡å­—ä¼šå˜ä¸ºé€‰åŒº2.æ¨ªæ’æ–‡å­—ï¼ˆç«–æ’æ–‡å­—ï¼‰å·¥å…·ï¼šç‚¹å‡»ä¼šè‡ªåŠ¨æ–°å»ºæ–‡å­—å›¾å±‚ï¼Œå¯ä»¥å†å±æ€§æ å¤„æ›´æ”¹æ–‡å­—å±æ€§3.ç¡®å®šæ–‡å­—è¾“å…¥ï¼šå±æ€§æ çš„å¯¹å‹¾ æˆ–Ctrl+Enterå›è½¦ æˆ–å°é”®ç›˜ä¸‹çš„Enter4.å…¨é€‰ï¼šCtrl+Aæˆ–åŒå‡»æ–‡å­—å›¾å±‚ç¼©è§ˆå›¾5.è°ƒèŠ‚å­—é—´è·ï¼šAlt+å·¦å³ç®­å¤´6.è°ƒèŠ‚è¡Œé—´è·ï¼šAlt+ä¸Šä¸‹ç®­å¤´7.ç‚¹æ–‡å­—ï¼šä¸ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œæ¢è¡Œéœ€è¦æ‰‹åŠ¨å›è½¦è¿›è¡Œæ¢è¡Œï¼Œé€‚åˆåšæ ‡é¢˜æ–‡å­—8.æ®µæ–‡å­—ï¼ˆåŒºåŸŸæ–‡å­—ï¼‰ï¼šåœ¨ç”»å¸ƒä¸Šç‚¹å‡»å¹¶æ‹–æ‹½æ‹‰å‡ºæ–‡æœ¬æ¡†ï¼Œä¼šè‡ªåŠ¨æ¢è¡Œï¼Œæ–‡å­—æº¢å‡ºæ—¶ä¸‹æ–¹æœ‰åŠ å·æç¤ºï¼Œé€‚åˆåšè¯´æ˜æ–‡å­—9.è·¯å¾„æ–‡å­—ï¼šç”¨é’¢ç¬”æˆ–è€…å½¢çŠ¶å·¥å…·ï¼Œç»˜åˆ¶ä¸€æ®µè·¯å¾„ï¼Œå°†æ–‡å­—å·¥å…·çš„å…‰æ ‡æ”¾åœ¨è·¯å¾„ä¸Šï¼Œç‚¹å‡»è¾“å…¥æ–‡å­—ã€‚ç”¨å°ç™½è°ƒèŠ‚æ–‡å­—å½¢æ€å›¾å±‚æ ·å¼+å›¾å±‚æ··åˆæ¨¡å¼æ··åˆæ¨¡å¼ï¼ˆ27ä¸ªï¼‰1.ä½¿ç”¨è¦æ±‚ï¼šå¿…é¡»ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å›¾å±‚æ‰èƒ½è¿›è¡Œæ··åˆ2.æ··åˆæ¨¡å¼åˆ†ç»„ï¼šA.ç»„åˆæ¨¡å¼ï¼šéœ€è¦é™ä½å›¾å±‚çš„ä¸é€æ˜åº¦æ‰èƒ½äº§ç”Ÿä½œç”¨B.åŠ æ·±æ··åˆç»„ï¼šå¯ä»¥ä½¿å›¾åƒå˜æš—ï¼Œå°†ä¸‹æ–¹å›¾å±‚ä¸­çš„äº®è‰²è¢«ä¸Šæ–¹è¾ƒæš—çš„åƒç´ æ›¿ä»£C.å‡æ·¡æ··åˆç»„ï¼šä¸åŠ æ·±æ··åˆç»„ç›¸åï¼Œå¯ä»¥ä½¿å›¾åƒå˜äº®ï¼Œå°†ä¸‹æ–¹å›¾å±‚ä¸­çš„æš—è‰²è¢«ä¸Šæ–¹è¾ƒäº®çš„åƒç´ æ›¿ä»£D.å¯¹æ¯”æ··åˆç»„ï¼š50%çš„ç°è‰²å®Œå…¨æ¶ˆå¤±ï¼Œé«˜äº50%ç°çš„åƒç´ ä¼šä½¿åº•å›¾å˜äº®ï¼Œä½äº50%ç°çš„åƒç´ ä¼šä½¿åº•å›¾å˜æš—E.æ¯”è¾ƒæ··åˆç»„ï¼šç›¸åŒçš„åŒºåŸŸæ˜¾ç¤ºä¸ºé»‘è‰²ï¼Œä¸åŒçš„åŒºåŸŸæ˜¾ç¤ºä¸ºç°åº¦å±‚æ¬¡æˆ–å½©è‰²ã€‚å½“å›¾å±‚ä¸­åŒ…å«ç™½è‰²ï¼Œç™½è‰²åŒºåŸŸä¼šä½¿åº•å±‚å›¾åƒåç›¸ï¼Œè€Œé»‘è‰²ä¸ä¼šå¯¹åº•å±‚å›¾åƒäº§ç”Ÿå½±å“ã€‚F.è‰²å½©æ··åˆç»„ï¼šå°†è‰²å½©çš„è‰²ç›¸ã€é¥±å’Œåº¦å’Œäº®åº¦ï¼Œæ›¿æ¢ç»™ä¸‹æ–¹å›¾å±‚3.é‡è¦çš„æ··åˆæ¨¡å¼é€‰é¡¹ï¼ˆ4ä¸ªï¼‰â‘ åŠ æ·±æ··åˆç»„ï¼šæ­£ç‰‡å åº•ï¼ˆå»ç™½ç•™é»‘ï¼‰â‘¡å‡æ·¡æ··åˆç»„ï¼šæ»¤è‰²ï¼ˆå»é»‘ç•™ç™½ï¼‰â‘¢æ¯”è¾ƒæ··åˆç»„ï¼šå åŠ ï¼Œä½¿ä½ çš„é¢œè‰²è·Ÿä¸‹æ–¹å›¾å±‚è¿›è¡Œæœ‰æœºçš„çš„å åŠ ï¼ŒåŒæ—¶ä¿®æ”¹ä¸‹æ–¹å›¾å±‚çš„æœ¬èº«çš„äº®åº¦å’Œæ˜æš—ç¨‹åº¦ï¼Œæ¯”è¾ƒæŸ”å’Œçš„æ•ˆæœâ‘£æŸ”å…‰ ï¼Œæ•ˆæœæ›´å¥½ï¼Œç”»é¢æ›´èåˆå›¾å±‚æ ·å¼1.æ·»åŠ å›¾å±‚æ ·å¼ï¼šâ‘ åŒå‡»å›¾å±‚ç¼©è§ˆå›¾çš„åæ–¹ï¼Œå¼¹å‡ºå¯¹è¯æ¡†â‘¡ç‚¹å‡»å›¾å±‚é¢æ¿ä¸‹æ–¹FxæŒ‰é’®ï¼Œæ·»åŠ å›¾å±‚æ ·å¼â‘¢å›¾å±‚èœå•ä¸­é€‰æ‹©â‘£åœ¨ç”»å¸ƒåŒºåŸŸå³å‡»å¼¹å‡ºæ··åˆé€‰é¡¹ é€‰æ‹©ï¼ˆç§»åŠ¨å·¥å…·ã€æŠ“æ‰‹å·¥å…·ã€æ”¾å¤§é•œå·¥å…·ä¸å¯ï¼‰2.å¤åˆ¶å›¾å±‚æ ·å¼ï¼šæŒ‰ä½Alté”®ç‚¹å‡»å›¾å±‚æ ·å¼Fxè¿›è¡Œæ‹–æ‹½åˆ°éœ€è¦å¤åˆ¶çš„å›¾å±‚æˆ–åœ¨å›¾å±‚ä¸Šå³å‡»é¼ æ ‡é€‰æ‹©æ‹·è´å›¾å±‚æ ·å¼ åœ¨éœ€è¦å¤åˆ¶çš„å›¾å±‚ä¸Šå³å‡»é€‰æ‹©ç²˜è´´å›¾å±‚æ ·å¼3.å¡«å……ï¼šå¯ä»¥å°†é¢œè‰²é™ä½é€æ˜åº¦ï¼Œå›¾å±‚æ ·å¼ä¸å˜è’™ç‰ˆå¸¦ä½ é¢†ç•¥å°å‰å¹•åçš„æ•…äº‹å¿«é€Ÿè’™ç‰ˆï¼ˆå¿«æ·é”®Qï¼‰å¿«é€Ÿè’™ç‰ˆæ˜¯ä¸€ç§é€‰åŒºå·¥å…· ç»“åˆç”»ç¬”å·¥å…·ä½¿ç”¨ï¼Œå¸¸ç”¨ä¸å½±æ¥¼ã€‚åŒå‡»å¿«é€Ÿè’™ç‰ˆï¼Œå¯ä»¥æ›´æ”¹å¿«é€Ÿè’™ç‰ˆå»ºç«‹çš„é€‰åŒºå½¢å¼å‰ªè´´è’™ç‰ˆï¼ˆä¸Šå›¾ä¸‹å½¢ï¼‰1.åŸç†æ˜¯å°†ä¸Šå±‚å›¾å±‚ç½®äºä¸‹å±‚å›¾å±‚å†…ï¼Œä»–ä»¬å¿…é¡»æ˜¯ä¸Šä¸‹å±‚å…³ç³»2.ä¸‹æ–¹å›¾å±‚å¯ä»¥æ˜¯å½¢çŠ¶ã€å›¾å±‚ã€ç”»ç¬”ã€æ–‡å­—ã€æ™ºèƒ½å¯¹è±¡3.ä¸Šå›¾å±‚å³å‡»é€‰æ‹©åˆ›å»ºå‰ªè´´è’™ç‰ˆï¼Œæˆ–æŒ‰ä½Alté”®ï¼Œåœ¨ä¸Šä¸‹å›¾å±‚ä¹‹é—´ç§»åŠ¨ï¼Œå‡ºç°æ–¹æ¡†å¸¦ç®­å¤´å½¢çŠ¶ï¼Œå•å‡»é¼ æ ‡å·¦é”®ï¼Œæˆ–Ctrl+Alt+G åˆ›å»º/é‡Šæ”¾4.å‰ªåˆ‡è’™ç‰ˆå¯ä»¥åŒæ—¶å¤šä¸ªå›¾å±‚ è¿›è¡Œå‰ªè´´è’™ç‰ˆå›¾å±‚è’™ç‰ˆï¼ˆé»‘éšè—ç™½æ˜¾ç¤ºç°è‰²åŠé€æ˜ï¼‰1.è’™ç‰ˆé¢œè‰²è¡¨ç¤ºçš„æ„ä¹‰ï¼šé»‘è‰²ï¼šéšè—å›¾åƒã€ç™½è‰²ï¼šæ˜¾ç¤ºå›¾åƒã€ç°è‰²åŠé€æ˜ è’™ç‰ˆåªè®¤é»‘ç™½ç°ï¼Œé™¤äº†é»‘ç™½å…¶ä»–é¢œè‰²éƒ½æ˜¯ä¸åŒç¨‹åº¦çš„ç°2.å¯ä»¥åœ¨è’™ç‰ˆä¸Šæ·»åŠ é¢œè‰²çš„æ–¹å¼ï¼šç”»ç¬”ã€æ¸å˜ã€å¡«å……ç­‰3.æš‚åœè’™ç‰ˆä½¿ç”¨ï¼šæŒ‰ä½Shiftç‚¹å‡»å›¾å±‚è’™ç‰ˆç¼©è§ˆå›¾4.ä½¿ç”¨è’™ç‰ˆæ—¶å®¹æ˜“å‡ºç°çš„é—®é¢˜ï¼šâ‘ åœ¨ä½¿ç”¨æ—¶å‡ºç°æ¶‚æŠ¹é¢œè‰²çš„æƒ…å†µï¼Œå¤šæ•°æ˜¯æ²¡æœ‰æ·»åŠ æˆ–é€‰æ‹©è’™ç‰ˆç¼©è§ˆå›¾ã€‚â‘¡åœ¨ä½¿ç”¨è’™ç‰ˆæ—¶ï¼Œæ¶‚æŠ¹æ— æ•ˆæœï¼Œçœ‹ä¸‹å½“å‰å‰æ™¯è‰²æ˜¯å¦æ˜¯ç™½è‰²â‘¢åœ¨ä½¿ç”¨è’™ç‰ˆæ—¶ï¼Œæ¶‚æŠ¹æ— æ•ˆæœï¼Œçœ‹ä¸‹ç”»ç¬”çš„é€æ˜åº¦æˆ–æµé‡æ˜¯å¦æ˜¯1%é€šé“1.ä½œç”¨ï¼šç”¨äºå‚¨å­˜é¢œè‰²ä¿¡æ¯ï¼Œç›¸å½“äºé¢œè‰²é“¶è¡Œ2.ç¬¬ä¸€ä¸ªé€šé“ä¸ºå¤åˆé€šé“ï¼Œä¸åŒçš„é€šé“ä¼šæ˜¾ç¤ºä¸åŒçš„é¢œè‰²ä¿¡æ¯3.å•è‰²é€šé“ä¸­é»‘ç™½ç°çš„æ„ä¹‰ï¼šç™½è‰²è¡¨ç¤ºé¢œè‰²å€¼æœ€é«˜255ï¼Œé»‘è‰²0ï¼Œç°è‰²0-2554.Alphaé€šé“çš„ä½œç”¨ï¼šå¯ä»¥å‚¨å­˜å’Œåˆ¶ä½œé€‰åŒºï¼Œé»‘è‰²éé€‰åŒºï¼Œç™½è‰²é€‰åŒºï¼Œç°è‰²åŠé€æ˜é€‰åŒºå¿«æ·é”®æ•´ç†åˆ›å»º/é‡Šæ”¾å‰ªè´´è’™ç‰ˆ Ctrl+Alt+Gæ‰“é€ æ»¤é•œä¸‹çš„è‰ºæœ¯æ•ˆæœæ»¤é•œ1.è½¬æ¢ä¸ºæ™ºèƒ½æ»¤é•œï¼šå¯ä»¥å°†æ™®é€šçš„ä½å›¾è½¬ä¸ºæ™ºèƒ½å¯¹è±¡2.æ»¤é•œä½¿ç”¨è§„åˆ™ï¼šâ–¼ RGBæ¨¡å¼ä¸‹æ»¤é•œéƒ½å¯ä»¥ä½¿ç”¨â–¼ CMYK Lab æ¨¡å¼ä¸‹æœ‰éƒ¨åˆ†æ»¤é•œä¸èƒ½ä½¿ç”¨â–¼ ç´¢å¼•æ¨¡å¼ä¸‹æ»¤é•œä¸èƒ½ä½¿ç”¨.3.æ™ºèƒ½æ»¤é•œçš„ä¼˜ç‚¹ï¼šè‡ªå¸¦è’™ç‰ˆï¼Œå¯ç¼–è¾‘æ€§å¼ºï¼Œå¯ä»¥å¯¹æ»¤é•œçš„æ•ˆæœå•ç‹¬è¿›è¡Œå¤šæ¬¡ä¿®æ”¹æˆ–è°ƒæ•´4.ä¸Šæ¬¡æ»¤é•œæ“ä½œï¼šå¿«æ·é”®Ctrl+Få¯ä»¥å†æ¬¡æ‰§è¡Œä¸Šæ¬¡çš„æ»¤é•œæ“ä½œ5.æ¸éšï¼šå¿«æ·é”®Ctrl+Shift+F ç¼–è¾‘â€”æ¸éš å¯¹æ™®é€šå›¾å±‚æ»¤é•œæ•ˆæœå†ç¼–è¾‘ï¼Œå¯ä»¥è°ƒæ•´ä¸é€æ˜åº¦å’Œæ··åˆæ¨¡å¼ï¼ˆä¸å¸¸ç”¨ï¼‰6.å›¾åƒä¸­æœ‰é€‰åŒºæ—¶ï¼Œæ»¤é•œæ•ˆæœåªå¯¹é€‰åŒºå†…æœ‰æ•ˆï¼Œæ²¡æœ‰é€‰åŒºæ—¶ï¼Œå¯¹æ•´ä½“å›¾åƒæœ‰æ•ˆ7.æ»¤é•œåº“ï¼šé‡Œé¢æœ‰ç°æˆçš„æ»¤é•œæ•ˆæœï¼Œå¯ä»¥é€šè¿‡è°ƒæˆå‚æ•°ä»è€Œæ”¹å˜æ»¤é•œçš„æ•ˆæœï¼Œé€šè¿‡ä¸‹æ–¹æ–°å»ºæŒ‰é’®å¯ä»¥åˆ›å»ºå¤šä¸ªæ»¤é•œæ•ˆæœ8.æ»¤é•œåº“â€”ç´ æï¼šå¤šä¸ªæ»¤é•œåº”ç”¨å‰/èƒŒæ™¯è‰²ï¼Œäº®éƒ¨åº”ç”¨èƒŒæ™¯è‰²ï¼Œæš—éƒ¨åº”ç”¨å‰æ™¯è‰²9.â–· è‡ªé€‚åº”å¹¿è§’ï¼šå¯è¾ƒæ­£å¹¿è§’å¯¼è‡´çš„å˜å½¢å›¾åƒâ–· camera rawæ»¤é•œï¼šå¯ä»¥è°ƒæ•´å›¾åƒé¢œè‰²ç­‰â–· é•œå¤´è¾ƒæ­£ï¼šå¯åˆ¶ä½œé±¼çœ¼é•œå¤´æ‹æ‘„äº§ç”Ÿçš„æ•ˆæœï¼Œå¯ä»¥å¯¹ç…§ç‰‡çš„ç•¸å˜å’Œæš—è§’è¿›è¡Œä¸€å®šç¨‹åº¦çš„çŸ«æ­£â–· æ¶²åŒ–ï¼šå¯é€šè¿‡å¹³ç§»ã€æ—‹è½¬ã€è¿›è¡Œåƒç´ å˜å½¢ï¼ˆç˜¦èº«ç˜¦è„¸ç­‰ï¼‰â–· æ¶ˆå¤±ç‚¹ï¼šå¯ä»¥é€šè¿‡å†…ç½®é€è§†ç½‘æ ¼ã€è¿›è¡Œå›¾åƒä¿®å›¾ï¼ˆé€è§†ï¼šè¿‘å¤§è¿œå°æ•ˆæœï¼‰â–· æ¨¡ç³Šç³»åˆ—ï¼šå¯ä»¥æ ¹æ®å‚æ•°å¯¹å›¾åƒè¿›è¡Œå„ç§å½¢å¼æ•´ä½“æ¨¡ç³Šå¤„ç†ã€‚å±€éƒ¨æ¨¡ç³Šå¯ä»¥é€šè¿‡é€‰æ¡†è¿›è¡Œæ§åˆ¶ã€‚â–· æ‰­æ›²ç³»åˆ—ï¼šæ ¹æ®ä¸åŒæ–¹å¼å¯¹å›¾åƒè¿›è¡Œæ•´ä½“åƒç´ å˜å½¢â–· é”åŒ–ç³»åˆ—ï¼šå¯¹å›¾åƒè¿›è¡Œæ•´ä½“è¾¹ç¼˜å¯¹æ¯”å¼ºåŒ–ï¼Œä½¿å›¾ç‰‡æ•´ä½“æ›´åŠ æ¸…æ™°ã€‚å¦‚æœå‚æ•°è¿‡å¤§å›¾åƒä¼šæŸåã€‚â–· æ‚è‰²ï¼šæ·»åŠ æ‚è‰²ï¼šå¯ä»¥æ·»åŠ é¢—ç²’æ‚è‰²â–· å…¶ä»–æ»¤é•œï¼šé«˜åå·®ä¿ç•™ï¼šå¯ä»¥ä¿ç•™ç»†èŠ‚ä¸å åŠ æŸ”å…‰ä¸€èµ·ä½¿ç”¨10.æ¸²æŸ“â€”äº‘å½©ï¼šå¯ä»¥åº”ç”¨æ²¡æœ‰åƒç´ çš„åŒºåŸŸï¼ˆç©ºç™½å›¾å±‚ï¼‰ï¼Œåº”ç”¨çš„æ˜¯å‰/èƒŒæ™¯è‰²å¿«æ·é”®æ•´ç†é‡å¤ä¸Šæ¬¡æ»¤é•œ Ctrl+Altï¼‹Fä½ç‰ˆæœ¬é‡å¤ä¸Šæ¬¡æ»¤é•œ Ctrlï¼‹Fæ¸éš Ctrl+Shift+Fè®©æˆ‘ä»¬æ¢ä¸€ç§é¢œè‰²çœ‹ä¸–ç•Œï¼ˆè°ƒè‰²ä¸€ï¼‰è‰²å½©æ¨¡å¼1.RGBï¼šå…‰å­¦ä¸‰åŸè‰²ï¼Œä¹Ÿæ˜¯è°ƒè‰²è¿ç”¨æœ€å¤šçš„ä¸€ç§é¢œè‰²æ¨¡å¼2.CMYKï¼šå°åˆ·ç”¨çš„é¢œè‰² é’ã€æ´‹çº¢ã€é»„ã€é»‘3.ç°åº¦æ¨¡å¼ï¼šå›¾åƒä¸åŒ…å«é¢œè‰²ï¼Œåªæœ‰é»‘ç™½ç°ä¸‰ç§é¢œè‰²ï¼Œå¹¶å½±å“ä¹‹åçš„é¢œè‰²ä½¿ç”¨4.å»è‰²ï¼ˆCtrl+Shift+U ï¼‰ï¼šæŠŠå›¾åƒçš„é¥±å’Œåº¦é™åˆ°æœ€ä½ï¼Œä¸å½±å“è‰²å½©æ¨¡å¼ï¼Œå¯¹äºä¹‹åçš„é¢œè‰²ä½¿ç”¨æ²¡æœ‰å½±å“5.æ›´æ”¹æ¨¡å¼ï¼šèœå•æ â€”å›¾åƒâ€”æ¨¡å¼è°ƒè‰²1.è°ƒæ•´é¢æ¿ï¼šç‚¹å‡»æ•ˆæœï¼Œç›´æ¥æ–°å»ºå›¾å±‚ï¼Œè‡ªå¸¦å›¾å±‚è’™ç‰ˆï¼Œå¯ä»¥å¤šæ¬¡è°ƒè§£ï¼Œåªå¯¹ä¸‹æ–¹å›¾å±‚èµ·ä½œç”¨2.äº®åº¦/å¯¹æ¯”åº¦ï¼šäº®åº¦ã€æ·»åŠ /å‡å°‘å›¾åƒæ˜æš—ç¨‹åº¦â€‹ å¯¹æ¯”åº¦ã€å¢åŠ /é™ä½å›¾åƒæ˜æš—å¯¹æ¯”ç¨‹åº¦3.è‰²ç›¸/é¥±å’Œåº¦Ctrl+U ï¼šè‰²ç›¸ã€è‰²å½©çš„ç›¸è²Œâ€‹ é¥±å’Œåº¦ã€é¢œè‰²é²œè‰³ç¨‹åº¦â€‹ æ˜åº¦ã€é¢œè‰²çš„æ˜æš—ç¨‹åº¦â€‹ å•è‰²åˆ¶ä½œæ—¶å‹¾é€‰ç€è‰²4.ä¸‰åŸè‰²ï¼šçº¢ç»¿è“ é—´è‰²ï¼šåŸè‰²+åŸè‰²=é—´è‰² é»„ã€æ´‹çº¢ã€é’äº’è¡¥è‰²ï¼ˆåè‰²ï¼‰ï¼šå¯ä»¥äº’ç›¸æŠµæ¶ˆçš„é¢œè‰²ã€180Â°çš„é¢œè‰²ã€ç›¸å¯¹çš„é¢œè‰²ä¸‰å¯¹äº’è¡¥è‰²ï¼šçº¢è‰²ä¸é’è‰² è“è‰²ä¸é»„è‰² ç»¿è‰²ä¸æ´‹çº¢5.è‰²å½©å¹³è¡¡ï¼ˆCtrl+B ï¼‰ï¼šå¯ä»¥æ ¹æ®é¢œè‰²çš„è‰²ç›¸æ¥è°ƒèŠ‚6.æ¸å˜æ˜ å°„ï¼šä¸€èˆ¬ç»“åˆæ··åˆæ¨¡å¼å’Œä¸é€æ˜åº¦æ¥ä½¿ç”¨ é€šä¿—çš„è¯´å°±æ˜¯ç”¨ä½ æ‰€è®¾å®šçš„é¢œè‰²ï¼Œå¯¹åº”åˆ°åŸå›¾çš„è‰²å½©ä¸Šã€‚ç”¨è¿™ç§æ•ˆæœå¯ä»¥è¾¾åˆ°æŸäº›éå¸¸å¤¸å¼ çš„è‰²å½©æ­é…æ•ˆæœã€‚7.å¯é€‰é¢œè‰²ï¼šå¯¹å•ä¸€é¢œè‰²è¿›è¡Œè°ƒæ•´â€œç›¸å¯¹â€æ¯”è¾ƒæŸ”å’Œ â€œç»å¯¹â€æ¯”è¾ƒçŠ€åˆ© ç›¸å¯¹è¿ç”¨çš„è¾ƒå¤š8.æ›¿æ¢é¢œè‰²ï¼šå›¾åƒâ€”è°ƒæ•´â€”æ›¿æ¢é¢œè‰² æ‹¾å–ä¸€ç§é¢œè‰²ï¼Œé€‰æ‹©å¦ä¸€ç§é¢œè‰²æ›¿æ¢ï¼ˆå¯ä»¥ç”¨æ·»åŠ å¸ç®¡æ·»åŠ é¢œè‰²ï¼‰å¿«æ·é”®æ•´ç†å»è‰² Ctrl+Shift+Uä»æ˜æš—åˆ°å…‰æ˜ï¼ˆè°ƒè‰²äºŒï¼‰è‰²é˜¶ï¼ˆå¿«æ·é”®Ctrl+Lï¼‰1.è¾“å…¥è‰²é˜¶â€”â€”æ•°å­—å›¾åƒæœ¬æ¥çš„è‰²é˜¶èŒƒå›´ï¼Œé€šè¿‡è°ƒèŠ‚æ”¹å˜é»‘ç™½ç°èŒƒå›´è¾“å‡ºè‰²é˜¶â€”â€”æ˜¯æŒ‡ä¸ºæ‰“å°æœºæŒ‡å®šæœ€å°çš„æš—è°ƒè‰²é˜¶å’Œæœ€å¤§çš„é«˜å…‰è‰²é˜¶ï¼Œè°ƒæ•´æ—¶è°ƒæ•´çš„æ˜¯æ•´ä½“çš„æ˜æš—åº¦2.å¯ä»¥è°ƒæ•´å›¾åƒçš„é˜´å½±ã€ä¸­é—´è°ƒå’Œé«˜å…‰çš„å¼ºåº¦çº§åˆ«ï¼Œæ ¡æ­£è‰²è°ƒèŒƒå›´å’Œè‰²å½©å¹³è¡¡æ›²çº¿ï¼ˆå¿«æ·é”®Ctrl+Mï¼‰å®ƒæ•´åˆäº†â€œè‰²é˜¶â€ã€â€œäº®åº¦/å¯¹æ¯”åº¦â€ç­‰å¤šä¸ªå‘½ä»¤çš„åŠŸèƒ½ã€‚æ›²çº¿ä¸Šå¯ä»¥æ·»åŠ 14ä¸ªæ§ç‚¹ï¼Œç§»åŠ¨è¿™äº›æ§åˆ¶ç‚¹å¯ä»¥å¯¹è‰²å½©å’Œè‰²è°ƒè¿›è¡Œéå¸¸ç²¾ç¡®çš„è°ƒæ•´a æŒ‰Shift ç‚¹å‡»å¯ä»¥é€‰ä¸­å¹¶æ§åˆ¶å¤šä¸ªæ§åˆ¶ç‚¹b ç‚¹å‡»Deleteé”®å¯ä»¥åˆ æ‰æ§åˆ¶ç‚¹ç…§ç‰‡æ»¤é•œå¯ç”¨äºçŸ«æ­£ç…§ç‰‡çš„é¢œè‰²é¢œè‰²æŸ¥æ‰¾æŸ¥è¯¢é¢œè‰²ï¼Œå½¢æˆæ»¤é•œæ•ˆæœå¿«æ·é”®æ€»ç»“","categories":[{"name":"photoshop","slug":"photoshop","permalink":"https://qikaile.tk/categories/photoshop/"}],"tags":[{"name":"photoshop","slug":"photoshop","permalink":"https://qikaile.tk/tags/photoshop/"}]},{"title":"Pandasä¸­æ–‡æ‰‹å†Œ","slug":"pandasä¸­æ–‡æ‰‹å†Œ","date":"2020-03-27T16:00:00.000Z","updated":"2020-04-15T04:13:32.294Z","comments":true,"path":"pandasä¸­æ–‡æ‰‹å†Œ.html","link":"","permalink":"https://qikaile.tk/pandas%E4%B8%AD%E6%96%87%E6%89%8B%E5%86%8C.html","excerpt":"","text":"å¦‚æœä½ æƒ³å­¦ä¹ Pandasï¼Œå»ºè®®å…ˆçœ‹ä¸¤ä¸ªç½‘ç«™ã€‚ï¼ˆ1ï¼‰å®˜ç½‘ï¼šPython Data Analysis Libraryï¼ˆ2ï¼‰ååˆ†é’Ÿå…¥é—¨Pandasï¼š10 Minutes to pandaså…³é”®ç¼©å†™å’ŒåŒ…å¯¼å…¥åœ¨è¿™ä¸ªé€ŸæŸ¥æ‰‹å†Œä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹ç¼©å†™ï¼šdfï¼šä»»æ„çš„Pandas DataFrameå¯¹è±¡sï¼šä»»æ„çš„Pandas Serieså¯¹è±¡åŒæ—¶æˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹çš„å¼•å…¥ï¼šimport pandas as pdimport numpy as npå¯¼å…¥æ•°æ®pd.read_csv(filename)ï¼šä»CSVæ–‡ä»¶å¯¼å…¥æ•°æ®pd.read_table(filename)ï¼šä»é™å®šåˆ†éš”ç¬¦çš„æ–‡æœ¬æ–‡ä»¶å¯¼å…¥æ•°æ®pd.read_excel(filename)ï¼šä»Excelæ–‡ä»¶å¯¼å…¥æ•°æ®pd.read_sql(query, connection_object)ï¼šä»SQLè¡¨/åº“å¯¼å…¥æ•°æ®pd.read_json(json_string)ï¼šä»JSONæ ¼å¼çš„å­—ç¬¦ä¸²å¯¼å…¥æ•°æ®pd.read_html(url)ï¼šè§£æURLã€å­—ç¬¦ä¸²æˆ–è€…HTMLæ–‡ä»¶ï¼ŒæŠ½å–å…¶ä¸­çš„tablesè¡¨æ ¼pd.read_clipboard()ï¼šä»ä½ çš„ç²˜è´´æ¿è·å–å†…å®¹ï¼Œå¹¶ä¼ ç»™read_table()pd.DataFrame(dict)ï¼šä»å­—å…¸å¯¹è±¡å¯¼å…¥æ•°æ®ï¼ŒKeyæ˜¯åˆ—åï¼ŒValueæ˜¯æ•°æ®å¯¼å‡ºæ•°æ®df.to_csv(filename)ï¼šå¯¼å‡ºæ•°æ®åˆ°CSVæ–‡ä»¶df.to_excel(filename)ï¼šå¯¼å‡ºæ•°æ®åˆ°Excelæ–‡ä»¶df.to_sql(table_name, connection_object)ï¼šå¯¼å‡ºæ•°æ®åˆ°SQLè¡¨df.to_json(filename)ï¼šä»¥Jsonæ ¼å¼å¯¼å‡ºæ•°æ®åˆ°æ–‡æœ¬æ–‡ä»¶åˆ›å»ºæµ‹è¯•å¯¹è±¡pd.DataFrame(np.random.rand(20,5))ï¼šåˆ›å»º20è¡Œ5åˆ—çš„éšæœºæ•°ç»„æˆçš„DataFrameå¯¹è±¡pd.Series(my_list)ï¼šä»å¯è¿­ä»£å¯¹è±¡my_liståˆ›å»ºä¸€ä¸ªSerieså¯¹è±¡df.index = pd.date_range(â€˜1900/1/30â€™, periods=df.shape[0])ï¼šå¢åŠ ä¸€ä¸ªæ—¥æœŸç´¢å¼•æŸ¥çœ‹ã€æ£€æŸ¥æ•°æ®df.head(n)ï¼šæŸ¥çœ‹DataFrameå¯¹è±¡çš„å‰nè¡Œdf.tail(n)ï¼šæŸ¥çœ‹DataFrameå¯¹è±¡çš„æœ€ånè¡Œdf.shape()ï¼šæŸ¥çœ‹è¡Œæ•°å’Œåˆ—æ•°http://df.info()ï¼šæŸ¥çœ‹ç´¢å¼•ã€æ•°æ®ç±»å‹å’Œå†…å­˜ä¿¡æ¯df.describe()ï¼šæŸ¥çœ‹æ•°å€¼å‹åˆ—çš„æ±‡æ€»ç»Ÿè®¡s.value_counts(dropna=False)ï¼šæŸ¥çœ‹Serieså¯¹è±¡çš„å”¯ä¸€å€¼å’Œè®¡æ•°df.apply(pd.Series.value_counts)ï¼šæŸ¥çœ‹DataFrameå¯¹è±¡ä¸­æ¯ä¸€åˆ—çš„å”¯ä¸€å€¼å’Œè®¡æ•°æ•°æ®é€‰å–df[col]ï¼šæ ¹æ®åˆ—åï¼Œå¹¶ä»¥Seriesçš„å½¢å¼è¿”å›åˆ—df[[col1, col2]]ï¼šä»¥DataFrameå½¢å¼è¿”å›å¤šåˆ—s.iloc[0]ï¼šæŒ‰ä½ç½®é€‰å–æ•°æ®s.loc[â€˜index_oneâ€™]ï¼šæŒ‰ç´¢å¼•é€‰å–æ•°æ®df.iloc[0,:]ï¼šè¿”å›ç¬¬ä¸€è¡Œdf.iloc[0,0]ï¼šè¿”å›ç¬¬ä¸€åˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ•°æ®æ¸…ç†df.columns = [â€˜aâ€™,â€™bâ€™,â€™câ€™]ï¼šé‡å‘½ååˆ—åpd.isnull()ï¼šæ£€æŸ¥DataFrameå¯¹è±¡ä¸­çš„ç©ºå€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªBooleanæ•°ç»„pd.notnull()ï¼šæ£€æŸ¥DataFrameå¯¹è±¡ä¸­çš„éç©ºå€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªBooleanæ•°ç»„df.dropna()ï¼šåˆ é™¤æ‰€æœ‰åŒ…å«ç©ºå€¼çš„è¡Œdf.dropna(axis=1)ï¼šåˆ é™¤æ‰€æœ‰åŒ…å«ç©ºå€¼çš„åˆ—df.dropna(axis=1,thresh=n)ï¼šåˆ é™¤æ‰€æœ‰å°äºnä¸ªéç©ºå€¼çš„è¡Œdf.fillna(x)ï¼šç”¨xæ›¿æ¢DataFrameå¯¹è±¡ä¸­æ‰€æœ‰çš„ç©ºå€¼s.astype(float)ï¼šå°†Seriesä¸­çš„æ•°æ®ç±»å‹æ›´æ”¹ä¸ºfloatç±»å‹s.replace(1,â€™oneâ€™)ï¼šç”¨â€˜oneâ€™ä»£æ›¿æ‰€æœ‰ç­‰äº1çš„å€¼s.replace([1,3],[â€˜oneâ€™,â€™threeâ€™])ï¼šç”¨â€™oneâ€™ä»£æ›¿1ï¼Œç”¨â€™threeâ€™ä»£æ›¿3df.rename(columns=lambda x: x + 1)ï¼šæ‰¹é‡æ›´æ”¹åˆ—ådf.rename(columns={â€˜old_nameâ€™: â€˜new_ nameâ€™})ï¼šé€‰æ‹©æ€§æ›´æ”¹åˆ—ådf.set_index(â€˜column_oneâ€™)ï¼šæ›´æ”¹ç´¢å¼•åˆ—df.rename(index=lambda x: x + 1)ï¼šæ‰¹é‡é‡å‘½åç´¢å¼•æ•°æ®å¤„ç†ï¼šFilter ã€Sort å’Œ GroupBydf[df[col] &gt; 0.5]ï¼šé€‰æ‹©colåˆ—çš„å€¼å¤§äº0.5çš„è¡Œdf.sort_values(col1)ï¼šæŒ‰ç…§åˆ—col1æ’åºæ•°æ®ï¼Œé»˜è®¤å‡åºæ’åˆ—df.sort_values(col2, ascending=False)ï¼šæŒ‰ç…§åˆ—col1é™åºæ’åˆ—æ•°æ®df.sort_values([col1,col2], ascending=[True,False])ï¼šå…ˆæŒ‰åˆ—col1å‡åºæ’åˆ—ï¼ŒåæŒ‰col2é™åºæ’åˆ—æ•°æ®df.groupby(col)ï¼šè¿”å›ä¸€ä¸ªæŒ‰åˆ—colè¿›è¡Œåˆ†ç»„çš„Groupbyå¯¹è±¡df.groupby([col1,col2])ï¼šè¿”å›ä¸€ä¸ªæŒ‰å¤šåˆ—è¿›è¡Œåˆ†ç»„çš„Groupbyå¯¹è±¡df.groupby(col1)[col2]ï¼šè¿”å›æŒ‰åˆ—col1è¿›è¡Œåˆ†ç»„åï¼Œåˆ—col2çš„å‡å€¼df.pivot_table(index=col1, values=[col2,col3], aggfunc=max)ï¼šåˆ›å»ºä¸€ä¸ªæŒ‰åˆ—col1è¿›è¡Œåˆ†ç»„ï¼Œå¹¶è®¡ç®—col2å’Œcol3çš„æœ€å¤§å€¼çš„æ•°æ®é€è§†è¡¨df.groupby(col1).agg(np.mean)ï¼šè¿”å›æŒ‰åˆ—col1åˆ†ç»„çš„æ‰€æœ‰åˆ—çš„å‡å€¼data.apply(np.mean)ï¼šå¯¹DataFrameä¸­çš„æ¯ä¸€åˆ—åº”ç”¨å‡½æ•°np.meandata.apply(np.max,axis=1)ï¼šå¯¹DataFrameä¸­çš„æ¯ä¸€è¡Œåº”ç”¨å‡½æ•°np.maxæ•°æ®åˆå¹¶df1.append(df2)ï¼šå°†df2ä¸­çš„è¡Œæ·»åŠ åˆ°df1çš„å°¾éƒ¨df.concat([df1, df2],axis=1)ï¼šå°†df2ä¸­çš„åˆ—æ·»åŠ åˆ°df1çš„å°¾éƒ¨df1.join(df2,on=col1,how=â€™innerâ€™)ï¼šå¯¹df1çš„åˆ—å’Œdf2çš„åˆ—æ‰§è¡ŒSQLå½¢å¼çš„joinæ•°æ®ç»Ÿè®¡df.describe()ï¼šæŸ¥çœ‹æ•°æ®å€¼åˆ—çš„æ±‡æ€»ç»Ÿè®¡df.mean()ï¼šè¿”å›æ‰€æœ‰åˆ—çš„å‡å€¼df.corr()ï¼šè¿”å›åˆ—ä¸åˆ—ä¹‹é—´çš„ç›¸å…³ç³»æ•°df.count()ï¼šè¿”å›æ¯ä¸€åˆ—ä¸­çš„éç©ºå€¼çš„ä¸ªæ•°df.max()ï¼šè¿”å›æ¯ä¸€åˆ—çš„æœ€å¤§å€¼df.min()ï¼šè¿”å›æ¯ä¸€åˆ—çš„æœ€å°å€¼df.median()ï¼šè¿”å›æ¯ä¸€åˆ—çš„ä¸­ä½æ•°df.std()ï¼šè¿”å›æ¯ä¸€åˆ—çš„æ ‡å‡†å·®","categories":[{"name":"Pandas","slug":"Pandas","permalink":"https://qikaile.tk/categories/Pandas/"}],"tags":[{"name":"pandas","slug":"pandas","permalink":"https://qikaile.tk/tags/pandas/"}]},{"title":"ååˆ†é’Ÿæå®š pandas","slug":"ååˆ†é’Ÿæå®špandas","date":"2020-03-27T16:00:00.000Z","updated":"2020-04-04T08:35:09.041Z","comments":true,"path":"ååˆ†é’Ÿæå®špandas.html","link":"","permalink":"https://qikaile.tk/%E5%8D%81%E5%88%86%E9%92%9F%E6%90%9E%E5%AE%9Apandas.html","excerpt":"","text":"å®˜æ–¹ç½‘ç«™ä¸Šã€Š10 Minutes to pandasã€‹çš„ä¸€ä¸ªç®€å•çš„ç¿»è¯‘ï¼ŒåŸæ–‡åœ¨è¿™é‡Œã€‚è¿™ç¯‡æ–‡ç« æ˜¯å¯¹ pandas çš„ä¸€ä¸ªç®€å•çš„ä»‹ç»ï¼Œè¯¦ç»†çš„ä»‹ç»è¯·å‚è€ƒï¼šç§˜ç± ã€‚ä¹ æƒ¯ä¸Šï¼Œæˆ‘ä»¬ä¼šæŒ‰ä¸‹é¢æ ¼å¼å¼•å…¥æ‰€éœ€è¦çš„åŒ…ï¼š12345In [1]: import pandas as pdIn [2]: import numpy as npIn [3]: import matplotlib.pyplot as pltä¸€ã€ åˆ›å»ºå¯¹è±¡å¯ä»¥é€šè¿‡ æ•°æ®ç»“æ„å…¥é—¨ æ¥æŸ¥çœ‹æœ‰å…³è¯¥èŠ‚å†…å®¹çš„è¯¦ç»†ä¿¡æ¯ã€‚1ã€å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ªlistå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªSeriesï¼Œpandas ä¼šé»˜è®¤åˆ›å»ºæ•´å‹ç´¢å¼•ï¼š1234567891011In [4]: s = pd.Series([1,3,5,np.nan,6,8])In [5]: sOut[5]: 0 1.01 3.02 5.03 NaN4 6.05 8.0dtype: float642ã€é€šè¿‡ä¼ é€’ä¸€ä¸ª numpyarrayï¼Œæ—¶é—´ç´¢å¼•ä»¥åŠåˆ—æ ‡ç­¾æ¥åˆ›å»ºä¸€ä¸ªDataFrameï¼š12345678910111213141516171819In [6]: dates = pd.date_range('20130101', periods=6)In [7]: datesOut[7]: DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'], dtype='datetime64[ns]', freq='D')In [8]: df = pd.DataFrame(np.random.randn(6,4), index=dates, columns=list('ABCD'))In [9]: dfOut[9]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-05 -0.424972 0.567020 0.276232 -1.0874012013-01-06 -0.673690 0.113648 -1.478427 0.5249883ã€é€šè¿‡ä¼ é€’ä¸€ä¸ªèƒ½å¤Ÿè¢«è½¬æ¢æˆç±»ä¼¼åºåˆ—ç»“æ„çš„å­—å…¸å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªDataFrameï¼š123456789101112131415In [10]: df2 = pd.DataFrame(&#123; 'A' : 1., ....: 'B' : pd.Timestamp('20130102'), ....: 'C' : pd.Series(1,index=list(range(4)),dtype='float32'), ....: 'D' : np.array([3] * 4,dtype='int32'), ....: 'E' : pd.Categorical([\"test\",\"train\",\"test\",\"train\"]), ....: 'F' : 'foo' &#125;) ....: In [11]: df2Out[11]: A B C D E F0 1.0 2013-01-02 1.0 3 test foo1 1.0 2013-01-02 1.0 3 train foo2 1.0 2013-01-02 1.0 3 test foo3 1.0 2013-01-02 1.0 3 train foo4ã€æŸ¥çœ‹ä¸åŒåˆ—çš„æ•°æ®ç±»å‹ï¼š123456789In [12]: df2.dtypesOut[12]: A float64B datetime64[ns]C float32D int32E categoryF objectdtype: object5ã€å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ IPythonï¼Œä½¿ç”¨ Tab è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ä¼šè‡ªåŠ¨è¯†åˆ«æ‰€æœ‰çš„å±æ€§ä»¥åŠè‡ªå®šä¹‰çš„åˆ—ï¼Œä¸‹å›¾ä¸­æ˜¯æ‰€æœ‰èƒ½å¤Ÿè¢«è‡ªåŠ¨è¯†åˆ«çš„å±æ€§çš„ä¸€ä¸ªå­é›†ï¼š123456789101112131415161718192021222324In [13]: df2.&lt;TAB&gt;df2.A df2.boxplotdf2.abs df2.Cdf2.add df2.clipdf2.add_prefix df2.clip_lowerdf2.add_suffix df2.clip_upperdf2.align df2.columnsdf2.all df2.combinedf2.any df2.combineAdddf2.append df2.combine_firstdf2.apply df2.combineMultdf2.applymap df2.compounddf2.as_blocks df2.consolidatedf2.asfreq df2.convert_objectsdf2.as_matrix df2.copydf2.astype df2.corrdf2.at df2.corrwithdf2.at_time df2.countdf2.axes df2.covdf2.B df2.cummaxdf2.between_time df2.cummindf2.bfill df2.cumproddf2.blocks df2.cumsumdf2.bool df2.DäºŒã€ æŸ¥çœ‹æ•°æ®è¯¦æƒ…è¯·å‚é˜…ï¼šåŸºç¡€ã€‚1ã€ æŸ¥çœ‹DataFrameä¸­å¤´éƒ¨å’Œå°¾éƒ¨çš„è¡Œï¼š123456789101112131415In [14]: df.head()Out[14]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-05 -0.424972 0.567020 0.276232 -1.087401In [15]: df.tail(3)Out[15]: A B C D2013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-05 -0.424972 0.567020 0.276232 -1.0874012013-01-06 -0.673690 0.113648 -1.478427 0.5249882ã€ æ˜¾ç¤ºç´¢å¼•ã€åˆ—å’Œåº•å±‚çš„ numpy æ•°æ®ï¼š1234567891011121314151617In [16]: df.indexOut[16]: DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'], dtype='datetime64[ns]', freq='D')In [17]: df.columnsOut[17]: Index([u'A', u'B', u'C', u'D'], dtype='object')In [18]: df.valuesOut[18]: array([[ 0.4691, -0.2829, -1.5091, -1.1356], [ 1.2121, -0.1732, 0.1192, -1.0442], [-0.8618, -2.1046, -0.4949, 1.0718], [ 0.7216, -0.7068, -1.0396, 0.2719], [-0.425 , 0.567 , 0.2762, -1.0874], [-0.6737, 0.1136, -1.4784, 0.525 ]])3ã€ describe()å‡½æ•°å¯¹äºæ•°æ®çš„å¿«é€Ÿç»Ÿè®¡æ±‡æ€»ï¼š1234567891011In [19]: df.describe()Out[19]: A B C Dcount 6.000000 6.000000 6.000000 6.000000mean 0.073711 -0.431125 -0.687758 -0.233103std 0.843157 0.922818 0.779887 0.973118min -0.861849 -2.104569 -1.509059 -1.13563225% -0.611510 -0.600794 -1.368714 -1.07661050% 0.022070 -0.228039 -0.767252 -0.38618875% 0.658444 0.041933 -0.034326 0.461706max 1.212112 0.567020 0.276232 1.0718044ã€ å¯¹æ•°æ®çš„è½¬ç½®ï¼š1234567In [20]: df.TOut[20]: 2013-01-01 2013-01-02 2013-01-03 2013-01-04 2013-01-05 2013-01-06A 0.469112 1.212112 -0.861849 0.721555 -0.424972 -0.673690B -0.282863 -0.173215 -2.104569 -0.706771 0.567020 0.113648C -1.509059 0.119209 -0.494929 -1.039575 0.276232 -1.478427D -1.135632 -1.044236 1.071804 0.271860 -1.087401 0.5249885ã€ æŒ‰è½´è¿›è¡Œæ’åº123456789In [21]: df.sort_index(axis=1, ascending=False)Out[21]: D C B A2013-01-01 -1.135632 -1.509059 -0.282863 0.4691122013-01-02 -1.044236 0.119209 -0.173215 1.2121122013-01-03 1.071804 -0.494929 -2.104569 -0.8618492013-01-04 0.271860 -1.039575 -0.706771 0.7215552013-01-05 -1.087401 0.276232 0.567020 -0.4249722013-01-06 0.524988 -1.478427 0.113648 -0.6736906ã€ æŒ‰å€¼è¿›è¡Œæ’åº123456789In [22]: df.sort_values(by='B')Out[22]: A B C D2013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-06 -0.673690 0.113648 -1.478427 0.5249882013-01-05 -0.424972 0.567020 0.276232 -1.087401ä¸‰ã€ é€‰æ‹©è™½ç„¶æ ‡å‡†çš„ Python/Numpy çš„é€‰æ‹©å’Œè®¾ç½®è¡¨è¾¾å¼éƒ½èƒ½å¤Ÿç›´æ¥æ´¾ä¸Šç”¨åœºï¼Œä½†æ˜¯ä½œä¸ºå·¥ç¨‹ä½¿ç”¨çš„ä»£ç ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ç»è¿‡ä¼˜åŒ–çš„ pandas æ•°æ®è®¿é—®æ–¹å¼ï¼š .at, .iat, .loc, .iloc å’Œ .ixã€‚è¯¦æƒ…è¯·å‚é˜…ç´¢å¼•å’Œé€‰å–æ•°æ® å’Œ å¤šé‡ç´¢å¼•/é«˜çº§ç´¢å¼•ã€‚è·å–1ã€ é€‰æ‹©ä¸€ä¸ªå•ç‹¬çš„åˆ—ï¼Œè¿™å°†ä¼šè¿”å›ä¸€ä¸ªSeriesï¼Œç­‰åŒäºdf.Aï¼š123456789In [23]: df['A']Out[23]: 2013-01-01 0.4691122013-01-02 1.2121122013-01-03 -0.8618492013-01-04 0.7215552013-01-05 -0.4249722013-01-06 -0.673690Freq: D, Name: A, dtype: float642ã€ é€šè¿‡[]è¿›è¡Œé€‰æ‹©ï¼Œè¿™å°†ä¼šå¯¹è¡Œè¿›è¡Œåˆ‡ç‰‡12345678910111213In [24]: df[0:3]Out[24]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.071804In [25]: df['20130102':'20130104']Out[25]: A B C D2013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.271860é€šè¿‡æ ‡ç­¾é€‰æ‹©1ã€ ä½¿ç”¨æ ‡ç­¾æ¥è·å–ä¸€ä¸ªäº¤å‰çš„åŒºåŸŸ1234567In [26]: df.loc[dates[0]]Out[26]: A 0.469112B -0.282863C -1.509059D -1.135632Name: 2013-01-01 00:00:00, dtype: float642ã€ é€šè¿‡æ ‡ç­¾æ¥åœ¨å¤šä¸ªè½´ä¸Šè¿›è¡Œé€‰æ‹©123456789In [27]: df.loc[:,['A','B']]Out[27]: A B2013-01-01 0.469112 -0.2828632013-01-02 1.212112 -0.1732152013-01-03 -0.861849 -2.1045692013-01-04 0.721555 -0.7067712013-01-05 -0.424972 0.5670202013-01-06 -0.673690 0.1136483ã€ æ ‡ç­¾åˆ‡ç‰‡123456In [28]: df.loc['20130102':'20130104',['A','B']]Out[28]: A B2013-01-02 1.212112 -0.1732152013-01-03 -0.861849 -2.1045692013-01-04 0.721555 -0.7067714ã€ å¯¹äºè¿”å›çš„å¯¹è±¡è¿›è¡Œç»´åº¦ç¼©å‡12345In [29]: df.loc['20130102',['A','B']]Out[29]: A 1.212112B -0.173215Name: 2013-01-02 00:00:00, dtype: float645ã€ è·å–ä¸€ä¸ªæ ‡é‡12In [30]: df.loc[dates[0],'A']Out[30]: 0.469112299907186286ã€ å¿«é€Ÿè®¿é—®ä¸€ä¸ªæ ‡é‡ï¼ˆä¸ä¸Šä¸€ä¸ªæ–¹æ³•ç­‰ä»·ï¼‰12In [31]: df.at[dates[0],'A']Out[31]: 0.46911229990718628é€šè¿‡ä½ç½®é€‰æ‹©1ã€ é€šè¿‡ä¼ é€’æ•°å€¼è¿›è¡Œä½ç½®é€‰æ‹©ï¼ˆé€‰æ‹©çš„æ˜¯è¡Œï¼‰1234567In [32]: df.iloc[3]Out[32]: A 0.721555B -0.706771C -1.039575D 0.271860Name: 2013-01-04 00:00:00, dtype: float642ã€ é€šè¿‡æ•°å€¼è¿›è¡Œåˆ‡ç‰‡ï¼Œä¸ numpy/python ä¸­çš„æƒ…å†µç±»ä¼¼12345In [33]: df.iloc[3:5,0:2]Out[33]: A B2013-01-04 0.721555 -0.7067712013-01-05 -0.424972 0.5670203ã€ é€šè¿‡æŒ‡å®šä¸€ä¸ªä½ç½®çš„åˆ—è¡¨ï¼Œä¸ numpy/python ä¸­çš„æƒ…å†µç±»ä¼¼123456In [34]: df.iloc[[1,2,4],[0,2]]Out[34]: A C2013-01-02 1.212112 0.1192092013-01-03 -0.861849 -0.4949292013-01-05 -0.424972 0.2762324ã€ å¯¹è¡Œè¿›è¡Œåˆ‡ç‰‡12345In [35]: df.iloc[1:3,:]Out[35]: A B C D2013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.0718045ã€ å¯¹åˆ—è¿›è¡Œåˆ‡ç‰‡123456789In [36]: df.iloc[:,1:3]Out[36]: B C2013-01-01 -0.282863 -1.5090592013-01-02 -0.173215 0.1192092013-01-03 -2.104569 -0.4949292013-01-04 -0.706771 -1.0395752013-01-05 0.567020 0.2762322013-01-06 0.113648 -1.4784276ã€ è·å–ç‰¹å®šçš„å€¼12In [37]: df.iloc[1,1]Out[37]: -0.17321464905330858å¿«é€Ÿè®¿é—®æ ‡é‡ï¼ˆç­‰åŒäºå‰ä¸€ä¸ªæ–¹æ³•ï¼‰ï¼š12In [38]: df.iat[1,1]Out[38]: -0.17321464905330858å¸ƒå°”ç´¢å¼•1ã€ ä½¿ç”¨ä¸€ä¸ªå•ç‹¬åˆ—çš„å€¼æ¥é€‰æ‹©æ•°æ®ï¼š123456In [39]: df[df.A &gt; 0]Out[39]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-04 0.721555 -0.706771 -1.039575 0.2718602ã€ ä½¿ç”¨whereæ“ä½œæ¥é€‰æ‹©æ•°æ®ï¼š123456789In [40]: df[df &gt; 0]Out[40]: A B C D2013-01-01 0.469112 NaN NaN NaN2013-01-02 1.212112 NaN 0.119209 NaN2013-01-03 NaN NaN NaN 1.0718042013-01-04 0.721555 NaN NaN 0.2718602013-01-05 NaN 0.567020 0.276232 NaN2013-01-06 NaN 0.113648 NaN 0.5249883ã€ ä½¿ç”¨isin()æ–¹æ³•æ¥è¿‡æ»¤ï¼š12345678910111213141516171819In [41]: df2 = df.copy()In [42]: df2['E'] = ['one', 'one','two','three','four','three']In [43]: df2Out[43]: A B C D E2013-01-01 0.469112 -0.282863 -1.509059 -1.135632 one2013-01-02 1.212112 -0.173215 0.119209 -1.044236 one2013-01-03 -0.861849 -2.104569 -0.494929 1.071804 two2013-01-04 0.721555 -0.706771 -1.039575 0.271860 three2013-01-05 -0.424972 0.567020 0.276232 -1.087401 four2013-01-06 -0.673690 0.113648 -1.478427 0.524988 threeIn [44]: df2[df2['E'].isin(['two','four'])]Out[44]: A B C D E2013-01-03 -0.861849 -2.104569 -0.494929 1.071804 two2013-01-05 -0.424972 0.567020 0.276232 -1.087401 fourè®¾ç½®1ã€ è®¾ç½®ä¸€ä¸ªæ–°çš„åˆ—ï¼š12345678910111213In [45]: s1 = pd.Series([1,2,3,4,5,6], index=pd.date_range('20130102', periods=6))In [46]: s1Out[46]: 2013-01-02 12013-01-03 22013-01-04 32013-01-05 42013-01-06 52013-01-07 6Freq: D, dtype: int64In [47]: df['F'] = s12ã€ é€šè¿‡æ ‡ç­¾è®¾ç½®æ–°çš„å€¼ï¼š1In [48]: df.at[dates[0],'A'] = 03ã€ é€šè¿‡ä½ç½®è®¾ç½®æ–°çš„å€¼ï¼š1In [49]: df.iat[0,1] = 04ã€ é€šè¿‡ä¸€ä¸ªnumpyæ•°ç»„è®¾ç½®ä¸€ç»„æ–°å€¼ï¼š1In [50]: df.loc[:,'D'] = np.array([5] * len(df))ä¸Šè¿°æ“ä½œç»“æœå¦‚ä¸‹ï¼š123456789In [51]: dfOut[51]: A B C D F2013-01-01 0.000000 0.000000 -1.509059 5 NaN2013-01-02 1.212112 -0.173215 0.119209 5 1.02013-01-03 -0.861849 -2.104569 -0.494929 5 2.02013-01-04 0.721555 -0.706771 -1.039575 5 3.02013-01-05 -0.424972 0.567020 0.276232 5 4.02013-01-06 -0.673690 0.113648 -1.478427 5 5.05ã€ é€šè¿‡whereæ“ä½œæ¥è®¾ç½®æ–°çš„å€¼ï¼š12345678910111213In [52]: df2 = df.copy()In [53]: df2[df2 &gt; 0] = -df2In [54]: df2Out[54]: A B C D F2013-01-01 0.000000 0.000000 -1.509059 -5 NaN2013-01-02 -1.212112 -0.173215 -0.119209 -5 -1.02013-01-03 -0.861849 -2.104569 -0.494929 -5 -2.02013-01-04 -0.721555 -0.706771 -1.039575 -5 -3.02013-01-05 -0.424972 -0.567020 -0.276232 -5 -4.02013-01-06 -0.673690 -0.113648 -1.478427 -5 -5.0å››ã€ ç¼ºå¤±å€¼å¤„ç†åœ¨ pandas ä¸­ï¼Œä½¿ç”¨np.nanæ¥ä»£æ›¿ç¼ºå¤±å€¼ï¼Œè¿™äº›å€¼å°†é»˜è®¤ä¸ä¼šåŒ…å«åœ¨è®¡ç®—ä¸­ï¼Œè¯¦æƒ…è¯·å‚é˜…ï¼šç¼ºå¤±çš„æ•°æ®ã€‚1ã€ reindex()æ–¹æ³•å¯ä»¥å¯¹æŒ‡å®šè½´ä¸Šçš„ç´¢å¼•è¿›è¡Œæ”¹å˜/å¢åŠ /åˆ é™¤æ“ä½œï¼Œè¿™å°†è¿”å›åŸå§‹æ•°æ®çš„ä¸€ä¸ªæ‹·è´ï¼š1234567891011In [55]: df1 = df.reindex(index=dates[0:4], columns=list(df.columns) + ['E'])In [56]: df1.loc[dates[0]:dates[1],'E'] = 1In [57]: df1Out[57]: A B C D F E2013-01-01 0.000000 0.000000 -1.509059 5 NaN 1.02013-01-02 1.212112 -0.173215 0.119209 5 1.0 1.02013-01-03 -0.861849 -2.104569 -0.494929 5 2.0 NaN2013-01-04 0.721555 -0.706771 -1.039575 5 3.0 NaN2ã€ å»æ‰åŒ…å«ç¼ºå¤±å€¼çš„è¡Œï¼š1234In [58]: df1.dropna(how='any')Out[58]: A B C D F E2013-01-02 1.212112 -0.173215 0.119209 5 1.0 1.03ã€ å¯¹ç¼ºå¤±å€¼è¿›è¡Œå¡«å……ï¼š1234567In [59]: df1.fillna(value=5)Out[59]: A B C D F E2013-01-01 0.000000 0.000000 -1.509059 5 5.0 1.02013-01-02 1.212112 -0.173215 0.119209 5 1.0 1.02013-01-03 -0.861849 -2.104569 -0.494929 5 2.0 5.02013-01-04 0.721555 -0.706771 -1.039575 5 3.0 5.04ã€ å¯¹æ•°æ®è¿›è¡Œå¸ƒå°”å¡«å……ï¼š1234567n [60]: pd.isnull(df1)Out[60]: A B C D F E2013-01-01 False False False False True False2013-01-02 False False False False False False2013-01-03 False False False False False True2013-01-04 False False False False False Trueäº”ã€ ç›¸å…³æ“ä½œè¯¦æƒ…è¯·å‚ä¸ åŸºæœ¬çš„äºŒè¿›åˆ¶æ“ä½œç»Ÿè®¡ï¼ˆç›¸å…³æ“ä½œé€šå¸¸æƒ…å†µä¸‹ä¸åŒ…æ‹¬ç¼ºå¤±å€¼ï¼‰1ã€ æ‰§è¡Œæè¿°æ€§ç»Ÿè®¡ï¼š12345678In [61]: df.mean()Out[61]: A -0.004474B -0.383981C -0.687758D 5.000000F 3.000000dtype: float642ã€ åœ¨å…¶ä»–è½´ä¸Šè¿›è¡Œç›¸åŒçš„æ“ä½œï¼š123456789In [62]: df.mean(1)Out[62]: 2013-01-01 0.8727352013-01-02 1.4316212013-01-03 0.7077312013-01-04 1.3950422013-01-05 1.8836562013-01-06 1.592306Freq: D, dtype: float643ã€ å¯¹äºæ‹¥æœ‰ä¸åŒç»´åº¦ï¼Œéœ€è¦å¯¹é½çš„å¯¹è±¡è¿›è¡Œæ“ä½œã€‚Pandas ä¼šè‡ªåŠ¨çš„æ²¿ç€æŒ‡å®šçš„ç»´åº¦è¿›è¡Œå¹¿æ’­ï¼š123456789101112131415161718192021In [63]: s = pd.Series([1,3,5,np.nan,6,8], index=dates).shift(2)In [64]: sOut[64]: 2013-01-01 NaN2013-01-02 NaN2013-01-03 1.02013-01-04 3.02013-01-05 5.02013-01-06 NaNFreq: D, dtype: float64In [65]: df.sub(s, axis='index')Out[65]: A B C D F2013-01-01 NaN NaN NaN NaN NaN2013-01-02 NaN NaN NaN NaN NaN2013-01-03 -1.861849 -3.104569 -1.494929 4.0 1.02013-01-04 -2.278445 -3.706771 -4.039575 2.0 0.02013-01-05 -5.424972 -4.432980 -4.723768 0.0 -1.02013-01-06 NaN NaN NaN NaN NaNApply1ã€ å¯¹æ•°æ®åº”ç”¨å‡½æ•°ï¼š123456789101112131415161718In [66]: df.apply(np.cumsum)Out[66]: A B C D F2013-01-01 0.000000 0.000000 -1.509059 5 NaN2013-01-02 1.212112 -0.173215 -1.389850 10 1.02013-01-03 0.350263 -2.277784 -1.884779 15 3.02013-01-04 1.071818 -2.984555 -2.924354 20 6.02013-01-05 0.646846 -2.417535 -2.648122 25 10.02013-01-06 -0.026844 -2.303886 -4.126549 30 15.0In [67]: df.apply(lambda x: x.max() - x.min())Out[67]: A 2.073961B 2.671590C 1.785291D 0.000000F 4.000000dtype: float64ç›´æ–¹å›¾å…·ä½“è¯·å‚ç…§ï¼šç›´æ–¹å›¾å’Œç¦»æ•£åŒ–ã€‚1234567891011121314151617181920212223In [68]: s = pd.Series(np.random.randint(0, 7, size=10))In [69]: sOut[69]: 0 41 22 13 24 65 46 47 68 49 4dtype: int64In [70]: s.value_counts()Out[70]: 4 56 22 21 1dtype: int64å­—ç¬¦ä¸²æ–¹æ³•Serieså¯¹è±¡åœ¨å…¶strå±æ€§ä¸­é…å¤‡äº†ä¸€ç»„å­—ç¬¦ä¸²å¤„ç†æ–¹æ³•ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åº”ç”¨åˆ°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¦‚ä¸‹æ®µä»£ç æ‰€ç¤ºã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒï¼šå­—ç¬¦ä¸²å‘é‡åŒ–æ–¹æ³•ã€‚1234567891011121314In [71]: s = pd.Series(['A', 'B', 'C', 'Aaba', 'Baca', np.nan, 'CABA', 'dog', 'cat'])In [72]: s.str.lower()Out[72]: 0 a1 b2 c3 aaba4 baca5 NaN6 caba7 dog8 catdtype: objectå…­ã€ åˆå¹¶Pandas æä¾›äº†å¤§é‡çš„æ–¹æ³•èƒ½å¤Ÿè½»æ¾çš„å¯¹Seriesï¼ŒDataFrameå’ŒPanelå¯¹è±¡è¿›è¡Œå„ç§ç¬¦åˆå„ç§é€»è¾‘å…³ç³»çš„åˆå¹¶æ“ä½œã€‚å…·ä½“è¯·å‚é˜…ï¼šåˆå¹¶ã€‚Concat1234567891011121314151617181920212223242526272829303132In [73]: df = pd.DataFrame(np.random.randn(10, 4))In [74]: dfOut[74]: 0 1 2 30 -0.548702 1.467327 -1.015962 -0.4830751 1.637550 -1.217659 -0.291519 -1.7455052 -0.263952 0.991460 -0.919069 0.2660463 -0.709661 1.669052 1.037882 -1.7057754 -0.919854 -0.042379 1.247642 -0.0099205 0.290213 0.495767 0.362949 1.5481066 -1.131345 -0.089329 0.337863 -0.9458677 -0.932132 1.956030 0.017587 -0.0166928 -0.575247 0.254161 -1.143704 0.2158979 1.193555 -0.077118 -0.408530 -0.862495# break it into piecesIn [75]: pieces = [df[:3], df[3:7], df[7:]]In [76]: pd.concat(pieces)Out[76]: 0 1 2 30 -0.548702 1.467327 -1.015962 -0.4830751 1.637550 -1.217659 -0.291519 -1.7455052 -0.263952 0.991460 -0.919069 0.2660463 -0.709661 1.669052 1.037882 -1.7057754 -0.919854 -0.042379 1.247642 -0.0099205 0.290213 0.495767 0.362949 1.5481066 -1.131345 -0.089329 0.337863 -0.9458677 -0.932132 1.956030 0.017587 -0.0166928 -0.575247 0.254161 -1.143704 0.2158979 1.193555 -0.077118 -0.408530 -0.862495Joinç±»ä¼¼äº SQL ç±»å‹çš„åˆå¹¶ï¼Œå…·ä½“è¯·å‚é˜…ï¼šæ•°æ®åº“é£æ ¼çš„è¿æ¥1234567891011121314151617181920212223In [77]: left = pd.DataFrame(&#123;'key': ['foo', 'foo'], 'lval': [1, 2]&#125;)In [78]: right = pd.DataFrame(&#123;'key': ['foo', 'foo'], 'rval': [4, 5]&#125;)In [79]: leftOut[79]: key lval0 foo 11 foo 2In [80]: rightOut[80]: key rval0 foo 41 foo 5In [81]: pd.merge(left, right, on='key')Out[81]: key lval rval0 foo 1 41 foo 1 52 foo 2 43 foo 2 5å¦ä¸€ä¸ªä¾‹å­ï¼š123456789101112131415161718192021In [82]: left = pd.DataFrame(&#123;'key': ['foo', 'bar'], 'lval': [1, 2]&#125;)In [83]: right = pd.DataFrame(&#123;'key': ['foo', 'bar'], 'rval': [4, 5]&#125;)In [84]: leftOut[84]: key lval0 foo 11 bar 2In [85]: rightOut[85]: key rval0 foo 41 bar 5In [86]: pd.merge(left, right, on='key')Out[86]: key lval rval0 foo 1 41 bar 2 5Appendå°†ä¸€è¡Œè¿æ¥åˆ°ä¸€ä¸ªDataFrameä¸Šï¼Œå…·ä½“è¯·å‚é˜…é™„åŠ ï¼š12345678910111213141516171819202122232425262728In [87]: df = pd.DataFrame(np.random.randn(8, 4), columns=['A','B','C','D'])In [88]: dfOut[88]: A B C D0 1.346061 1.511763 1.627081 -0.9905821 -0.441652 1.211526 0.268520 0.0245802 -1.577585 0.396823 -0.105381 -0.5325323 1.453749 1.208843 -0.080952 -0.2646104 -0.727965 -0.589346 0.339969 -0.6932055 -0.339355 0.593616 0.884345 1.5914316 0.141809 0.220390 0.435589 0.1924517 -0.096701 0.803351 1.715071 -0.708758In [89]: s = df.iloc[3]In [90]: df.append(s, ignore_index=True)Out[90]: A B C D0 1.346061 1.511763 1.627081 -0.9905821 -0.441652 1.211526 0.268520 0.0245802 -1.577585 0.396823 -0.105381 -0.5325323 1.453749 1.208843 -0.080952 -0.2646104 -0.727965 -0.589346 0.339969 -0.6932055 -0.339355 0.593616 0.884345 1.5914316 0.141809 0.220390 0.435589 0.1924517 -0.096701 0.803351 1.715071 -0.7087588 1.453749 1.208843 -0.080952 -0.264610ä¸ƒã€ åˆ†ç»„å¯¹äºâ€group byâ€æ“ä½œï¼Œæˆ‘ä»¬é€šå¸¸æ˜¯æŒ‡ä»¥ä¸‹ä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œæ­¥éª¤ï¼šï¼ˆSplittingï¼‰æŒ‰ç…§ä¸€äº›è§„åˆ™å°†æ•°æ®åˆ†ä¸ºä¸åŒçš„ç»„ï¼›ï¼ˆApplyingï¼‰å¯¹äºæ¯ç»„æ•°æ®åˆ†åˆ«æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼›ï¼ˆCombiningï¼‰å°†ç»“æœç»„åˆåˆ°ä¸€ä¸ªæ•°æ®ç»“æ„ä¸­ï¼›è¯¦æƒ…è¯·å‚é˜…ï¼š_Grouping section_12345678910111213141516171819In [91]: df = pd.DataFrame(&#123;'A' : ['foo', 'bar', 'foo', 'bar', ....: 'foo', 'bar', 'foo', 'foo'], ....: 'B' : ['one', 'one', 'two', 'three', ....: 'two', 'two', 'one', 'three'], ....: 'C' : np.random.randn(8), ....: 'D' : np.random.randn(8)&#125;) ....: In [92]: dfOut[92]: A B C D0 foo one -1.202872 -0.0552241 bar one -1.814470 2.3959852 foo two 1.018601 1.5528253 bar three -0.595447 0.1665994 foo two 1.395433 0.0476095 bar two -0.392670 -0.1364736 foo one 0.007207 -0.5617577 foo three 1.928123 -1.6230331ã€ åˆ†ç»„å¹¶å¯¹æ¯ä¸ªåˆ†ç»„æ‰§è¡Œsumå‡½æ•°ï¼š123456In [93]: df.groupby('A').sum()Out[93]: C DA bar -2.802588 2.42611foo 3.146492 -0.639582ã€ é€šè¿‡å¤šä¸ªåˆ—è¿›è¡Œåˆ†ç»„å½¢æˆä¸€ä¸ªå±‚æ¬¡ç´¢å¼•ï¼Œç„¶åæ‰§è¡Œå‡½æ•°ï¼š12345678910In [94]: df.groupby(['A','B']).sum()Out[94]: C DA B bar one -1.814470 2.395985 three -0.595447 0.166599 two -0.392670 -0.136473foo one -1.195665 -0.616981 three 1.928123 -1.623033 two 2.414034 1.600434å…«ã€ æ”¹å˜å½¢çŠ¶è¯¦æƒ…è¯·å‚é˜… å±‚æ¬¡ç´¢å¼• å’Œ æ”¹å˜å½¢çŠ¶ã€‚Stack1234567891011121314151617181920In [95]: tuples = list(zip(*[['bar', 'bar', 'baz', 'baz', ....: 'foo', 'foo', 'qux', 'qux'], ....: ['one', 'two', 'one', 'two', ....: 'one', 'two', 'one', 'two']])) ....: In [96]: index = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])In [97]: df = pd.DataFrame(np.random.randn(8, 2), index=index, columns=['A', 'B'])In [98]: df2 = df[:4]In [99]: df2Out[99]: A Bfirst second bar one 0.029399 -0.542108 two 0.282696 -0.087302baz one -1.575170 1.771208 two 0.816482 1.1002301234567891011121314In [100]: stacked = df2.stack()In [101]: stackedOut[101]: first second bar one A 0.029399 B -0.542108 two A 0.282696 B -0.087302baz one A -1.575170 B 1.771208 two A 0.816482 B 1.100230dtype: float641234567891011121314151617181920212223242526In [102]: stacked.unstack()Out[102]: A Bfirst second bar one 0.029399 -0.542108 two 0.282696 -0.087302baz one -1.575170 1.771208 two 0.816482 1.100230In [103]: stacked.unstack(1)Out[103]: second one twofirst bar A 0.029399 0.282696 B -0.542108 -0.087302baz A -1.575170 0.816482 B 1.771208 1.100230In [104]: stacked.unstack(0)Out[104]: first bar bazsecond one A 0.029399 -1.575170 B -0.542108 1.771208two A 0.282696 0.816482 B -0.087302 1.100230æ•°æ®é€è§†è¡¨è¯¦æƒ…è¯·å‚é˜…ï¼šæ•°æ®é€è§†è¡¨.12345678910111213141516171819202122In [105]: df = pd.DataFrame(&#123;'A' : ['one', 'one', 'two', 'three'] * 3, .....: 'B' : ['A', 'B', 'C'] * 4, .....: 'C' : ['foo', 'foo', 'foo', 'bar', 'bar', 'bar'] * 2, .....: 'D' : np.random.randn(12), .....: 'E' : np.random.randn(12)&#125;) .....: In [106]: dfOut[106]: A B C D E0 one A foo 1.418757 -0.1796661 one B foo -1.879024 1.2918362 two C foo 0.536826 -0.0096143 three A bar 1.006160 0.3921494 one B bar -0.029716 0.2645995 one C bar -1.146178 -0.0574096 two A foo 0.100900 -1.4256387 three B foo -1.035018 1.0240988 one C foo 0.314665 -0.1060629 one A bar -0.773723 1.82437510 two B bar -1.170653 0.59597411 three C bar 0.648740 1.167115å¯ä»¥ä»è¿™ä¸ªæ•°æ®ä¸­è½»æ¾çš„ç”Ÿæˆæ•°æ®é€è§†è¡¨ï¼š12345678910111213In [107]: pd.pivot_table(df, values='D', index=['A', 'B'], columns=['C'])Out[107]: C bar fooA B one A -0.773723 1.418757 B -0.029716 -1.879024 C -1.146178 0.314665three A 1.006160 NaN B NaN -1.035018 C 0.648740 NaNtwo A NaN 0.100900 B -1.170653 NaN C NaN 0.536826ä¹ã€ æ—¶é—´åºåˆ—Pandas åœ¨å¯¹é¢‘ç‡è½¬æ¢è¿›è¡Œé‡æ–°é‡‡æ ·æ—¶æ‹¥æœ‰ç®€å•ã€å¼ºå¤§ä¸”é«˜æ•ˆçš„åŠŸèƒ½ï¼ˆå¦‚å°†æŒ‰ç§’é‡‡æ ·çš„æ•°æ®è½¬æ¢ä¸ºæŒ‰5åˆ†é’Ÿä¸ºå•ä½è¿›è¡Œé‡‡æ ·çš„æ•°æ®ï¼‰ã€‚è¿™ç§æ“ä½œåœ¨é‡‘èé¢†åŸŸéå¸¸å¸¸è§ã€‚å…·ä½“å‚è€ƒï¼šæ—¶é—´åºåˆ—ã€‚12345678In [108]: rng = pd.date_range('1/1/2012', periods=100, freq='S')In [109]: ts = pd.Series(np.random.randint(0, 500, len(rng)), index=rng)In [110]: ts.resample('5Min').sum()Out[110]: 2012-01-01 25083Freq: 5T, dtype: int641ã€ æ—¶åŒºè¡¨ç¤ºï¼š1234567891011121314151617181920212223In [111]: rng = pd.date_range('3/6/2012 00:00', periods=5, freq='D')In [112]: ts = pd.Series(np.random.randn(len(rng)), rng)In [113]: tsOut[113]: 2012-03-06 0.4640002012-03-07 0.2273712012-03-08 -0.4969222012-03-09 0.3063892012-03-10 -2.290613Freq: D, dtype: float64In [114]: ts_utc = ts.tz_localize('UTC')In [115]: ts_utcOut[115]: 2012-03-06 00:00:00+00:00 0.4640002012-03-07 00:00:00+00:00 0.2273712012-03-08 00:00:00+00:00 -0.4969222012-03-09 00:00:00+00:00 0.3063892012-03-10 00:00:00+00:00 -2.290613Freq: D, dtype: float642ã€ æ—¶åŒºè½¬æ¢ï¼š12345678In [116]: ts_utc.tz_convert('US/Eastern')Out[116]: 2012-03-05 19:00:00-05:00 0.4640002012-03-06 19:00:00-05:00 0.2273712012-03-07 19:00:00-05:00 -0.4969222012-03-08 19:00:00-05:00 0.3063892012-03-09 19:00:00-05:00 -2.290613Freq: D, dtype: float643ã€ æ—¶é—´è·¨åº¦è½¬æ¢ï¼š1234567891011121314151617181920212223242526272829303132In [117]: rng = pd.date_range('1/1/2012', periods=5, freq='M')In [118]: ts = pd.Series(np.random.randn(len(rng)), index=rng)In [119]: tsOut[119]: 2012-01-31 -1.1346232012-02-29 -1.5618192012-03-31 -0.2608382012-04-30 0.2819572012-05-31 1.523962Freq: M, dtype: float64In [120]: ps = ts.to_period()In [121]: psOut[121]: 2012-01 -1.1346232012-02 -1.5618192012-03 -0.2608382012-04 0.2819572012-05 1.523962Freq: M, dtype: float64In [122]: ps.to_timestamp()Out[122]: 2012-01-01 -1.1346232012-02-01 -1.5618192012-03-01 -0.2608382012-04-01 0.2819572012-05-01 1.523962Freq: MS, dtype: float644ã€ æ—¶æœŸå’Œæ—¶é—´æˆ³ä¹‹é—´çš„è½¬æ¢ä½¿å¾—å¯ä»¥ä½¿ç”¨ä¸€äº›æ–¹ä¾¿çš„ç®—æœ¯å‡½æ•°ã€‚1234567891011121314In [123]: prng = pd.period_range('1990Q1', '2000Q4', freq='Q-NOV')In [124]: ts = pd.Series(np.random.randn(len(prng)), prng)In [125]: ts.index = (prng.asfreq('M', 'e') + 1).asfreq('H', 's') + 9In [126]: ts.head()Out[126]: 1990-03-01 09:00 -0.9029371990-06-01 09:00 0.0681591990-09-01 09:00 -0.0578731990-12-01 09:00 -0.3682041991-03-01 09:00 -1.144073Freq: H, dtype: float64åã€ Categoricalä» 0.15 ç‰ˆæœ¬å¼€å§‹ï¼Œpandas å¯ä»¥åœ¨DataFrameä¸­æ”¯æŒ Categorical ç±»å‹çš„æ•°æ®ï¼Œè¯¦ç»† ä»‹ç»å‚çœ‹ï¼šCategorical ç®€ä»‹å’Œ_API documentation_ã€‚1In [127]: df = pd.DataFrame(&#123;\"id\":[1,2,3,4,5,6], \"raw_grade\":['a', 'b', 'b', 'a', 'a', 'e']&#125;)1ã€ å°†åŸå§‹çš„gradeè½¬æ¢ä¸º Categorical æ•°æ®ç±»å‹ï¼š123456789101112In [128]: df[\"grade\"] = df[\"raw_grade\"].astype(\"category\")In [129]: df[\"grade\"]Out[129]: 0 a1 b2 b3 a4 a5 eName: grade, dtype: categoryCategories (3, object): [a, b, e]2ã€ å°† Categorical ç±»å‹æ•°æ®é‡å‘½åä¸ºæ›´æœ‰æ„ä¹‰çš„åç§°ï¼š1In [130]: df[\"grade\"].cat.categories = [\"very good\", \"good\", \"very bad\"]3ã€ å¯¹ç±»åˆ«è¿›è¡Œé‡æ–°æ’åºï¼Œå¢åŠ ç¼ºå¤±çš„ç±»åˆ«ï¼š123456789101112In [131]: df[\"grade\"] = df[\"grade\"].cat.set_categories([\"very bad\", \"bad\", \"medium\", \"good\", \"very good\"])In [132]: df[\"grade\"]Out[132]: 0 very good1 good2 good3 very good4 very good5 very badName: grade, dtype: categoryCategories (5, object): [very bad, bad, medium, good, very good]4ã€ æ’åºæ˜¯æŒ‰ç…§ Categorical çš„é¡ºåºè¿›è¡Œçš„è€Œä¸æ˜¯æŒ‰ç…§å­—å…¸é¡ºåºè¿›è¡Œï¼š123456789In [133]: df.sort_values(by=\"grade\")Out[133]: id raw_grade grade5 6 e very bad1 2 b good2 3 b good0 1 a very good3 4 a very good4 5 a very good5ã€ å¯¹ Categorical åˆ—è¿›è¡Œæ’åºæ—¶å­˜åœ¨ç©ºçš„ç±»åˆ«ï¼š123456789In [134]: df.groupby(\"grade\").size()Out[134]: gradevery bad 1bad 0medium 0good 2very good 3dtype: int64åä¸€ã€ ç”»å›¾å…·ä½“æ–‡æ¡£å‚çœ‹ï¼šç»˜å›¾æ–‡æ¡£ã€‚123456In [135]: ts = pd.Series(np.random.randn(1000), index=pd.date_range('1/1/2000', periods=1000))In [136]: ts = ts.cumsum()In [137]: ts.plot()Out[137]: &lt;matplotlib.axes._subplots.AxesSubplot at 0x7ff2ab2af550&gt;å¯¹äºDataFrameæ¥è¯´ï¼Œplotæ˜¯ä¸€ç§å°†æ‰€æœ‰åˆ—åŠå…¶æ ‡ç­¾è¿›è¡Œç»˜åˆ¶çš„ç®€ä¾¿æ–¹æ³•ï¼š12345678In [138]: df = pd.DataFrame(np.random.randn(1000, 4), index=ts.index, .....: columns=['A', 'B', 'C', 'D']) .....: In [139]: df = df.cumsum()In [140]: plt.figure(); df.plot(); plt.legend(loc='best')Out[140]: &lt;matplotlib.legend.Legend at 0x7ff29c8163d0&gt;åäºŒã€ å¯¼å…¥å’Œä¿å­˜æ•°æ®CSVå‚è€ƒï¼šå†™å…¥ CSV æ–‡ä»¶ã€‚1ã€ å†™å…¥ csv æ–‡ä»¶ï¼š1In [141]: df.to_csv('foo.csv')2ã€ ä» csv æ–‡ä»¶ä¸­è¯»å–ï¼š1234567891011121314151617181920In [142]: pd.read_csv('foo.csv')Out[142]: Unnamed: 0 A B C D0 2000-01-01 0.266457 -0.399641 -0.219582 1.1868601 2000-01-02 -1.170732 -0.345873 1.653061 -0.2829532 2000-01-03 -1.734933 0.530468 2.060811 -0.5155363 2000-01-04 -1.555121 1.452620 0.239859 -1.1568964 2000-01-05 0.578117 0.511371 0.103552 -2.4282025 2000-01-06 0.478344 0.449933 -0.741620 -1.9624096 2000-01-07 1.235339 -0.091757 -1.543861 -1.084753.. ... ... ... ... ...993 2002-09-20 -10.628548 -9.153563 -7.883146 28.313940994 2002-09-21 -10.390377 -8.727491 -6.399645 30.914107995 2002-09-22 -8.985362 -8.485624 -4.669462 31.367740996 2002-09-23 -9.558560 -8.781216 -4.499815 30.518439997 2002-09-24 -9.902058 -9.340490 -4.386639 30.105593998 2002-09-25 -10.216020 -9.480682 -3.933802 29.758560999 2002-09-26 -11.856774 -10.671012 -3.216025 29.369368[1000 rows x 5 columns]HDF5å‚è€ƒï¼šHDF5 å­˜å‚¨1ã€ å†™å…¥ HDF5 å­˜å‚¨ï¼š1In [143]: df.to_hdf('foo.h5','df')2ã€ ä» HDF5 å­˜å‚¨ä¸­è¯»å–ï¼š1234567891011121314151617181920In [144]: pd.read_hdf('foo.h5','df')Out[144]: A B C D2000-01-01 0.266457 -0.399641 -0.219582 1.1868602000-01-02 -1.170732 -0.345873 1.653061 -0.2829532000-01-03 -1.734933 0.530468 2.060811 -0.5155362000-01-04 -1.555121 1.452620 0.239859 -1.1568962000-01-05 0.578117 0.511371 0.103552 -2.4282022000-01-06 0.478344 0.449933 -0.741620 -1.9624092000-01-07 1.235339 -0.091757 -1.543861 -1.084753... ... ... ... ...2002-09-20 -10.628548 -9.153563 -7.883146 28.3139402002-09-21 -10.390377 -8.727491 -6.399645 30.9141072002-09-22 -8.985362 -8.485624 -4.669462 31.3677402002-09-23 -9.558560 -8.781216 -4.499815 30.5184392002-09-24 -9.902058 -9.340490 -4.386639 30.1055932002-09-25 -10.216020 -9.480682 -3.933802 29.7585602002-09-26 -11.856774 -10.671012 -3.216025 29.369368[1000 rows x 4 columns]Excelå‚è€ƒï¼š_MS Excel_1ã€ å†™å…¥excelæ–‡ä»¶ï¼š1In [145]: df.to_excel('foo.xlsx', sheet_name='Sheet1')2ã€ ä»excelæ–‡ä»¶ä¸­è¯»å–ï¼š1234567891011121314151617181920In [146]: pd.read_excel('foo.xlsx', 'Sheet1', index_col=None, na_values=['NA'])Out[146]: A B C D2000-01-01 0.266457 -0.399641 -0.219582 1.1868602000-01-02 -1.170732 -0.345873 1.653061 -0.2829532000-01-03 -1.734933 0.530468 2.060811 -0.5155362000-01-04 -1.555121 1.452620 0.239859 -1.1568962000-01-05 0.578117 0.511371 0.103552 -2.4282022000-01-06 0.478344 0.449933 -0.741620 -1.9624092000-01-07 1.235339 -0.091757 -1.543861 -1.084753... ... ... ... ...2002-09-20 -10.628548 -9.153563 -7.883146 28.3139402002-09-21 -10.390377 -8.727491 -6.399645 30.9141072002-09-22 -8.985362 -8.485624 -4.669462 31.3677402002-09-23 -9.558560 -8.781216 -4.499815 30.5184392002-09-24 -9.902058 -9.340490 -4.386639 30.1055932002-09-25 -10.216020 -9.480682 -3.933802 29.7585602002-09-26 -11.856774 -10.671012 -3.216025 29.369368[1000 rows x 4 columns]åä¸‰ã€é™·é˜±å¦‚æœä½ å°è¯•æŸä¸ªæ“ä½œå¹¶ä¸”çœ‹åˆ°å¦‚ä¸‹å¼‚å¸¸ï¼š12345&gt;&gt;&gt; if pd.Series([False, True, False]): print(\"I was true\")Traceback ...ValueError: The truth value of an array is ambiguous. Use a.empty, a.any() or a.all().è§£é‡ŠåŠå¤„ç†æ–¹å¼è¯·è§æ¯”è¾ƒã€‚åŒæ—¶è¯·è§é™·é˜±ã€‚","categories":[{"name":"pandas","slug":"pandas","permalink":"https://qikaile.tk/categories/pandas/"}],"tags":[{"name":"pandas","slug":"pandas","permalink":"https://qikaile.tk/tags/pandas/"}]},{"title":"æœºå™¨å­¦ä¹ è¯¾ç¨‹","slug":"æœºå™¨å­¦ä¹ è¯¾ç¨‹","date":"2020-03-27T16:00:00.000Z","updated":"2020-04-27T03:59:01.358Z","comments":true,"path":"æœºå™¨å­¦ä¹ è¯¾ç¨‹.html","link":"","permalink":"https://qikaile.tk/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AF%BE%E7%A8%8B.html","excerpt":"","text":"æœºå™¨å­¦ä¹ æ¦‚è¿°ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ æœºå™¨å­¦ä¹ æ˜¯ä»æ•°æ®ä¸­è‡ªåŠ¨åˆ†æè·å¾—è§„å¾‹(æ¨¡å‹)ï¼Œå¹¶åˆ©ç”¨è§„å¾‹å¯¹æœªçŸ¥æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚æœºå™¨å­¦ä¹ ç®—æ³•åˆ†ç±»ç›‘ç£å­¦ä¹ ç›®æ ‡å€¼ï¼šç±»åˆ«â€”åˆ†ç±»é—®é¢˜KNNã€è´å¶æ–¯åˆ†ç±»ã€å†³ç­–æ ‘ä¸éšæœºæ£®æ—ã€é€»è¾‘å›å½’ç›®æ ‡å€¼ï¼šè¿ç»­å‹æ•°æ®â€”å›å½’é—®é¢˜çº¿æ€§å›å½’ã€å²­å›å½’æ— ç›‘ç£å­¦ä¹ ç›®æ ‡å€¼ï¼šæ— èšç±»K-meansæœºå™¨å­¦ä¹ å¼€å‘æµç¨‹1ï¼‰è·å–æ•°æ®2ï¼‰æ•°æ®å¤„ç†3ï¼‰ç‰¹å¾å·¥ç¨‹4ï¼‰æœºå™¨å­¦ä¹ ç®—æ³•è®­ç»ƒâ€”æ¨¡å‹5ï¼‰æ¨¡å‹è¯„ä¼°6ï¼‰åº”ç”¨ç‰¹å¾å·¥ç¨‹æ•°æ®é›†æ•°æ®â€”â€”â€”æ•°æ®é›†çš„æ„æˆâ€”â€”â€”ç‰¹å¾å€¼ + ç›®æ ‡å€¼å¯ç”¨æ•°æ®é›†Kaggleç‰¹ç‚¹ï¼š1ã€å¤§æ•°æ®ç«èµ›å¹³å° 2ã€80ä¸‡ç§‘å­¦å®¶ 3ã€çœŸå®æ•°æ® 4ã€æ•°æ®é‡å·¨å¤§UCIç‰¹ç‚¹ï¼š1ã€æ”¶å½•äº†360ä¸ªæ•°æ®é›† 2ã€è¦†ç›–ç§‘å­¦ã€ç”Ÿæ´»ã€ç»æµç­‰é¢†åŸŸ 3ã€æ•°æ®é‡å‡ åä¸‡scikit-learnç‰¹ç‚¹ï¼š1ã€æ•°æ®é‡è¾ƒå° 2ã€æ–¹ä¾¿å­¦ä¹ ç½‘å€ï¼šKaggleç½‘å€ï¼šhttps://www.kaggle.com/datasetsUCIæ•°æ®é›†ç½‘å€ï¼š http://archive.ics.uci.edu/ml/scikit-learnç½‘å€ï¼šhttp://scikit-learn.org/stable/datasets/index.html#datasetssklearnæ•°æ®é›†load_*å°è§„æ¨¡çš„æ•°æ®é›†fetch_*å¤§è§„æ¨¡çš„æ•°æ®é›†Bunchç±»å‹æ•°æ®é›†åˆ’åˆ†â€”model_selection.train_test_split()è®­ç»ƒæ•°æ®ï¼šç”¨äºè®­ç»ƒï¼Œæ„å»ºæ¨¡å‹æµ‹è¯•æ•°æ®ï¼šåœ¨æ¨¡å‹æ£€éªŒæ—¶ä½¿ç”¨ï¼Œç”¨äºè¯„ä¼°æ¨¡å‹æ˜¯å¦æœ‰æ•ˆç‰¹å¾å·¥ç¨‹ä»‹ç»ç‰¹å¾å·¥ç¨‹æ˜¯å°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºæ›´å¥½åœ°ä»£è¡¨é¢„æµ‹æ¨¡å‹çš„æ½œåœ¨é—®é¢˜çš„ç‰¹å¾çš„è¿‡ç¨‹ï¼Œä»è€Œæé«˜äº†å¯¹æœªçŸ¥æ•°æ®çš„æ¨¡å‹å‡†ç¡®æ€§ã€‚sklearn ç‰¹å¾å·¥ç¨‹Scikit-learnåŒ…å«çš„å†…å®¹ï¼šåˆ†ç±»ã€èšç±»ã€å›å½’ã€ç‰¹å¾å·¥ç¨‹ã€æ¨¡å‹é€‰æ‹©å’Œè°ƒä¼˜ã€‚pandas æ•°æ®æ¸…æ´—ã€æ•°æ®å¤„ç†ç‰¹å¾å¤„ç†æ˜¯ç‰¹å¾å·¥ç¨‹çš„æ ¸å¿ƒéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ç‰¹å¾æå–ã€æ•°æ®é¢„å¤„ç†ã€ç‰¹å¾é€‰æ‹©ã€ç‰¹å¾é™ç»´ç­‰ã€‚ç‰¹å¾æå–ç‰¹å¾æå–åŒ…æ‹¬å°†ä»»æ„æ•°æ®ï¼ˆå¦‚æ–‡æœ¬æˆ–å›¾åƒï¼‰è½¬æ¢ä¸ºå¯ç”¨äºæœºå™¨å­¦ä¹ çš„æ•°å­—ç‰¹å¾ã€‚æ³¨ï¼šç‰¹å¾å€¼åŒ–æ˜¯ä¸ºäº†è®¡ç®—æœºæ›´å¥½çš„å»ç†è§£æ•°æ®åŒ…ï¼šsklearn.feature_extractionå­—å…¸ç‰¹å¾æå–åº”ç”¨DictVectorizerå®ç°å¯¹ç±»åˆ«ç‰¹å¾è¿›è¡Œæ•°å€¼åŒ–ã€ç¦»æ•£åŒ–sklearn.feature_extraction.DictVectorizer(sparse=True,â€¦)DictVectorizer.fit_transform(X) X:å­—å…¸æˆ–è€…åŒ…å«å­—å…¸çš„è¿­ä»£å™¨è¿”å›å€¼ï¼šè¿”å›sparseçŸ©é˜µDictVectorizer.inverse_transform(X) X:arrayæ•°ç»„æˆ–è€…sparseçŸ©é˜µ è¿”å›å€¼:è½¬æ¢ä¹‹å‰æ•°æ®æ ¼å¼DictVectorizer.get_feature_names() è¿”å›ç±»åˆ«åç§°åº”ç”¨ï¼šä»£ç ï¼š12345678910#å¯¹å­—å…¸ç±»å‹çš„æ•°æ®è¿›è¡Œç‰¹å¾æŠ½å–from sklearn.feature_extraction import DictVectorizerdata = [&#123;'city': 'åŒ—äº¬','temperature':100&#125;, &#123;'city': 'ä¸Šæµ·','temperature':60&#125;, &#123;'city': 'æ·±åœ³','temperature':30&#125;]# 1ã€å®ä¾‹åŒ–ä¸€ä¸ªè½¬æ¢å™¨ç±»transfer = DictVectorizer(sparse=False)# 2ã€è°ƒç”¨fit_transformdata = transfer.fit_transform(data)print(\"è¿”å›çš„ç»“æœ:\\n\", data)# æ‰“å°ç‰¹å¾åå­—print(\"ç‰¹å¾åå­—ï¼š\\n\", transfer.get_feature_names())è¾“å‡ºç»“æœï¼š123456è¿”å›çš„ç»“æœ: [[ 0. 1. 0. 100.] [ 1. 0. 0. 60.] [ 0. 0. 1. 30.]]ç‰¹å¾åå­—ï¼š ['city=ä¸Šæµ·', 'city=åŒ—äº¬', 'city=æ·±åœ³', 'temperature']æ–‡æœ¬ç‰¹å¾æå–ç‹¬çƒ­ç¼–ç ï¼ˆOne-HotEncodingï¼‰åº”ç”¨CountVectorizerå®ç°å¯¹æ–‡æœ¬ç‰¹å¾è¿›è¡Œæ•°å€¼åŒ–åº”ç”¨TfidfVectorizer(TF-IDF)å®ç°å¯¹æ–‡æœ¬ç‰¹å¾è¿›è¡Œæ•°å€¼åŒ–sklearn.feature_extraction.text.CountVectorizer(stop_words=[])è¿”å›è¯é¢‘çŸ©é˜µCountVectorizer.fit_transform(X) X:æ–‡æœ¬æˆ–è€…åŒ…å«æ–‡æœ¬å­—ç¬¦ä¸²çš„å¯è¿­ä»£å¯¹è±¡ è¿”å›å€¼ï¼šè¿”å›sparseçŸ©é˜µCountVectorizer.inverse_transform(X) X:arrayæ•°ç»„æˆ–è€…sparseçŸ©é˜µ è¿”å›å€¼:è½¬æ¢ä¹‹å‰æ•°æ®æ ¼CountVectorizer.get_feature_names() è¿”å›å€¼:å•è¯åˆ—è¡¨sklearn.feature_extraction.text.TfidfVectorizerTF-IDFçš„ä¸»è¦æ€æƒ³æ˜¯ï¼šå¦‚æœæŸä¸ªè¯æˆ–çŸ­è¯­åœ¨ä¸€ç¯‡æ–‡ç« ä¸­å‡ºç°çš„æ¦‚ç‡é«˜ï¼Œå¹¶ä¸”åœ¨å…¶ä»–æ–‡ç« ä¸­å¾ˆå°‘å‡ºç°ï¼Œåˆ™è®¤ä¸ºæ­¤è¯æˆ–è€…çŸ­è¯­å…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ï¼Œé€‚åˆç”¨æ¥åˆ†ç±»ã€‚TF-IDFä½œç”¨ï¼šç”¨ä»¥è¯„ä¼°ä¸€å­—è¯å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–ä¸€ä¸ªè¯­æ–™åº“ä¸­çš„å…¶ä¸­ä¸€ä»½æ–‡ä»¶çš„é‡è¦ç¨‹åº¦ã€‚12345678from sklearn.feature_extraction.text import TfidfVectorizer# å¯¹äºæ–‡æœ¬æ•°æ®ï¼Œè¿›è¡Œç‰¹å¾æŠ½å–tf = TfidfVectorizer()x_train = tf.fit_transform(x_train)#20ç±»æ–°é—»åˆ†ç±»æ•°æ®é›†#è¿™é‡Œæ‰“å°å‡ºæ¥çš„åˆ—è¡¨æ˜¯ï¼šè®­ç»ƒé›†å½“ä¸­çš„æ‰€æœ‰ä¸åŒè¯çš„ç»„æˆçš„ä¸€ä¸ªåˆ—è¡¨print(tf.get_feature_names())# print(x_train.toarray())x_test = tf.transform(x_test) # ä¸éœ€è¦fit_transformåº”ç”¨ä»£ç ï¼š1234567891011121314151617181920212223from sklearn.feature_extraction.text import CountVectorizer,TfidfVectorizerimport jiebadef cut_word(text): # ç”¨jiebaå¯¹ä¸­æ–‡å­—ç¬¦ä¸²è¿›è¡Œåˆ†è¯ text = \" \".join(list(jieba.cut(text))) return text#å¯¹ä¸­æ–‡è¿›è¡Œç‰¹å¾æŠ½å–data = [\"ä¸€ç§è¿˜æ˜¯ä¸€ç§ä»Šå¤©å¾ˆæ®‹é…·ï¼Œæ˜å¤©æ›´æ®‹é…·ï¼Œåå¤©å¾ˆç¾å¥½ï¼Œä½†ç»å¯¹å¤§éƒ¨åˆ†æ˜¯æ­»åœ¨æ˜å¤©æ™šä¸Šï¼Œæ‰€ä»¥æ¯ä¸ªäººä¸è¦æ”¾å¼ƒä»Šå¤©ã€‚\", \"æˆ‘ä»¬çœ‹åˆ°çš„ä»å¾ˆè¿œæ˜Ÿç³»æ¥çš„å…‰æ˜¯åœ¨å‡ ç™¾ä¸‡å¹´ä¹‹å‰å‘å‡ºçš„ï¼Œè¿™æ ·å½“æˆ‘ä»¬çœ‹åˆ°å®‡å®™æ—¶ï¼Œæˆ‘ä»¬æ˜¯åœ¨çœ‹å®ƒçš„è¿‡å»ã€‚\", \"å¦‚æœåªç”¨ä¸€ç§æ–¹å¼äº†è§£æŸæ ·äº‹ç‰©ï¼Œä½ å°±ä¸ä¼šçœŸæ­£äº†è§£å®ƒã€‚äº†è§£äº‹ç‰©çœŸæ­£å«ä¹‰çš„ç§˜å¯†å–å†³äºå¦‚ä½•å°†å…¶ä¸æˆ‘ä»¬æ‰€äº†è§£çš„äº‹ç‰©ç›¸è”ç³»ã€‚\", \"life is short,i like like python\", \"life is too long,i dislike python\"]# å°†åŸå§‹æ•°æ®è½¬æ¢æˆåˆ†å¥½è¯çš„å½¢å¼text_list = []for sent in data: text_list.append(cut_word(sent))print(text_list)# 1ã€å®ä¾‹åŒ–ä¸€ä¸ªè½¬æ¢å™¨ç±»transfer = CountVectorizer()#transfer = TfidfVectorizer()# 2ã€è°ƒç”¨fit_transformdata = transfer.fit_transform(text_list)print(\"æ–‡æœ¬ç‰¹å¾æŠ½å–çš„ç»“æœï¼š\\n\", data.toarray())print(\"è¿”å›ç‰¹å¾åå­—ï¼š\\n\", transfer.get_feature_names())è¾“å‡ºç»“æœï¼š1234567891011121314['ä¸€ç§ è¿˜æ˜¯ ä¸€ç§ ä»Šå¤© å¾ˆ æ®‹é…· ï¼Œ æ˜å¤© æ›´ æ®‹é…· ï¼Œ åå¤© å¾ˆ ç¾å¥½ ï¼Œ ä½† ç»å¯¹ å¤§éƒ¨åˆ† æ˜¯ æ­» åœ¨ æ˜å¤© æ™šä¸Š ï¼Œ æ‰€ä»¥ æ¯ä¸ª äºº ä¸è¦ æ”¾å¼ƒ ä»Šå¤© ã€‚', 'æˆ‘ä»¬ çœ‹åˆ° çš„ ä» å¾ˆ è¿œ æ˜Ÿç³» æ¥ çš„ å…‰æ˜¯åœ¨ å‡ ç™¾ä¸‡å¹´ ä¹‹å‰ å‘å‡º çš„ ï¼Œ è¿™æ · å½“ æˆ‘ä»¬ çœ‹åˆ° å®‡å®™ æ—¶ ï¼Œ æˆ‘ä»¬ æ˜¯ åœ¨ çœ‹ å®ƒ çš„ è¿‡å» ã€‚', 'å¦‚æœ åªç”¨ ä¸€ç§ æ–¹å¼ äº†è§£ æŸæ · äº‹ç‰© ï¼Œ ä½  å°± ä¸ä¼š çœŸæ­£ äº†è§£ å®ƒ ã€‚ äº†è§£ äº‹ç‰© çœŸæ­£ å«ä¹‰ çš„ ç§˜å¯† å–å†³äº å¦‚ä½• å°† å…¶ ä¸ æˆ‘ä»¬ æ‰€ äº†è§£ çš„ äº‹ç‰© ç›¸ è”ç³» ã€‚', 'life is short , i like like python', 'life is too long , i dislike python']æ–‡æœ¬ç‰¹å¾æŠ½å–çš„ç»“æœï¼š [[0 0 0 0 0 0 0 0 2 0 1 0 0 0 2 0 0 0 0 0 1 0 1 0 0 0 0 1 1 0 2 0 1 0 2 1 0 0 0 1 1 0 0 1 0] [0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1 1 1 0 0 0 0 0 0 0 1 3 0 0 0 0 1 0 0 0 0 2 0 0 0 0 0 1 0 1] [0 0 0 0 0 0 0 0 1 1 0 0 4 3 0 0 0 0 1 1 0 1 0 1 1 0 1 0 0 1 0 0 0 1 0 0 0 2 1 0 0 1 0 0 0] [0 1 1 2 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [1 1 1 0 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]]è¿”å›ç‰¹å¾åå­—ï¼š ['dislike', 'is', 'life', 'like', 'long', 'python', 'short', 'too', 'ä¸€ç§', 'ä¸ä¼š', 'ä¸è¦', 'ä¹‹å‰', 'äº†è§£', 'äº‹ç‰©', 'ä»Šå¤©', 'å…‰æ˜¯åœ¨', 'å‡ ç™¾ä¸‡å¹´', 'å‘å‡º', 'å–å†³äº', 'åªç”¨', 'åå¤©', 'å«ä¹‰', 'å¤§éƒ¨åˆ†', 'å¦‚ä½•', 'å¦‚æœ', 'å®‡å®™', 'æˆ‘ä»¬', 'æ‰€ä»¥', 'æ”¾å¼ƒ', 'æ–¹å¼', 'æ˜å¤©', 'æ˜Ÿç³»', 'æ™šä¸Š', 'æŸæ ·', 'æ®‹é…·', 'æ¯ä¸ª', 'çœ‹åˆ°', 'çœŸæ­£', 'ç§˜å¯†', 'ç»å¯¹', 'ç¾å¥½', 'è”ç³»', 'è¿‡å»', 'è¿˜æ˜¯', 'è¿™æ ·']å›¾åƒç‰¹å¾æå–ï¼ˆæ·±åº¦å­¦ä¹ å°†ä»‹ç»ï¼‰æ•°æ®é¢„å¤„ç†å»é™¤å”¯ä¸€å±æ€§å”¯ä¸€å±æ€§é€šå¸¸æ˜¯ä¸€äº›idå±æ€§ï¼Œè¿™äº›å±æ€§å¹¶ä¸èƒ½åˆ»ç”»æ ·æœ¬è‡ªèº«çš„åˆ†å¸ƒè§„å¾‹ï¼Œæ‰€ä»¥ç®€å•åœ°åˆ é™¤è¿™äº›å±æ€§å³å¯ã€‚å¤„ç†ç¼ºå¤±å€¼ç¼ºå¤±å€¼å¤„ç†çš„ä¸‰ç§æ–¹æ³•ï¼šç›´æ¥ä½¿ç”¨å«æœ‰ç¼ºå¤±å€¼çš„ç‰¹å¾ï¼›åˆ é™¤å«æœ‰ç¼ºå¤±å€¼çš„ç‰¹å¾ï¼ˆè¯¥æ–¹æ³•åœ¨åŒ…å«ç¼ºå¤±å€¼çš„å±æ€§å«æœ‰å¤§é‡ç¼ºå¤±å€¼è€Œä»…ä»…åŒ…å«æå°‘é‡æœ‰æ•ˆå€¼æ—¶æ˜¯æœ‰æ•ˆçš„ï¼‰ï¼›ç¼ºå¤±å€¼è¡¥å…¨ã€‚å¸¸è§çš„ç¼ºå¤±å€¼è¡¥å…¨æ–¹æ³•ï¼šå‡å€¼æ’è¡¥ã€åŒç±»å‡å€¼æ’è¡¥ã€å»ºæ¨¡é¢„æµ‹ã€é«˜ç»´æ˜ å°„ã€å¤šé‡æ’è¡¥ã€æå¤§ä¼¼ç„¶ä¼°è®¡ã€å‹ç¼©æ„ŸçŸ¥å’ŒçŸ©é˜µè¡¥å…¨ã€‚ï¼ˆ1ï¼‰å‡å€¼æ’è¡¥å¦‚æœæ ·æœ¬å±æ€§çš„è·ç¦»æ˜¯å¯åº¦é‡çš„ï¼Œåˆ™ä½¿ç”¨è¯¥å±æ€§æœ‰æ•ˆå€¼çš„å¹³å‡å€¼æ¥æ’è¡¥ç¼ºå¤±çš„å€¼ï¼›å¦‚æœçš„è·ç¦»æ˜¯ä¸å¯åº¦é‡çš„ï¼Œåˆ™ä½¿ç”¨è¯¥å±æ€§æœ‰æ•ˆå€¼çš„ä¼—æ•°æ¥æ’è¡¥ç¼ºå¤±çš„å€¼ã€‚å¦‚æœä½¿ç”¨ä¼—æ•°æ’è¡¥ï¼Œå‡ºç°æ•°æ®å€¾æ–œä¼šé€ æˆä»€ä¹ˆå½±å“ï¼Ÿï¼ˆ2ï¼‰åŒç±»å‡å€¼æ’è¡¥é¦–å…ˆå°†æ ·æœ¬è¿›è¡Œåˆ†ç±»ï¼Œç„¶åä»¥è¯¥ç±»ä¸­æ ·æœ¬çš„å‡å€¼æ¥æ’è¡¥ç¼ºå¤±å€¼ã€‚ï¼ˆ3ï¼‰å»ºæ¨¡é¢„æµ‹å°†ç¼ºå¤±çš„å±æ€§ä½œä¸ºé¢„æµ‹ç›®æ ‡æ¥é¢„æµ‹ï¼Œå°†æ•°æ®é›†æŒ‰ç…§æ˜¯å¦å«æœ‰ç‰¹å®šå±æ€§çš„ç¼ºå¤±å€¼åˆ†ä¸ºä¸¤ç±»ï¼Œåˆ©ç”¨ç°æœ‰çš„æœºå™¨å­¦ä¹ ç®—æ³•å¯¹å¾…é¢„æµ‹æ•°æ®é›†çš„ç¼ºå¤±å€¼è¿›è¡Œé¢„æµ‹ã€‚è¯¥æ–¹æ³•çš„æ ¹æœ¬çš„ç¼ºé™·æ˜¯å¦‚æœå…¶ä»–å±æ€§å’Œç¼ºå¤±å±æ€§æ— å…³ï¼Œåˆ™é¢„æµ‹çš„ç»“æœæ¯«æ— æ„ä¹‰ï¼›ä½†æ˜¯è‹¥é¢„æµ‹ç»“æœç›¸å½“å‡†ç¡®ï¼Œåˆ™è¯´æ˜è¿™ä¸ªç¼ºå¤±å±æ€§æ˜¯æ²¡å¿…è¦çº³å…¥æ•°æ®é›†ä¸­çš„ï¼›ä¸€èˆ¬çš„æƒ…å†µæ˜¯ä»‹äºä¸¤è€…ä¹‹é—´ã€‚ï¼ˆ4ï¼‰é«˜ç»´æ˜ å°„å°†å±æ€§æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ï¼Œé‡‡ç”¨ç‹¬çƒ­ç ç¼–ç ï¼ˆone-hotï¼‰æŠ€æœ¯ã€‚å°†åŒ…å«Kä¸ªç¦»æ•£å–å€¼èŒƒå›´çš„å±æ€§å€¼æ‰©å±•ä¸ºK+1ä¸ªå±æ€§å€¼ï¼Œè‹¥è¯¥å±æ€§å€¼ç¼ºå¤±ï¼Œåˆ™æ‰©å±•åçš„ç¬¬K+1ä¸ªå±æ€§å€¼ç½®ä¸º1ã€‚è¿™ç§åšæ³•æ˜¯æœ€ç²¾ç¡®çš„åšæ³•ï¼Œä¿ç•™äº†æ‰€æœ‰çš„ä¿¡æ¯ï¼Œä¹Ÿæœªæ·»åŠ ä»»ä½•é¢å¤–ä¿¡æ¯ï¼Œè‹¥é¢„å¤„ç†æ—¶æŠŠæ‰€æœ‰çš„å˜é‡éƒ½è¿™æ ·å¤„ç†ï¼Œä¼šå¤§å¤§å¢åŠ æ•°æ®çš„ç»´åº¦ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å®Œæ•´ä¿ç•™äº†åŸå§‹æ•°æ®çš„å…¨éƒ¨ä¿¡æ¯ã€ä¸ç”¨è€ƒè™‘ç¼ºå¤±å€¼ï¼›ç¼ºç‚¹æ˜¯è®¡ç®—é‡å¤§å¤§æå‡ï¼Œä¸”åªæœ‰åœ¨æ ·æœ¬é‡éå¸¸å¤§çš„æ—¶å€™æ•ˆæœæ‰å¥½ã€‚ï¼ˆ5ï¼‰å¤šé‡æ’è¡¥ï¼ˆMultipleImputationï¼ŒMIï¼‰å¤šé‡æ’è¡¥è®¤ä¸ºå¾…æ’è¡¥çš„å€¼æ˜¯éšæœºçš„ï¼Œå®è·µä¸Šé€šå¸¸æ˜¯ä¼°è®¡å‡ºå¾…æ’è¡¥çš„å€¼ï¼Œå†åŠ ä¸Šä¸åŒçš„å™ªå£°ï¼Œå½¢æˆå¤šç»„å¯é€‰æ’è¡¥å€¼ï¼Œæ ¹æ®æŸç§é€‰æ‹©ä¾æ®ï¼Œé€‰å–æœ€åˆé€‚çš„æ’è¡¥å€¼ã€‚ï¼ˆ6ï¼‰å‹ç¼©æ„ŸçŸ¥å’ŒçŸ©é˜µè¡¥å…¨ï¼ˆ7ï¼‰æ‰‹åŠ¨æ’è¡¥æ’è¡¥å¤„ç†åªæ˜¯å°†æœªçŸ¥å€¼è¡¥ä»¥æˆ‘ä»¬çš„ä¸»è§‚ä¼°è®¡å€¼ï¼Œä¸ä¸€å®šå®Œå…¨ç¬¦åˆå®¢è§‚äº‹å®ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ ¹æ®å¯¹æ‰€åœ¨é¢†åŸŸçš„ç†è§£ï¼Œæ‰‹åŠ¨å¯¹ç¼ºå¤±å€¼è¿›è¡Œæ’è¡¥çš„æ•ˆæœä¼šæ›´å¥½ã€‚ç‰¹å¾ç¼–ç ï¼ˆ1ï¼‰æ ‡ç­¾å¤„ç†é€šå¸¸æˆ‘ä»¬ä¼šæŠŠå­—ç¬¦å‹çš„æ ‡ç­¾è½¬æ¢æˆæ•°å€¼å‹çš„ä»£ç ï¼š123456789101112131415161718import pandas as pddf = pd.DataFrame([ ['green', 'M', 10.1, 'class1'], ['red', 'L', 13.5, 'class2'], ['blue', 'XL', 15.3, 'class1']])df.columns = ['color', 'size', 'prize', 'class label']#æ ‡ç­¾å¤„ç†class_mapping = &#123;label:idx for idx,label in enumerate(set(df['class label']))&#125;df['class label'] = df['class label'].map(class_mapping)print(df)print('-----------------------------------')size_mapping = &#123; 'XL': 3, 'L': 2, 'M': 1&#125;df['size'] = df['size'].map(size_mapping)print(df)è¾“å‡ºç»“æœ:123456789 color size prize class label0 green M 10.1 11 red L 13.5 02 blue XL 15.3 1----------------------------------- color size prize class label0 green 1 10.1 11 red 2 13.5 02 blue 3 15.3 1ï¼ˆ2ï¼‰äºŒå€¼åŒ–äºŒå€¼åŒ–çš„è¿‡ç¨‹æ˜¯å°†æ•°å€¼å‹çš„å±æ€§è½¬æ¢ä¸ºå¸ƒå°”å€¼çš„å±æ€§ï¼Œè®¾å®šä¸€ä¸ªé˜ˆå€¼ä½œä¸ºåˆ’åˆ†å±æ€§å€¼ä¸º0å’Œ1çš„åˆ†éš”ç‚¹ã€‚ä½¿ç”¨preproccessingåº“çš„Binarizerç±»å¯¹æ•°æ®è¿›è¡ŒäºŒå€¼åŒ–çš„ä»£ç å¦‚ä¸‹ï¼š123from sklearn.preprocessing import Binarizer#äºŒå€¼åŒ–ï¼Œé˜ˆå€¼è®¾ç½®ä¸º3ï¼Œè¿”å›å€¼ä¸ºäºŒå€¼åŒ–åçš„æ•°æ®Binarizer(threshold=3).fit_transform(X) #X=iris.dataï¼ˆé¸¢å°¾èŠ±ï¼‰æ•°æ®é›†ï¼ˆ3ï¼‰scikit DictVectorizerä»£ç ï¼š123456789101112131415161718192021222324252627import pandas as pddf = pd.DataFrame([ ['green', 'M', 10.1, 'class1'], ['red', 'L', 13.5, 'class2'], ['blue', 'XL', 15.3, 'class1']])df.columns = ['color', 'size', 'prize', 'class label']print(df)print('----------------------------------------------------------------------')#print(df.transpose().to_dict().values())#print('----------------------------------------------------------------------')feature = df.iloc[:, :-1]print(feature)print('----------------------------------------------------------------------')# â‘¡å¯¹äºxè½¬æ¢æˆå­—å…¸æ•°æ®feature=feature.to_dict(orient=\"records\")#feature=feature.transpose().to_dict().values() #å¯¹æ‰€æœ‰çš„æ•°æ®éƒ½åšäº†æ˜ å°„#ä½¿ç”¨ DictVectorizerå°†å¾—åˆ°ç‰¹å¾çš„å­—å…¸from sklearn.feature_extraction import DictVectorizerdvec = DictVectorizer(sparse=False)X = dvec.fit_transform(feature)print(dvec.get_feature_names())print('----------------------------------------------------------------------')print(X)print('----------------------------------------------------------------------')#å¯ä»¥è°ƒç”¨ get_feature_names æ¥è¿”å›æ–°çš„åˆ—çš„åå­—ï¼Œå…¶ä¸­0å’Œ1å°±ä»£è¡¨æ˜¯ä¸æ˜¯è¿™ä¸ªå±æ€§.data=pd.DataFrame(X, columns=dvec.get_feature_names())print(data)è¾“å‡ºç»“æœ:1234567891011121314151617181920 color size prize class label0 green M 10.1 class11 red L 13.5 class22 blue XL 15.3 class1---------------------------------------------------------------------- color size prize0 green M 10.11 red L 13.52 blue XL 15.3----------------------------------------------------------------------['color=blue', 'color=green', 'color=red', 'prize', 'size=L', 'size=M', 'size=XL']----------------------------------------------------------------------[[ 0. 1. 0. 10.1 0. 1. 0. ] [ 0. 0. 1. 13.5 1. 0. 0. ] [ 1. 0. 0. 15.3 0. 0. 1. ]]---------------------------------------------------------------------- color=blue color=green color=red prize size=L size=M size=XL0 0.0 1.0 0.0 10.1 0.0 1.0 0.01 0.0 0.0 1.0 13.5 1.0 0.0 0.02 1.0 0.0 0.0 15.3 0.0 0.0 1.0ï¼ˆ4ï¼‰ç‹¬çƒ­ç¼–ç ï¼ˆOne-HotEncodingï¼‰ç‹¬çƒ­ç¼–ç é‡‡ç”¨Nä½çŠ¶æ€å¯„å­˜å™¨æ¥å¯¹Nä¸ªå¯èƒ½çš„å–å€¼è¿›è¡Œç¼–ç ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½ç”±ç‹¬ç«‹çš„å¯„å­˜å™¨æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”åœ¨ä»»æ„æ—¶åˆ»åªæœ‰å…¶ä¸­ä¸€ä½æœ‰æ•ˆã€‚ç‹¬çƒ­ç¼–ç çš„ä¼˜ç‚¹ï¼šèƒ½å¤Ÿå¤„ç†éæ•°å€¼å±æ€§ï¼›åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ‰©å……äº†ç‰¹å¾ï¼›ç¼–ç åçš„å±æ€§æ˜¯ç¨€ç–çš„ï¼Œå­˜åœ¨å¤§é‡çš„é›¶å…ƒåˆ†é‡ã€‚ä»£ç ï¼š12345678910111213141516import pandas as pddf = pd.DataFrame([ ['green', 'M', 10.1, 'class1'], ['red', 'L', 13.5, 'class2'], ['blue', 'XL', 15.3, 'class1']])df.columns = ['color', 'size', 'prize', 'class label']#OneHotEncoder å¿…é¡»ä½¿ç”¨æ•´æ•°ä½œä¸ºè¾“å…¥ï¼Œæ‰€ä»¥å¾—å…ˆä½¿ç”¨scikit LabelEncoderå¤„ç†ä¸€ä¸‹from sklearn.preprocessing import LabelEncoderclass_le = LabelEncoder()df['class label'] = class_le.fit_transform(df['class label'])print(df)print('-----------------------------------')from sklearn.preprocessing import OneHotEncoderohe = OneHotEncoder(sparse=False)X = ohe.fit_transform(df[['color']].values)print(X)è¾“å‡ºç»“æœ:12345678 color size prize class label0 green M 10.1 01 red L 13.5 12 blue XL 15.3 0-----------------------------------[[0. 1. 0.] [0. 0. 1.] [1. 0. 0.]]æ³¨ï¼šPandasåº“ä¸­åŒæ ·æœ‰ç±»ä¼¼çš„æ“ä½œï¼Œä½¿ç”¨get_dummiesä¹Ÿå¯ä»¥å¾—åˆ°ç›¸åº”çš„ç‰¹å¾ï¼ˆ5ï¼‰pandas get_dummiesä»£ç ï¼š12345678import pandas as pddf = pd.DataFrame([ ['green',10.1], ['red', 13.5], ['blue',15.3]])df.columns = ['color', 'prize']df=pd.get_dummies(df)print(df)è¾“å‡ºç»“æœ:1234 prize color_blue color_green color_red0 10.1 0 1 01 13.5 0 0 12 15.3 1 0 0æ— é‡çº²åŒ–ã€æ­£åˆ™åŒ–æ— é‡çº²åŒ–æ•°æ®æ ‡å‡†åŒ–æ˜¯å°†æ ·æœ¬çš„å±æ€§ç¼©æ”¾åˆ°æŸä¸ªæŒ‡å®šçš„èŒƒå›´ã€‚æ ‡å‡†åŒ–ï¼šåŸºäºåŸå§‹æ•°æ®çš„å‡å€¼ï¼ˆmeanï¼‰å’Œæ ‡å‡†å·®ï¼ˆstandarddeviationï¼‰è¿›è¡Œæ•°æ®çš„æ ‡å‡†åŒ–ã€‚è¦æ±‚ å‡å€¼$\\mu = 0$ å’Œæ ‡å‡†å·® $\\sigma = 1$å…¬å¼è¡¨è¾¾ä¸ºï¼š\\begin{equation} z = \\frac{x - \\mu}{\\sigma}\\end{equation}ä½¿ç”¨preproccessingåº“çš„StandardScalerç±»å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–çš„ä»£ç å¦‚ä¸‹ï¼š1234from sklearn.preprocessing import StandardScaler #æ ‡å‡†åŒ–ï¼Œè¿”å›å€¼ä¸ºæ ‡å‡†åŒ–åçš„æ•°æ®ss=StandardScaler()X1=ss.fit_transform(X) #X=iris.dataï¼ˆé¸¢å°¾èŠ±ï¼‰æ•°æ®é›†å½’ä¸€åŒ–ï¼šå¤„ç†åçš„æ‰€æœ‰ç‰¹å¾çš„å€¼éƒ½ä¼šè¢«å‹ç¼©åˆ° 0åˆ°1åŒºé—´ä¸Š.è¿™æ ·åšè¿˜å¯ä»¥æŠ‘åˆ¶ç¦»ç¾¤å€¼å¯¹ç»“æœçš„å½±å“.å…¬å¼è¡¨è¾¾ä¸ºï¼š{\\begin{equation} X_{norm} = \\frac{X - X_{min}}{X_{max}-X_{min}} \\end{equation}}ä½¿ç”¨preproccessingåº“çš„MinMaxScalerç±»å¯¹æ•°æ®è¿›è¡ŒåŒºé—´ç¼©æ”¾çš„ä»£ç å¦‚ä¸‹ï¼š1234from sklearn.preprocessing import MinMaxScaler#åŒºé—´ç¼©æ”¾ï¼Œè¿”å›å€¼ä¸ºç¼©æ”¾åˆ°[0, 1]åŒºé—´çš„æ•°æ®mms=MinMaxScaler()X2=mms.fit_transform(X) #X=iris.dataï¼ˆé¸¢å°¾èŠ±ï¼‰æ•°æ®é›†æ­£åˆ™åŒ–æ­£åˆ™åŒ–çš„è¿‡ç¨‹æ˜¯å°†æ¯ä¸ªæ ·æœ¬ç¼©æ”¾åˆ°å•ä½èŒƒæ•°ï¼ˆæ¯ä¸ªæ ·æœ¬çš„èŒƒæ•°ä¸º1ï¼‰ï¼Œå¦‚æœåé¢è¦ä½¿ç”¨å¦‚äºŒæ¬¡å‹ï¼ˆç‚¹ç§¯ï¼‰æˆ–è€…å…¶å®ƒæ ¸æ–¹æ³•è®¡ç®—ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„ç›¸ä¼¼æ€§è¿™ä¸ªæ–¹æ³•ä¼šå¾ˆæœ‰ç”¨ã€‚è¯¥æ–¹æ³•ä¸»è¦åº”ç”¨äºæ–‡æœ¬åˆ†ç±»å’Œèšç±»ä¸­ã€‚123from sklearn.preprocessing import Normalizerss=Normalizer()X3=ss.fit_transform(X) #X=iris.dataï¼ˆé¸¢å°¾èŠ±ï¼‰æ•°æ®é›†æ ‡å‡†åŒ–ä¸æ­£åˆ™åŒ–çš„åŒºåˆ«ç®€å•æ¥è¯´ï¼Œæ ‡å‡†åŒ–æ˜¯ä¾ç…§ç‰¹å¾çŸ©é˜µçš„åˆ—å¤„ç†æ•°æ®ï¼Œå…¶é€šè¿‡æ±‚z-scoreçš„æ–¹æ³•ï¼Œå°†æ ·æœ¬çš„ç‰¹å¾å€¼è½¬æ¢åˆ°åŒä¸€é‡çº²ä¸‹ã€‚æ­£åˆ™åŒ–æ˜¯ä¾ç…§ç‰¹å¾çŸ©é˜µçš„è¡Œå¤„ç†æ•°æ®ï¼Œå…¶ç›®çš„åœ¨äºæ ·æœ¬å‘é‡åœ¨ç‚¹ä¹˜è¿ç®—æˆ–å…¶ä»–æ ¸å‡½æ•°è®¡ç®—ç›¸ä¼¼æ€§æ—¶ï¼Œæ‹¥æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯è¯´éƒ½è½¬åŒ–ä¸ºâ€œå•ä½å‘é‡â€ã€‚ç‰¹å¾é€‰æ‹©ç‰¹å¾é€‰æ‹©ï¼šæ•°æ®ä¸­åŒ…å«å†—ä½™æˆ–ç›¸å…³å˜é‡ï¼ˆæˆ–ç‰¹å¾ã€å±æ€§ã€æŒ‡æ ‡ï¼‰ï¼Œæ—¨åœ¨ä»åŸæœ‰ç‰¹å¾ä¸­æ‰¾å‡ºä¸»è¦ç‰¹å¾ã€‚åŒ…ï¼šsklearn.feature_selectionå½“æ•°æ®é¢„å¤„ç†å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©æœ‰æ„ä¹‰çš„ç‰¹å¾è¾“å…¥æœºå™¨å­¦ä¹ çš„ç®—æ³•å’Œæ¨¡å‹è¿›è¡Œè®­ç»ƒã€‚é€šå¸¸æ¥è¯´ï¼Œä»ä¸¤ä¸ªæ–¹é¢è€ƒè™‘æ¥é€‰æ‹©ç‰¹å¾ï¼šç‰¹å¾æ˜¯å¦å‘æ•£ï¼šå¦‚æœä¸€ä¸ªç‰¹å¾ä¸å‘æ•£ï¼Œä¾‹å¦‚æ–¹å·®æ¥è¿‘äº0ï¼Œä¹Ÿå°±æ˜¯è¯´æ ·æœ¬åœ¨è¿™ä¸ªç‰¹å¾ä¸ŠåŸºæœ¬ä¸Šæ²¡æœ‰å·®å¼‚ï¼Œè¿™ä¸ªç‰¹å¾å¯¹äºæ ·æœ¬çš„åŒºåˆ†å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚ç‰¹å¾ä¸ç›®æ ‡çš„ç›¸å…³æ€§ï¼šè¿™ç‚¹æ¯”è¾ƒæ˜¾è§ï¼Œä¸ç›®æ ‡ç›¸å…³æ€§é«˜çš„ç‰¹å¾ï¼Œåº”å½“ä¼˜é€‰é€‰æ‹©ã€‚é™¤ç§»é™¤ä½æ–¹å·®æ³•å¤–ï¼Œæœ¬æ–‡ä»‹ç»çš„å…¶ä»–æ–¹æ³•å‡ä»ç›¸å…³æ€§è€ƒè™‘ã€‚æ ¹æ®ç‰¹å¾é€‰æ‹©çš„å½¢å¼åˆå¯ä»¥å°†ç‰¹å¾é€‰æ‹©æ–¹æ³•åˆ†ä¸º3ç§ï¼šFilterFilterï¼šè¿‡æ»¤æ³•ï¼ŒæŒ‰ç…§å‘æ•£æ€§æˆ–è€…ç›¸å…³æ€§å¯¹å„ä¸ªç‰¹å¾è¿›è¡Œè¯„åˆ†ï¼Œè®¾å®šé˜ˆå€¼æˆ–è€…å¾…é€‰æ‹©é˜ˆå€¼çš„ä¸ªæ•°ï¼Œé€‰æ‹©ç‰¹å¾ã€‚æ–¹å·®é€‰æ‹©æ³•ï¼šä½æ–¹å·®ç‰¹å¾è¿‡æ»¤ä»£ç ï¼š12345from sklearn.feature_selection import VarianceThresholdX = [[0, 0, 1], [0, 1, 0], [1, 0, 0], [0, 1, 1], [0, 1, 0], [0, 1, 1]]sel = VarianceThreshold(threshold=(.8 * (1 - .8)))X1=sel.fit_transform(X)print(X1)è¾“å‡ºç»“æœ:123456[[0 1] [1 0] [0 0] [1 1] [1 0] [1 1]]æœç„¶, VarianceThreshold ç§»é™¤äº†ç¬¬ä¸€åˆ—ç‰¹å¾ï¼Œç¬¬ä¸€åˆ—ä¸­ç‰¹å¾å€¼ä¸º0çš„æ¦‚ç‡è¾¾åˆ°äº†5/6.ç›¸å…³ç³»æ•°ï¼šç‰¹å¾ä¸ç‰¹å¾ä¹‹é—´çš„ç›¸å…³ç¨‹åº¦ï¼ˆä¸ç›®æ ‡ç›¸å…³æ€§é«˜çš„ç‰¹å¾ï¼Œåº”å½“ä¼˜é€‰é€‰æ‹©ï¼‰å¯¹äºåˆ†ç±»é—®é¢˜(yç¦»æ•£)ï¼Œå¯é‡‡ç”¨ï¼šå¡æ–¹æ£€éªŒï¼Œf_classif, mutual_info_classifï¼Œäº’ä¿¡æ¯å¯¹äºå›å½’é—®é¢˜(yè¿ç»­)ï¼Œå¯é‡‡ç”¨ï¼šçš®å°”æ£®ç›¸å…³ç³»æ•°ï¼Œf_regression, mutual_info_regressionï¼Œæœ€å¤§ä¿¡æ¯ç³»æ•°å¡æ–¹(Chi2)æ£€éªŒâ€‹ ç»å…¸çš„å¡æ–¹æ£€éªŒæ˜¯æ£€éªŒå®šæ€§è‡ªå˜é‡å¯¹å®šæ€§å› å˜é‡çš„ç›¸å…³æ€§ã€‚å‡è®¾è‡ªå˜é‡æœ‰Nç§å–å€¼ï¼Œå› å˜é‡æœ‰Mç§å–å€¼ï¼Œè€ƒè™‘è‡ªå˜é‡ç­‰äºiä¸”å› å˜é‡ç­‰äºjçš„æ ·æœ¬é¢‘æ•°çš„è§‚å¯Ÿå€¼ä¸æœŸæœ›çš„å·®è·ï¼Œæ„å»ºç»Ÿè®¡é‡ï¼š\\chi^{2}=\\sum \\frac{(A-E)^{2}}{E}å‡è®¾æœ‰ä¸¤ä¸ªåˆ†ç±»å˜é‡Xå’ŒYï¼Œå®ƒä»¬çš„å€¼åŸŸåˆ†åˆ«ä¸º{x1, x2}å’Œ{y1, y2}ï¼Œå…¶æ ·æœ¬é¢‘æ•°åˆ—è”è¡¨ä¸ºï¼šç»å…¸çš„å¡æ–¹æ£€éªŒæ˜¯æ£€éªŒå®šæ€§è‡ªå˜é‡å¯¹å®šæ€§å› å˜é‡çš„ç›¸å…³æ€§ï¼Œé’ˆå¯¹åˆ†ç±»é—®é¢˜ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ ·æœ¬è¿›è¡Œä¸€æ¬¡chi2æµ‹è¯•æ¥é€‰æ‹©æœ€ä½³çš„ä¸¤é¡¹ç‰¹å¾ï¼šä»£ç ï¼š12345678from sklearn.datasets import load_irisfrom sklearn.feature_selection import SelectKBestfrom sklearn.feature_selection import chi2iris = load_iris()X, y = iris.data, iris.targetprint(X.shape)X_new = SelectKBest(chi2, k=2).fit_transform(X, y)print(X_new.shape)è¾“å‡ºç»“æœ:12(150, 4)(150, 2)Pearsonç›¸å…³ç³»æ•° (Pearson Correlation)â€‹ çš®å°”æ£®ç›¸å…³ç³»æ•°æ˜¯ä¸€ç§æœ€ç®€å•çš„ï¼Œèƒ½å¸®åŠ©ç†è§£ç‰¹å¾å’Œå“åº”å˜é‡ä¹‹é—´å…³ç³»çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¡¡é‡çš„æ˜¯å˜é‡ä¹‹é—´çš„çº¿æ€§ç›¸å…³æ€§ï¼Œç»“æœçš„å–å€¼åŒºé—´ä¸º[-1ï¼Œ1]ï¼Œ-1è¡¨ç¤ºå®Œå…¨çš„è´Ÿç›¸å…³ï¼Œ+1è¡¨ç¤ºå®Œå…¨çš„æ­£ç›¸å…³ï¼Œ0è¡¨ç¤ºæ²¡æœ‰çº¿æ€§ç›¸å…³ã€‚â€‹ Pearson Correlationé€Ÿåº¦å¿«ã€æ˜“äºè®¡ç®—ï¼Œç»å¸¸åœ¨æ‹¿åˆ°æ•°æ®(ç»è¿‡æ¸…æ´—å’Œç‰¹å¾æå–ä¹‹åçš„)ä¹‹åç¬¬ä¸€æ—¶é—´å°±æ‰§è¡Œã€‚Scipyçš„ pearsonr æ–¹æ³•èƒ½å¤ŸåŒæ—¶è®¡ç®—ç›¸å…³ç³»æ•°å’Œp-value.ä»£ç ï¼š12345678import numpy as npfrom scipy.stats import pearsonrnp.random.seed(0)size = 300x = np.random.normal(0, 1, size)# pearsonr(x, y)çš„è¾“å…¥ä¸ºç‰¹å¾çŸ©é˜µå’Œç›®æ ‡å‘é‡print(\"Lower noise\", pearsonr(x, x + np.random.normal(0, 1, size)))print(\"Higher noise\", pearsonr(x, x + np.random.normal(0, 10, size)))è¾“å‡ºç»“æœï¼š123#è¾“å‡ºä¸ºäºŒå…ƒç»„(sorce, p-value)çš„æ•°ç»„Lower noise (0.7182483686213842, 7.324017312997672e-49)Higher noise (0.05796429207933815, 0.31700993885325246)è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒäº†å˜é‡åœ¨åŠ å…¥å™ªéŸ³ä¹‹å‰å’Œä¹‹åçš„å·®å¼‚ã€‚å½“å™ªéŸ³æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œç›¸å…³æ€§å¾ˆå¼ºï¼Œp-valueå¾ˆä½ã€‚å®ä¾‹åˆ†æï¼šè‚¡ç¥¨çš„è´¢åŠ¡æŒ‡æ ‡ç›¸å…³æ€§è®¡ç®—åˆ†æä¸¤ä¸¤ç‰¹å¾ä¹‹é—´è¿›è¡Œç›¸å…³æ€§è®¡ç®—ä»£ç ï¼š12345678import numpy as npfrom scipy.stats import pearsonrimport pandas as pddata = pd.read_csv(\"factor_returns.csv\")factor = ['pe_ratio', 'pb_ratio', 'market_cap', 'return_on_asset_net_profit', 'du_return_on_equity', 'ev','earnings_per_share', 'revenue', 'total_expense']for i in range(len(factor)): for j in range(i, len(factor) - 1): print(\"æŒ‡æ ‡%sä¸æŒ‡æ ‡%sä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º%f\" % (factor[i], factor[j + 1], pearsonr(data[factor[i]], data[factor[j + 1]])[0]))è¾“å‡ºç»“æœï¼šï¼ˆå±•ç¤ºéƒ¨åˆ†æ•°æ®ç»“æœï¼‰1234567æŒ‡æ ‡pe_ratioä¸æŒ‡æ ‡pb_ratioä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º-0.004389æŒ‡æ ‡pe_ratioä¸æŒ‡æ ‡market_capä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º-0.068861â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦æŒ‡æ ‡return_on_asset_net_profitä¸æŒ‡æ ‡du_return_on_equityä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º0.818697æŒ‡æ ‡return_on_asset_net_profitä¸æŒ‡æ ‡evä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º-0.101225â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦æŒ‡æ ‡revenueä¸æŒ‡æ ‡total_expenseä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º0.995845ä»ä¸­æˆ‘ä»¬å¾—å‡ºæŒ‡æ ‡revenueä¸æŒ‡æ ‡total_expenseä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º0.995845æŒ‡æ ‡return_on_asset_net_profitä¸æŒ‡æ ‡du_return_on_equityä¹‹é—´çš„ç›¸å…³æ€§å¤§å°ä¸º0.818697æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç”»å›¾æ¥è§‚å¯Ÿç»“æœä»£ç ï¼š1234import matplotlib.pyplot as pltplt.figure(figsize=(20, 8), dpi=100)plt.scatter(data['revenue'], data['total_expense'])plt.show()æ³¨ï¼šç‰¹å¾ä¸ç‰¹å¾ä¹‹é—´ç›¸å…³æ€§å¾ˆé«˜ï¼š1ï¼‰é€‰å–å…¶ä¸­ä¸€ä¸ªï¼›2ï¼‰æƒé‡åŠ æƒæ±‚å’Œï¼›3ï¼‰ä¸»æˆåˆ†åˆ†æScikit-learnæä¾›çš„ f_regrssion æ–¹æ³•èƒ½å¤Ÿæ‰¹é‡è®¡ç®—ç‰¹å¾çš„f_scoreå’Œp-valueï¼Œéå¸¸æ–¹ä¾¿ï¼Œå‚è€ƒsklearnçš„ pipelinePearsonç›¸å…³ç³»æ•°çš„ä¸€ä¸ªæ˜æ˜¾ç¼ºé™·æ˜¯ï¼Œä½œä¸ºç‰¹å¾æ’åºæœºåˆ¶ï¼Œä»–åªå¯¹çº¿æ€§å…³ç³»æ•æ„Ÿã€‚å¦‚æœå…³ç³»æ˜¯éçº¿æ€§çš„ï¼Œå³ä¾¿ä¸¤ä¸ªå˜é‡å…·æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼ŒPearsonç›¸å…³æ€§ä¹Ÿå¯èƒ½ä¼šæ¥è¿‘0ã€‚ä¾‹å¦‚ï¼šä»£ç ï¼š12x = np.random.uniform(-1, 1, 100000)print pearsonr(x, x**2)[0]è¾“å‡ºç»“æœï¼š1-0.00230804707612æ›´å¤šç±»ä¼¼çš„ä¾‹å­å‚è€ƒ sample plots ã€‚å¦å¤–ï¼Œå¦‚æœä»…ä»…æ ¹æ®ç›¸å…³ç³»æ•°è¿™ä¸ªå€¼æ¥åˆ¤æ–­çš„è¯ï¼Œæœ‰æ—¶å€™ä¼šå…·æœ‰å¾ˆå¼ºçš„è¯¯å¯¼æ€§ï¼Œå¦‚ Anscombeâ€™s quartet ï¼Œæœ€å¥½æŠŠæ•°æ®å¯è§†åŒ–å‡ºæ¥ï¼Œä»¥å…å¾—å‡ºé”™è¯¯çš„ç»“è®ºã€‚äº’ä¿¡æ¯å’Œæœ€å¤§ä¿¡æ¯ç³»æ•° (Mutual information and maximal information coefficient (MIC)ç»å…¸çš„äº’ä¿¡æ¯ï¼ˆäº’ä¿¡æ¯ä¸ºéšæœºå˜é‡Xä¸Yä¹‹é—´çš„äº’ä¿¡æ¯$I(X;Y)$ä¸ºå•ä¸ªäº‹ä»¶ä¹‹é—´äº’ä¿¡æ¯çš„æ•°å­¦æœŸæœ›ï¼‰ä¹Ÿæ˜¯è¯„ä»·å®šæ€§è‡ªå˜é‡å¯¹å®šæ€§å› å˜é‡çš„ç›¸å…³æ€§çš„ï¼Œäº’ä¿¡æ¯è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼šI(X ; Y)=\\sum_{x \\in X} \\sum_{y \\in Y} p(x, y) \\log \\frac{p(x, y)}{p(x) p(y)}äº’ä¿¡æ¯ç›´æ¥ç”¨äºç‰¹å¾é€‰æ‹©å…¶å®ä¸æ˜¯å¤ªæ–¹ä¾¿ï¼š1ã€å®ƒä¸å±äºåº¦é‡æ–¹å¼ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•å½’ä¸€åŒ–ï¼Œåœ¨ä¸åŒæ•°æ®åŠä¸Šçš„ç»“æœæ— æ³•åšæ¯”è¾ƒï¼›2ã€å¯¹äºè¿ç»­å˜é‡çš„è®¡ç®—ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼ˆXå’ŒYéƒ½æ˜¯é›†åˆï¼Œxï¼Œyéƒ½æ˜¯ç¦»æ•£çš„å–å€¼ï¼‰ï¼Œé€šå¸¸å˜é‡éœ€è¦å…ˆç¦»æ•£åŒ–ï¼Œè€Œäº’ä¿¡æ¯çš„ç»“æœå¯¹ç¦»æ•£åŒ–çš„æ–¹å¼å¾ˆæ•æ„Ÿã€‚æœ€å¤§ä¿¡æ¯ç³»æ•°å…‹æœäº†è¿™ä¸¤ä¸ªé—®é¢˜ã€‚å®ƒé¦–å…ˆå¯»æ‰¾ä¸€ç§æœ€ä¼˜çš„ç¦»æ•£åŒ–æ–¹å¼ï¼Œç„¶åæŠŠäº’ä¿¡æ¯å–å€¼è½¬æ¢æˆä¸€ç§åº¦é‡æ–¹å¼ï¼Œå–å€¼åŒºé—´åœ¨[0ï¼Œ1]ã€‚ minepy æä¾›äº†MICåŠŸèƒ½ã€‚åè¿‡å¤´æ¥çœ‹y=x^2è¿™ä¸ªä¾‹å­ï¼ŒMICç®—å‡ºæ¥çš„äº’ä¿¡æ¯å€¼ä¸º1(æœ€å¤§çš„å–å€¼)ã€‚ä»£ç ï¼š123456import numpy as npfrom minepy import MINEm = MINE()x = np.random.uniform(-1, 1, 10000)m.compute_score(x, x**2)print(m.mic())è¾“å‡ºç»“æœï¼š11.0000000000000009MICçš„ç»Ÿè®¡èƒ½åŠ›é­åˆ°äº† ä¸€äº›è´¨ç–‘ ï¼Œå½“é›¶å‡è®¾ä¸æˆç«‹æ—¶ï¼ŒMICçš„ç»Ÿè®¡å°±ä¼šå—åˆ°å½±å“ã€‚åœ¨æœ‰çš„æ•°æ®é›†ä¸Šä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œä½†æœ‰çš„æ•°æ®é›†ä¸Šå°±å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚è·ç¦»ç›¸å…³ç³»æ•° (Distance Correlation)è·ç¦»ç›¸å…³ç³»æ•°æ˜¯ä¸ºäº†å…‹æœPearsonç›¸å…³ç³»æ•°çš„å¼±ç‚¹è€Œç”Ÿçš„ã€‚åœ¨$X$å’Œ$X^2$è¿™ä¸ªä¾‹å­ä¸­ï¼Œå³ä¾¿Pearsonç›¸å…³ç³»æ•°æ˜¯0ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½æ–­å®šè¿™ä¸¤ä¸ªå˜é‡æ˜¯ç‹¬ç«‹çš„ï¼ˆæœ‰å¯èƒ½æ˜¯éçº¿æ€§ç›¸å…³ï¼‰ï¼›ä½†å¦‚æœè·ç¦»ç›¸å…³ç³»æ•°æ˜¯0ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯´è¿™ä¸¤ä¸ªå˜é‡æ˜¯ç‹¬ç«‹çš„ã€‚Rçš„ energy åŒ…é‡Œæä¾›äº†è·ç¦»ç›¸å…³ç³»æ•°çš„å®ç°ï¼Œå¦å¤–è¿™æ˜¯ Python gist çš„å®ç°ã€‚å°½ç®¡æœ‰ MIC å’Œ è·ç¦»ç›¸å…³ç³»æ•°åœ¨äº†ï¼Œä½†å½“å˜é‡ä¹‹é—´çš„å…³ç³»æ¥è¿‘çº¿æ€§ç›¸å…³çš„æ—¶å€™ï¼ŒPearsonç›¸å…³ç³»æ•°ä»ç„¶æ˜¯ä¸å¯æ›¿ä»£çš„ã€‚ç¬¬ä¸€ï¼ŒPearsonç›¸å…³ç³»æ•°è®¡ç®—é€Ÿåº¦å¿«ï¼Œè¿™åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®çš„æ—¶å€™å¾ˆé‡è¦ã€‚ç¬¬äºŒï¼ŒPearsonç›¸å…³ç³»æ•°çš„å–å€¼åŒºé—´æ˜¯[-1ï¼Œ1]ï¼Œè€ŒMICå’Œè·ç¦»ç›¸å…³ç³»æ•°éƒ½æ˜¯[0ï¼Œ1]ã€‚è¿™ä¸ªç‰¹ç‚¹ä½¿å¾—Pearsonç›¸å…³ç³»æ•°èƒ½å¤Ÿè¡¨å¾æ›´ä¸°å¯Œçš„å…³ç³»ï¼Œç¬¦å·è¡¨ç¤ºå…³ç³»çš„æ­£è´Ÿï¼Œç»å¯¹å€¼èƒ½å¤Ÿè¡¨ç¤ºå¼ºåº¦ã€‚å½“ç„¶ï¼ŒPearsonç›¸å…³æ€§æœ‰æ•ˆçš„å‰ææ˜¯ä¸¤ä¸ªå˜é‡çš„å˜åŒ–å…³ç³»æ˜¯å•è°ƒçš„ã€‚åŸºäºæ¨¡å‹çš„ç‰¹å¾æ’åº (Model based ranking)è¿™ç§æ–¹æ³•çš„æ€è·¯æ˜¯ç›´æ¥ä½¿ç”¨ä½ è¦ç”¨çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œé’ˆå¯¹æ¯ä¸ªå•ç‹¬çš„ç‰¹å¾å’Œå“åº”å˜é‡å»ºç«‹é¢„æµ‹æ¨¡å‹ã€‚å‡å¦‚ç‰¹å¾å’Œå“åº”å˜é‡ä¹‹é—´çš„å…³ç³»æ˜¯éçº¿æ€§çš„ï¼Œå¯ä»¥ç”¨åŸºäºæ ‘çš„æ–¹æ³•(å†³ç­–æ ‘ã€éšæœºæ£®æ—)ã€æˆ–è€…æ‰©å±•çš„çº¿æ€§æ¨¡å‹ç­‰ã€‚åŸºäºæ ‘çš„æ–¹æ³•æ¯”è¾ƒæ˜“äºä½¿ç”¨ï¼Œå› ä¸ºä»–ä»¬å¯¹éçº¿æ€§å…³ç³»çš„å»ºæ¨¡æ¯”è¾ƒå¥½ï¼Œå¹¶ä¸”ä¸éœ€è¦å¤ªå¤šçš„è°ƒè¯•ã€‚ä½†è¦æ³¨æ„è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œå› æ­¤æ ‘çš„æ·±åº¦æœ€å¥½ä¸è¦å¤ªå¤§ï¼Œå†å°±æ˜¯è¿ç”¨äº¤å‰éªŒè¯ã€‚åœ¨æ³¢å£«é¡¿æˆ¿ä»·æ•°æ®é›†ä¸Šä½¿ç”¨sklearnçš„éšæœºæ£®æ—å›å½’ç»™å‡ºä¸€ä¸ªå•å˜é‡é€‰æ‹©çš„ä¾‹å­(è¿™é‡Œä½¿ç”¨äº†äº¤å‰éªŒè¯)ï¼šä»£ç ï¼š12345678910111213141516from sklearn.model_selection import cross_val_score, ShuffleSplitfrom sklearn.datasets import load_bostonfrom sklearn.ensemble import RandomForestRegressorimport numpy as np# Load boston housing dataset as an exampleboston = load_boston()X = boston[\"data\"]Y = boston[\"target\"]names = boston[\"feature_names\"]rf = RandomForestRegressor(n_estimators=20, max_depth=4)scores = []# å•ç‹¬é‡‡ç”¨æ¯ä¸ªç‰¹å¾è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶è¿›è¡Œäº¤å‰éªŒè¯for i in range(X.shape[1]): score = cross_val_score(rf, X[:, i:i+1], Y, scoring=\"r2\", cv=ShuffleSplit(len(X), 3, .3)) # æ³¨æ„X[:, i]å’ŒX[:, i:i+1]çš„åŒºåˆ« scores.append((format(np.mean(score), '.3f'), names[i]))print(sorted(scores, reverse=True))è¾“å‡ºç»“æœï¼š1[('-8.082', 'TAX'), ('-6.871', 'CHAS'), ('-6.420', 'RM'), ('-6.315', 'DIS'), ('-4.833', 'INDUS'), ('-4.816', 'AGE'), ('-4.742', 'LSTAT'), ('-4.638', 'RAD'), ('-3.411', 'NOX'), ('-3.123', 'CRIM'), ('-26.603', 'PTRATIO'), ('-12.284', 'B'), ('-1.995', 'ZN')]WrapperWrapperï¼šåŒ…è£…æ³•ï¼Œæ ¹æ®ç›®æ ‡å‡½æ•°ï¼ˆé€šå¸¸æ˜¯é¢„æµ‹æ•ˆæœè¯„åˆ†ï¼‰ï¼Œæ¯æ¬¡é€‰æ‹©è‹¥å¹²ç‰¹å¾ï¼Œæˆ–è€…æ’é™¤è‹¥å¹²ç‰¹å¾ã€‚ä¸»è¦æ–¹æ³•æœ‰ï¼šrecursive feature elimination algorithm(é€’å½’ç‰¹å¾æ¶ˆé™¤ç®—æ³•)EmbeddedEmbeddedï¼šåµŒå…¥æ³•ï¼Œå…ˆä½¿ç”¨æŸäº›æœºå™¨å­¦ä¹ çš„ç®—æ³•å’Œæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œå¾—åˆ°å„ä¸ªç‰¹å¾çš„æƒå€¼ç³»æ•°ï¼Œæ ¹æ®ç³»æ•°ä»å¤§åˆ°å°é€‰æ‹©ç‰¹å¾ã€‚ç±»ä¼¼äºFilteræ–¹æ³•ï¼Œä½†æ˜¯æ˜¯é€šè¿‡è®­ç»ƒæ¥ç¡®å®šç‰¹å¾çš„ä¼˜åŠ£ã€‚æ¯”å¦‚ï¼ŒLassoå’ŒRFï¼ˆéšæœºæ£®æ—ï¼‰éƒ½æœ‰å„è‡ªçš„ç‰¹å¾é€‰æ‹©æ–¹æ³•ã€‚æ³¨ï¼šä½¿ç”¨SelectFromModelé€‰æ‹©ç‰¹å¾1from sklearn.feature_selection import SelectFromModeç‰¹å¾é™ç»´äºŒç»´æ•°ç»„ æ­¤å¤„çš„é™ç»´ï¼šé™ä½ç‰¹å¾çš„ä¸ªæ•° æ•ˆæœï¼šç‰¹å¾ä¸ç‰¹å¾ä¹‹é—´ä¸ç›¸å…³é™ç»´æ˜¯æŒ‡åœ¨æŸç§é™å®šæ¡ä»¶ä¸‹ï¼Œé™ä½éšæœºå˜é‡ï¼ˆç‰¹å¾ï¼‰ä¸ªæ•°ï¼Œå¾—åˆ°ä¸€ç»„â€œä¸ç›¸å…³â€ä¸»å˜é‡çš„è¿‡ç¨‹ã€‚å½“ç‰¹å¾é€‰æ‹©å®Œæˆåï¼Œå¯ä»¥ç›´æ¥è®­ç»ƒæ¨¡å‹äº†ï¼Œä½†æ˜¯å¯èƒ½ç”±äºç‰¹å¾çŸ©é˜µè¿‡å¤§ï¼Œå¯¼è‡´è®¡ç®—é‡å¤§ï¼Œè®­ç»ƒæ—¶é—´é•¿çš„é—®é¢˜ï¼Œå› æ­¤é™ä½ç‰¹å¾çŸ©é˜µç»´åº¦ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚å¸¸è§çš„é™ç»´æ–¹æ³•ï¼šä¸»æˆåˆ†åˆ†ææ³•ï¼ˆPCAï¼‰å’Œçº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰ï¼Œçº¿æ€§åˆ¤åˆ«åˆ†ææœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªåˆ†ç±»æ¨¡å‹ã€‚PCAå’ŒLDAæœ‰å¾ˆå¤šçš„ç›¸ä¼¼ç‚¹ï¼Œå…¶æœ¬è´¨æ˜¯è¦å°†åŸå§‹çš„æ ·æœ¬æ˜ å°„åˆ°ç»´åº¦æ›´ä½çš„æ ·æœ¬ç©ºé—´ä¸­ï¼Œä½†æ˜¯PCAå’ŒLDAçš„æ˜ å°„ç›®æ ‡ä¸ä¸€æ ·ï¼šPCAæ˜¯ä¸ºäº†è®©æ˜ å°„åçš„æ ·æœ¬å…·æœ‰æœ€å¤§çš„å‘æ•£æ€§ï¼›è€ŒLDAæ˜¯ä¸ºäº†è®©æ˜ å°„åçš„æ ·æœ¬æœ‰æœ€å¥½çš„åˆ†ç±»æ€§èƒ½ã€‚æ‰€ä»¥è¯´PCAæ˜¯ä¸€ç§æ— ç›‘ç£çš„é™ç»´æ–¹æ³•ï¼Œè€ŒLDAæ˜¯ä¸€ç§æœ‰ç›‘ç£çš„é™ç»´æ–¹æ³•ã€‚ä¸»æˆåˆ†åˆ†ææ³•ï¼ˆPCAï¼‰åŸºæœ¬æ€æƒ³ï¼šæ„é€ åŸå˜é‡çš„ä¸€ç³»åˆ—çº¿æ€§ç»„åˆå½¢æˆå‡ ä¸ªç»¼åˆæŒ‡æ ‡ï¼Œä»¥å»é™¤æ•°æ®çš„ç›¸å…³æ€§ï¼Œå¹¶ä½¿ä½ç»´æ•°æ®æœ€å¤§ç¨‹åº¦ä¿æŒåŸå§‹é«˜ç»´æ•°æ®çš„æ–¹å·®ä¿¡æ¯ã€‚ä¸»æˆåˆ†ä¸ªæ•°çš„ç¡®å®šï¼šè´¡çŒ®ç‡ï¼šç¬¬iä¸ªä¸»æˆåˆ†çš„æ–¹å·®åœ¨å…¨éƒ¨æ–¹å·®ä¸­æ‰€å æ¯”é‡ï¼Œåæ˜ ç¬¬iä¸ªä¸»æˆåˆ†æ‰€æå–çš„æ€»ä¿¡æ¯çš„ä»½é¢ã€‚ç´¯è®¡è´¡çŒ®ç‡ï¼šå‰kä¸ªä¸»æˆåˆ†åœ¨å…¨éƒ¨æ–¹å·®ä¸­æ‰€å æ¯”é‡ä¸»æˆåˆ†ä¸ªæ•°çš„ç¡®å®šï¼šç´¯è®¡è´¡çŒ®ç‡&gt;0.85ç›¸å…³ç³»æ•°çŸ©é˜µoråæ–¹å·®é˜µï¼Ÿå½“æ¶‰åŠå˜é‡çš„é‡çº²ä¸åŒæˆ–å–å€¼èŒƒå›´ç›¸å·®è¾ƒå¤§çš„æŒ‡æ ‡æ—¶ï¼Œåº”è€ƒè™‘ä»ç›¸å…³ç³»æ•°çŸ©é˜µå‡ºå‘è¿›è¡Œä¸»æˆåˆ†åˆ†æï¼›ï¼ˆç›¸å…³ç³»æ•°çŸ©é˜µæ¶ˆé™¤äº†é‡çº²çš„å½±å“ã€‚ï¼‰å¯¹åŒåº¦é‡æˆ–å–å€¼èŒƒå›´ç›¸å·®ä¸å¤§çš„æ•°æ®ï¼Œä»åæ–¹å·®é˜µå‡ºå‘ã€‚ä½¿ç”¨decompositionåº“çš„PCAç±»é€‰æ‹©ç‰¹å¾çš„ä»£ç å¦‚ä¸‹ï¼š1234from sklearn.decomposition import PCA#ä¸»æˆåˆ†åˆ†ææ³•ï¼Œè¿”å›é™ç»´åçš„æ•°æ®#å‚æ•°n_componentsä¸ºä¸»æˆåˆ†æ•°ç›®PCA(n_components=2).fit_transform(X) #X=iris.dataï¼ˆé¸¢å°¾èŠ±ï¼‰æ•°æ®é›†n_componentsï¼šå°æ•°ï¼šè¡¨ç¤ºä¿ç•™ç™¾åˆ†ä¹‹å¤šå°‘çš„ä¿¡æ¯æ•´æ•°ï¼šå‡å°‘åˆ°å¤šå°‘ç‰¹å¾çº¿æ€§åˆ¤åˆ«åˆ†ææ³•ï¼ˆLDAï¼‰è‡³å¤šèƒ½æŠŠCç±»æ•°æ®é™ç»´åˆ°C-1ç»´å­ç©ºé—´ä½¿ç”¨ldaåº“çš„LDAç±»é€‰æ‹©ç‰¹å¾çš„ä»£ç å¦‚ä¸‹ï¼š1234from sklearn.lda import LDA#çº¿æ€§åˆ¤åˆ«åˆ†ææ³•ï¼Œè¿”å›é™ç»´åçš„æ•°æ®#å‚æ•°n_componentsä¸ºé™ç»´åçš„ç»´æ•°LDA(n_components=2).fit_transform(X,Y) #X=iris.data,Y= iris.targetï¼ˆé¸¢å°¾èŠ±ï¼‰æ•°æ®é›†å°ç»“åˆ†ç±»ç®—æ³•åˆ†ç±»é—®é¢˜ï¼šç›®æ ‡å€¼â€”ç±»åˆ«sklearnè½¬æ¢å™¨å’Œä¼°è®¡å™¨è½¬æ¢å™¨1.å®ä¾‹åŒ– (å®ä¾‹åŒ–çš„æ˜¯ä¸€ä¸ªè½¬æ¢å™¨ç±»(Transformer))2 è°ƒç”¨fit_transform(å¯¹äºæ–‡æ¡£å»ºç«‹åˆ†ç±»è¯é¢‘çŸ©é˜µï¼Œä¸èƒ½åŒæ—¶è°ƒç”¨)æ ‡å‡†åŒ–ï¼š(x - mean) / stdfit_transform()fit() #è®¡ç®— æ¯ä¸€åˆ—çš„å¹³å‡å€¼ã€æ ‡å‡†å·®transform() # (x - mean) / stdè¿›è¡Œæœ€ç»ˆçš„è½¬æ¢ä¼°è®¡å™¨sklearnæœºå™¨å­¦ä¹ ç®—æ³•çš„å®ç°1ã€ç”¨äºåˆ†ç±»çš„ä¼°è®¡å™¨ï¼šsklearn.neighbors k-è¿‘é‚»ç®—æ³•sklearn.naive_bayes è´å¶æ–¯sklearn.linear_model.LogisticRegression é€»è¾‘å›å½’sklearn.tree å†³ç­–æ ‘ä¸éšæœºæ£®æ—2ã€ç”¨äºå›å½’çš„ä¼°è®¡å™¨ï¼šsklearn.linear_model.LinearRegression çº¿æ€§å›å½’sklearn.linear_model.Ridge å²­å›å½’3ã€ç”¨äºæ— ç›‘ç£å­¦ä¹ çš„ä¼°è®¡å™¨sklearn.cluster.KMeans èšç±»ä¼°è®¡å™¨å·¥ä½œæµç¨‹1ã€å®ä¾‹åŒ–ä¸€ä¸ªestimator2ã€estimator.fit(x_train, y_train) è®¡ç®—â€”â€” è°ƒç”¨å®Œæ¯•ï¼Œæ¨¡å‹ç”Ÿæˆ3 æ¨¡å‹è¯„ä¼°ï¼š1ï¼‰ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict = estimator.predict(x_test)y_test y_predict2ï¼‰è®¡ç®—å‡†ç¡®ç‡accuracy = estimator.score(x_test, y_test)K-è¿‘é‚»ç®—æ³•K-è¿‘é‚»ç®—æ³•ï¼ˆKNNï¼‰K-è¿‘é‚»ç®—æ³•(KNN)ç†è®º/åŸç†ï¼šâ€œç‰©ä»¥ç±»èšï¼Œäººä»¥ç¾¤åˆ†â€ç›¸åŒ/è¿‘ä¼¼æ ·æœ¬åœ¨æ ·æœ¬ç©ºé—´ä¸­æ˜¯æ¯”è¾ƒæ¥è¿‘çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å’Œå½“å‰æ ·æœ¬æ¯”è¾ƒè¿‘çš„å…¶ä»–æ ·æœ¬çš„ç›®æ ‡å±æ€§å€¼ä½œä¸ºå½“å‰æ ·æœ¬çš„é¢„æµ‹å€¼ã€‚k-è¿‘é‚»ç®—æ³•çš„å·¥ä½œæœºåˆ¶å¾ˆç®€å•ï¼šç»™å®šæµ‹è¯•æ ·æœ¬ï¼ŒåŸºäºæŸç§è·ç¦»åº¦é‡ï¼ˆä¸€èˆ¬ä½¿ç”¨æ¬§å‡ é‡Œå¾·è·ç¦»ï¼‰æ‰¾å‡ºè®­ç»ƒé›†ä¸­ä¸å…¶æœ€é è¿‘çš„kä¸ªè®­ç»ƒæ ·æœ¬ï¼Œç„¶ååŸºäºè¿™kä¸ªâ€œé‚»å±…â€çš„ä¿¡æ¯æ¥è¿›è¡Œé¢„æµ‹ã€‚å¦‚ä½•ç¡®å®šè°æ˜¯é‚»å±…ï¼Ÿè®¡ç®—è·ç¦»ï¼šè·ç¦»å…¬å¼ï¼šæ¬§æ°è·ç¦»ï¼šd = \\sqrt{(x1 - y1)^2 + (x2 - y2)^2 + (x3 - y3)^2 + â€¦â€¦}æ›¼å“ˆé¡¿è·ç¦»â€”ç»å¯¹å€¼è·ç¦»æ˜å¯å¤«æ–¯åŸºè·ç¦»ï¼šæ¬§æ°è·ç¦»å’Œæ›¼å“ˆé¡¿è·ç¦»çš„æ¨å¹¿ metric_params=Noneå›¾ä¸­çº¢çº¿ä»£è¡¨æ›¼å“ˆé¡¿è·ç¦»ï¼Œç»¿çº¿ä»£è¡¨æ¬§æ°è·ç¦»ï¼Œä¹Ÿå°±æ˜¯ç›´çº¿è·ç¦»ï¼Œè€Œè“çº¿å’Œé»„çº¿ä»£è¡¨ç­‰ä»·çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚ç”µå½±ç±»å‹åˆ†æå‡è®¾æˆ‘ä»¬æœ‰ç°åœ¨å‡ éƒ¨ç”µå½±å…¶ä¸­ï¼Ÿ å·ç”µå½±ä¸çŸ¥é“ç±»åˆ«ï¼Œå¦‚ä½•å»é¢„æµ‹ï¼Ÿæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Kè¿‘é‚»ç®—æ³•çš„æ€æƒ³k = 1 â€”â€”&gt;æœ€è¿‘è·ç¦»18.7â€”â€”&gt;ç”µå½±ä¸ºçˆ±æƒ…ç‰‡â€”â€”&gt;é¢„æµ‹ï¼Ÿå·ç”µå½±ä¸ºçˆ±æƒ…ç‰‡k = 2 â€”â€”&gt;æœ€è¿‘è·ç¦»18.7å’Œ19.2â€”â€”ä¸¤éƒ¨ç”µå½±éƒ½æ˜¯çˆ±æƒ…ç‰‡â€”â€”é¢„æµ‹ï¼Ÿå·ç”µå½±ä¸ºçˆ±æƒ…ç‰‡â€¦â€¦k = 6â€”â€”&gt; å…­éƒ¨ç”µå½±çˆ±æƒ…ç‰‡å’ŒåŠ¨ä½œç‰‡ä¸€æ ·å¤šâ€”â€”&gt;æ— æ³•ç¡®å®šk = 7 â€”â€”&gt;è‹¥4éƒ¨åŠ¨ä½œç‰‡ï¼Œ3éƒ¨çˆ±æƒ…ç‰‡â€”â€”&gt;é¢„æµ‹ï¼Ÿå·ç”µå½±ä¸ºåŠ¨ä½œç‰‡,ä½†å®é™…ç”µå½±ä¸ºçˆ±æƒ…ç‰‡å¦‚æœå–çš„æœ€è¿‘çš„ç”µå½±æ•°é‡ä¸ä¸€æ ·ï¼Ÿä¼šæ˜¯ä»€ä¹ˆç»“æœï¼Ÿk å€¼å–å¾—è¿‡å°ï¼Œå®¹æ˜“å—åˆ°å¼‚å¸¸ç‚¹çš„å½±å“k å€¼å–å¾—è¿‡å¤§ï¼Œæ ·æœ¬ä¸å‡è¡¡çš„å½±å“K-è¿‘é‚»ç®—æ³•APIsklearn.neighbors.KNeighborsClassifier(n_neighbors=5,weights=â€™uniformâ€™,algorithm=â€™autoâ€™,leaf_size=30,p=2,metric=â€™minkowskiâ€™,metric_params=None,n_jobs=None,**kwargs)é‚»å±…æ•°k: n_neighbors:int,å¯é€‰(é»˜è®¤= 5)æƒé‡weights: weights = â€˜uniformâ€™ weights = â€˜distanceâ€™è·ç¦»åº¦é‡: p=1è·ç¦»åº¦é‡é‡‡ç”¨æ›¼å“ˆé¡¿è·ç¦»ï¼›p=2è·ç¦»åº¦é‡é‡‡ç”¨æ¬§æ°è·ç¦»algorithmï¼š{â€˜autoâ€™ï¼Œâ€˜ball_treeâ€™ï¼Œâ€˜kd_treeâ€™ï¼Œâ€˜bruteâ€™}ï¼Œå¯é€‰ç”¨äºè®¡ç®—æœ€è¿‘é‚»å±…çš„ç®—æ³•ï¼šâ€˜ball_treeâ€™å°†ä¼šä½¿ç”¨ BallTreeï¼Œâ€˜kd_treeâ€™å°†ä½¿ç”¨ KDTreeã€‚â€˜autoâ€™å°†å°è¯•æ ¹æ®ä¼ é€’ç»™fitæ–¹æ³•çš„å€¼æ¥å†³å®šæœ€åˆé€‚çš„ç®—æ³•ã€‚ (ä¸åŒå®ç°æ–¹å¼å½±å“æ•ˆç‡)æ¡ˆä¾‹ï¼šé¸¢å°¾èŠ±ç§ç±»é¢„æµ‹ä»£ç ï¼š12345678910111213141516171819202122232425#1)å¯¼å…¥åº“import numpy as npfrom sklearn import datasetsfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.neighbors import KNeighborsClassifier#2)è·å–æ•°æ®x,y = datasets.load_iris(True)#3ï¼‰åˆ’åˆ†æ•°æ®é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size = 0.2)#4ï¼‰ç‰¹å¾å·¥ç¨‹ï¼šæ ‡å‡†åŒ–ss=StandardScaler()x_train=ss.fit_transform(x_train)x_test=ss.transform(x_test)#5)KNNç®—æ³•é¢„ä¼°å™¨(è®­ç»ƒæ•°æ®)estimator=KNeighborsClassifier(n_neighbors=3) #è®¾ç½®k=3estimator.fit(x_train,y_train)#6)æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=estimator.predict(x_test)print('y_predict:\\n',y_predict)print('ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=estimator.score(x_test,y_test)print('å‡†ç¡®ç‡ä¸ºï¼š\\n',score)è¾“å‡ºç»“æœï¼š12345678y_predict: [0 2 0 2 2 0 2 1 0 1 2 0 2 2 0 0 2 1 0 2 2 1 2 0 1 0 1 0 1 1]ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š [ True True True True True True True True True True True True True True True True True True True True True True True True True True True True False True]å‡†ç¡®ç‡ä¸ºï¼š 0.9666666666666667K-è¿‘é‚»æ€»ç»“ä¼˜ç‚¹ï¼šç®€å•ï¼Œæ˜“äºç†è§£ï¼Œæ˜“äºå®ç°ï¼Œæ— éœ€è®­ç»ƒç¼ºç‚¹ï¼š1ï¼‰å¿…é¡»æŒ‡å®šKå€¼ï¼ŒKå€¼é€‰æ‹©ä¸å½“åˆ™åˆ†ç±»ç²¾åº¦ä¸èƒ½ä¿è¯2ï¼‰æ‡’æƒ°ç®—æ³•ï¼Œå¯¹æµ‹è¯•æ ·æœ¬åˆ†ç±»æ—¶çš„è®¡ç®—é‡å¤§ï¼Œå†…å­˜å¼€é”€å¤§ä½¿ç”¨åœºæ™¯ï¼šå°æ•°æ®åœºæ™¯ï¼Œå‡ åƒï½å‡ ä¸‡æ ·æœ¬ï¼Œå…·ä½“åœºæ™¯å…·ä½“ä¸šåŠ¡å»æµ‹è¯•æ¨¡å‹é€‰æ‹©ä¸è°ƒä¼˜ä»€ä¹ˆæ˜¯äº¤å‰éªŒè¯(cross validation)äº¤å‰éªŒè¯ï¼šå°†æ‹¿åˆ°çš„è®­ç»ƒæ•°æ®ï¼Œåˆ†ä¸ºè®­ç»ƒå’ŒéªŒè¯é›†ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼šå°†æ•°æ®åˆ†æˆ4ä»½ï¼Œå…¶ä¸­ä¸€ä»½ä½œä¸ºéªŒè¯é›†ã€‚ç„¶åç»è¿‡4æ¬¡(ç»„)çš„æµ‹è¯•ï¼Œæ¯æ¬¡éƒ½æ›´æ¢ä¸åŒçš„éªŒè¯é›†ã€‚å³å¾—åˆ°4ç»„æ¨¡å‹çš„ç»“æœï¼Œå–å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆç»“æœã€‚åˆç§°4æŠ˜äº¤å‰éªŒè¯ã€‚è®­ç»ƒé›†ï¼šè®­ç»ƒé›†+éªŒè¯é›†æµ‹è¯•é›†ï¼šæµ‹è¯•é›†è¶…å‚æ•°æœç´¢-ç½‘æ ¼æœç´¢(Grid Search)é€šå¸¸æƒ…å†µä¸‹ï¼Œæœ‰å¾ˆå¤šå‚æ•°æ˜¯éœ€è¦æ‰‹åŠ¨æŒ‡å®šçš„ï¼ˆå¦‚k-è¿‘é‚»ç®—æ³•ä¸­çš„Kå€¼ï¼‰ï¼Œè¿™ç§å«è¶…å‚æ•°ã€‚ä½†æ˜¯æ‰‹åŠ¨è¿‡ç¨‹ç¹æ‚ï¼Œæ‰€ä»¥éœ€è¦å¯¹æ¨¡å‹é¢„è®¾å‡ ç§è¶…å‚æ•°ç»„åˆã€‚æ¯ç»„è¶…å‚æ•°éƒ½é‡‡ç”¨äº¤å‰éªŒè¯æ¥è¿›è¡Œè¯„ä¼°ã€‚æœ€åé€‰å‡ºæœ€ä¼˜å‚æ•°ç»„åˆå»ºç«‹æ¨¡å‹ã€‚æ¨¡å‹é€‰æ‹©ä¸è°ƒä¼˜:sklearn.model_selection.GridSearchCV(estimator, param_grid=None,cv=None)å¯¹ä¼°è®¡å™¨çš„æŒ‡å®šå‚æ•°å€¼è¿›è¡Œè¯¦å°½æœç´¢estimatorï¼šä¼°è®¡å™¨å¯¹è±¡param_gridï¼šä¼°è®¡å™¨å‚æ•°(dict){â€œn_neighborsâ€:[1,3,5]}cvï¼šæŒ‡å®šå‡ æŠ˜äº¤å‰éªŒè¯fitï¼šè¾“å…¥è®­ç»ƒæ•°æ®scoreï¼šå‡†ç¡®ç‡ç»“æœåˆ†æï¼šbestscore:åœ¨äº¤å‰éªŒè¯ä¸­éªŒè¯çš„æœ€å¥½ç»“æœ_bestestimatorï¼šæœ€å¥½çš„å‚æ•°æ¨¡å‹cvresults:æ¯æ¬¡äº¤å‰éªŒè¯åçš„éªŒè¯é›†å‡†ç¡®ç‡ç»“æœå’Œè®­ç»ƒé›†å‡†ç¡®ç‡ç»“æœé¸¢å°¾èŠ±æ¡ˆä¾‹è°ƒä¼˜ä»£ç ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243import numpy as npfrom sklearn import datasetsfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.neighbors import KNeighborsClassifier# gridç½‘æ ¼ï¼Œsearchæœç´¢ï¼Œcvï¼šcross_validation# æœç´¢ç®—æ³•æœ€åˆé€‚çš„å‚æ•°from sklearn.model_selection import GridSearchCV#1)è·å–æ•°æ®x,y = datasets.load_iris(True)#2ï¼‰åˆ’åˆ†æ•°æ®é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size = 0.2)#3ï¼‰ç‰¹å¾å·¥ç¨‹ï¼šæ ‡å‡†åŒ–ss=StandardScaler()x_train=ss.fit_transform(x_train)x_test=ss.transform(x_test)#4)KNNç®—æ³•é¢„ä¼°å™¨estimator=KNeighborsClassifier()#ç½‘æ ¼æœç´¢GridSearchCVè¿›è¡Œæœ€ä½³å‚æ•°çš„æŸ¥æ‰¾params = &#123;'n_neighbors':[i for i in range(1,30)], 'weights':['distance','uniform'], 'p':[1,2]&#125;# cross_val_scoreç±»ä¼¼estimator = GridSearchCV(estimator,param_grid=params,scoring='accuracy',cv = 6)estimator.fit(x_train,y_train)#5)æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=estimator.predict(x_test)print('y_predict:\\n',y_predict)print('ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=estimator.score(x_test,y_test)print('å‡†ç¡®ç‡ä¸ºï¼š\\n',score)#æŸ¥çœ‹äº†GridSearchCVæœ€ä½³çš„å‚æ•°ç»„åˆ#æœ€ä½³å‚æ•°ï¼šbest_params_print('æœ€ä½³å‚æ•°ï¼š\\n',estimator.best_params_)#æœ€ä½³ç»“æœï¼šbest_score_print('æœ€ä½³ç»“æœï¼š\\n',estimator.best_score_)#æœ€ä½³ä¼°è®¡å™¨ï¼šbest_estimator_print('æœ€ä½³ä¼°è®¡å™¨ï¼š\\n',estimator.best_estimator_)#äº¤å‰éªŒè¯ç»“æœï¼šcv_results_#print('äº¤å‰éªŒè¯ç»“æœï¼š\\n',estimator.cv_results_)è¾“å‡ºç»“æœï¼š12345678910111213141516y_predict: [1 1 2 2 1 0 1 0 1 2 1 2 1 0 1 2 1 0 0 2 1 1 1 2 2 2 0 0 1 1]ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š [ True True True True True True True True False True True True True True True True False False True True True True True True True True True True False True]å‡†ç¡®ç‡ä¸ºï¼š 0.8666666666666667æœ€ä½³å‚æ•°ï¼š &#123;'n_neighbors': 15, 'p': 2, 'weights': 'distance'&#125;æœ€ä½³ç»“æœï¼š 0.9833333333333333æœ€ä½³ä¼°è®¡å™¨ï¼š KNeighborsClassifier(algorithm='auto', leaf_size=30, metric='minkowski', metric_params=None, n_jobs=None, n_neighbors=15, p=2, weights='distance')æ³¨ï¼šæœ€ä½³ç»“æœâ€”è®­ç»ƒé›†å†åˆ†ä¸ºè®­ç»ƒé›†+éªŒè¯é›†ï¼ŒéªŒè¯é›†çš„æ•ˆæœï¼›å‡†ç¡®ç‡â€”æ•´ä½“æµ‹è¯•é›†çš„æ•ˆæœã€‚æ•°æ®é›†ä¸åŒæœ´ç´ è´å¶æ–¯ç®—æ³•æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨æ˜¯åŸºäºæ¦‚ç‡è®ºçš„åˆ†ç±»æ¨¡å‹ï¼Œå…¶æ€æƒ³æ˜¯å…ˆè®¡ç®—æ ·æœ¬çš„å…ˆéªŒæ¦‚ç‡ï¼Œç„¶ååˆ©ç”¨è´å¶æ–¯å…¬å¼æµ‹ç®—æœªçŸ¥æ ·æœ¬å±äºæŸä¸ªç±»åˆ«çš„åéªŒæ¦‚ç‡ï¼Œæœ€ç»ˆä»¥æœ€å¤§åéªŒæ¦‚ç‡å¯¹åº”çš„ç±»åˆ«ä½œä¸ºæœªçŸ¥æ ·æœ¬çš„é¢„æµ‹ç±»åˆ«ã€‚ä¹‹æ‰€ä»¥å«â€æœ´ç´ â€ï¼Œæ˜¯å› ä¸ºæ•´ä¸ªå½¢å¼åŒ–è¿‡ç¨‹åªåšæœ€ç®€å•ã€æœ€åŸå§‹çš„å‡è®¾ã€‚ç†è®ºåŸºç¡€æ¡ˆä¾‹é—®é¢˜ï¼š1ã€å¥³ç¥å–œæ¬¢çš„æ¦‚ç‡ï¼Ÿ $P(å–œæ¬¢)=\\frac{4}{7}$2ã€èŒä¸šæ˜¯ç¨‹åºå‘˜å¹¶ä¸”ä½“å‹åŒ€ç§°çš„æ¦‚ç‡ï¼Ÿ $P(ç¨‹åºå‘˜ï¼ŒåŒ€ç§°)=\\frac{1}{7}$ (è”åˆæ¦‚ç‡)3ã€åœ¨å¥³ç¥å–œæ¬¢çš„æ¡ä»¶ä¸‹ï¼ŒèŒä¸šæ˜¯ç¨‹åºå‘˜çš„æ¦‚ç‡ï¼Ÿ $P(ç¨‹åºå‘˜|å–œæ¬¢)=\\frac{2}{4}=\\frac{1}{2}$ ï¼ˆæ¡ä»¶æ¦‚ç‡ï¼‰4ã€åœ¨å¥³ç¥å–œæ¬¢çš„æ¡ä»¶ä¸‹ï¼ŒèŒä¸šæ˜¯äº§å“ï¼Œä½“é‡æ˜¯è¶…é‡çš„æ¦‚ç‡ï¼Ÿâ€‹ $P(ç¨‹åºå‘˜ï¼Œè¶…é‡|å–œæ¬¢)=\\frac{1}{4}$ ï¼ˆè”åˆæ¦‚ç‡ã€æ¡ä»¶æ¦‚ç‡ï¼‰ç›¸äº’ç‹¬ç«‹ï¼š$P(AB)=P(A)P(B)$&lt;=&gt;äº‹ä»¶Aä¸äº‹ä»¶Bç›¸äº’ç‹¬ç«‹$P(ç¨‹åºå‘˜ï¼ŒåŒ€ç§°)=\\frac{1}{7}$ $P(ç¨‹åºå‘˜)=\\frac{3}{7}$ $P(åŒ€ç§°)=\\frac{4}{7}$ $P(ç¨‹åºå‘˜ï¼ŒåŒ€ç§°)â‰ P(ç¨‹åºå‘˜)P(åŒ€ç§°)$ ä¸ç‹¬ç«‹è´å¶æ–¯å…¬å¼ï¼š$P(A|B)=\\frac{P(B|A)P(A)}{P(B)}$$P(å–œæ¬¢|äº§å“ç»ç†,è¶…é‡)=\\frac{P(äº§å“ç»ç†,è¶…é‡|å–œæ¬¢)P(å–œæ¬¢)}{P(äº§å“ç»ç†,è¶…é‡)}=0$æœ´ç´ ? å‡è®¾:ç‰¹å¾ä¸ç‰¹å¾ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„æœ´ç´ è´å¶æ–¯ç®—æ³•=æœ´ç´ +è´å¶æ–¯$P(å–œæ¬¢|äº§å“ç»ç†,è¶…é‡)=\\frac{P(äº§å“ç»ç†,è¶…é‡|å–œæ¬¢)P(å–œæ¬¢)}{P(äº§å“ç»ç†,è¶…é‡)}=\\frac{P(äº§å“ç»ç†|å–œæ¬¢)P(è¶…é‡|å–œæ¬¢)P(å–œæ¬¢)}{P(äº§å“ç»ç†)P(è¶…é‡)}=\\frac{7}{12}$åº”ç”¨åœºæ™¯æœ´ç´ è´å¶æ–¯ç®—æ³•åº”ç”¨åœºæ™¯ï¼šæ–‡æœ¬åˆ†ç±»å…¬å¼ï¼š$P(C|W)=\\frac{P(W|C)P(C)}{P(W)}$æ³¨ï¼š$W$ä¸ºç»™å®šæ–‡æ¡£çš„ç‰¹å¾å€¼ï¼ˆé¢‘æ•°ç»Ÿè®¡ï¼Œé¢„æµ‹æ–‡æ¡£æä¾›ï¼‰ï¼Œ$C$ä¸ºæ–‡æ¡£ç±»åˆ«å…¬å¼å¦‚æœåº”ç”¨åœ¨æ–‡ç« åˆ†ç±»çš„åœºæ™¯å½“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·çœ‹ï¼šP(C|F1,F2,â€¦)=\\frac{P(F1,F2,â€¦|C)P(C)}{P(F1,F2,â€¦)}å…¶ä¸­$C$å¯ä»¥æ˜¯ä¸åŒç±»åˆ«å…¬å¼åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š$P(C)$ï¼šæ¯ä¸ªæ–‡æ¡£ç±»åˆ«çš„æ¦‚ç‡(æŸæ–‡æ¡£ç±»åˆ«æ•°ï¼æ€»æ–‡æ¡£æ•°é‡)$P(W|C)$ï¼šç»™å®šç±»åˆ«ä¸‹ç‰¹å¾ï¼ˆè¢«é¢„æµ‹æ–‡æ¡£ä¸­å‡ºç°çš„è¯ï¼‰çš„æ¦‚ç‡â€‹ è®¡ç®—æ–¹æ³•ï¼š$P(F1â”‚C)=Ni/N $ï¼ˆè®­ç»ƒæ–‡æ¡£ä¸­å»è®¡ç®—ï¼‰â€‹ $Ni$ä¸ºè¯¥$F1$è¯åœ¨$C$ç±»åˆ«æ‰€æœ‰æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°â€‹ $N$ä¸ºæ‰€å±ç±»åˆ«$C$ä¸‹çš„æ–‡æ¡£æ‰€æœ‰è¯å‡ºç°çš„æ¬¡æ•°å’Œ$P(F1,F2,â€¦) $é¢„æµ‹æ–‡æ¡£ä¸­æ¯ä¸ªè¯çš„æ¦‚ç‡å¸¸ç”¨è´å¶æ–¯åˆ†ç±»å™¨1.é«˜æ–¯è´å¶æ–¯åˆ†ç±»å™¨é€‚ç”¨æ¡ä»¶ï¼šè‡ªå˜é‡Xå‡ä¸ºè¿ç»­çš„æ•°å€¼å‹å‡è®¾æ¡ä»¶ï¼šè‡ªå˜é‡Xæœä»é«˜æ–¯æ­£æ€åˆ†å¸ƒè‡ªå˜é‡Xçš„æ¡ä»¶æ¦‚ç‡ï¼š$P(x_jâˆ£C_i)=\\frac{1}{\\sqrt{2\\pi}\\sigma_{ji}}exp(-\\frac{(x_j-\\mu_{ji})^2}{2\\sigma_{ji}^2})$å…¶ä¸­$x_j$ä¸ºç¬¬$j$ä¸ªè‡ªå˜é‡çš„å–å€¼ï¼Œ$Î¼_{ji}$ä¸ºè®­ç»ƒé›†ä¸­è‡ªå˜é‡$x_j$å±äºç±»åˆ« $C_i$çš„å‡å€¼ï¼Œ$Ïƒ_{ji}$ä¸ºè®­ç»ƒé›†ä¸­è‡ªå˜é‡$x_j$å±äºç±»åˆ« $C_i$çš„æ ‡å‡†å·®ã€‚2.å¤šé¡¹å¼è´å¶æ–¯åˆ†ç±»å™¨é€‚ç”¨æ¡ä»¶ï¼šè‡ªå˜é‡Xå‡ä¸ºç¦»æ•£å‹å˜é‡å‡è®¾æ¡ä»¶ï¼šè‡ªå˜é‡Xçš„æ¡ä»¶æ¦‚ç‡æœä»å¤šé¡¹å¼åˆ†å¸ƒè‡ªå˜é‡Xçš„æ¡ä»¶æ¦‚ç‡ï¼š$P(x_j=x_{jk}âˆ£C_i)=\\frac{N_{ik}+\\alpha}{N_i+n\\alpha}$å…¶ä¸­$x_{jk}$ä¸ºè‡ªå˜é‡$x_j$çš„ç¬¬$k$ä¸ªå–å€¼ï¼Œ$N_{ik}$è¡¨ç¤ºå› å˜é‡ä¸ºç±»åˆ«$C_i$æ—¶è‡ªå˜é‡$x_j$å–å€¼$x_{jk}$çš„æ ·æœ¬ä¸ªæ•°ï¼Œ$N_i$ä¸ºç±»åˆ«$C_i$çš„æ ·æœ¬ä¸ªæ•°ï¼Œ$Î±$ä¸ºå¹³æ»‘ç³»æ•°ï¼ˆé˜²æ­¢æ¡ä»¶æ¦‚ç‡ç­‰äº0ï¼Œé€šå¸¸å–1ï¼‰ï¼Œnä¸ºè®­ç»ƒæ–‡æ¡£ä¸­ç»Ÿè®¡å‡ºçš„ç‰¹å¾è¯ä¸ªæ•°ã€‚3.ä¼¯åŠªåˆ©è´å¶æ–¯åˆ†ç±»å™¨é€‚ç”¨æ¡ä»¶ï¼šè‡ªå˜é‡Xå‡ä¸º0-1äºŒå…ƒå˜é‡å‡è®¾æ¡ä»¶ï¼šè‡ªå˜é‡Xçš„æ¡ä»¶æ¦‚ç‡æœä»ä¼¯åŠªåˆ©åˆ†å¸ƒè‡ªå˜é‡Xçš„æ¡ä»¶æ¦‚ç‡$P(x_jâˆ£C_i)=px_j+(1âˆ’p)(1âˆ’x_j)$å…¶ä¸­$x_j$ä¸ºç¬¬$j$ä¸ªè‡ªå˜é‡ï¼Œå…¶å–å€¼ä¸º0æˆ–1ï¼›$p$è¡¨ç¤ºç±»åˆ«ä¸º$C_i$æ—¶è‡ªå˜é‡å–1çš„æ¦‚ç‡ï¼Œå¯ä»¥ç”¨ç»éªŒé¢‘ç‡ä»£æ›¿$p=P(x_j=1âˆ£C_i)=\\frac{N_{i1}+Î±}{N_i+nÎ±}$$N_{i1}$è¡¨ç¤ºåœ¨ç±»åˆ«$C_i$æ—¶è‡ªå˜é‡$x_j$å–1çš„æ ·æœ¬é‡ã€‚ä»£ç å®ç°1.é«˜æ–¯è´å¶æ–¯åˆ†ç±»å™¨ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#é«˜æ–¯è´å¶æ–¯åˆ†ç±»å™¨è¿›è¡Œç™Œç—‡é¢„æµ‹import numpy as npimport pandas as pdfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScaler# 1ã€è¯»å–æ•°æ®column_name = ['Sample code number', 'Clump Thickness', 'Uniformity of Cell Size', 'Uniformity of Cell Shape', 'Marginal Adhesion', 'Single Epithelial Cell Size', 'Bare Nuclei', 'Bland Chromatin', 'Normal Nucleoli', 'Mitoses', 'Class']data = pd.read_csv(\"https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data\", names=column_name)# 2ã€æ•°æ®å¤„ç†â€”å¤„ç†ç¼ºå¤±å€¼data = data.replace(to_replace='?', value=np.nan) #1)æ›¿æ¢np.nandata = data.dropna() #2)åˆ é™¤ç¼ºå¤±å€¼print(data.isnull().any()) #ç¡®è®¤ä¸å­˜åœ¨ç¼ºå¤±å€¼print('-----------------------------------')# å–å‡ºç‰¹å¾å€¼x = data[column_name[1:10]] #x=data.iloc[:,1:-1]y = data[column_name[10]] #y=data['Class']#è®¾ç½®æ­£ä¾‹å’Œè´Ÿä¾‹y = y.map(&#123;2:0,4:1&#125;)print(y.value_counts())print('-----------------------------------')#3ã€åˆ†å‰²æ•°æ®é›†x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3)#4ã€ç‰¹å¾å·¥ç¨‹â€”æ ‡å‡†åŒ–std = StandardScaler()x_train = std.fit_transform(x_train)x_test = std.transform(x_test)#5ã€estimatorä¼°è®¡å™¨æµç¨‹from sklearn import naive_bayes#è°ƒç”¨é«˜æ–¯æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨çš„â€œç±»â€gnb = naive_bayes.GaussianNB()#æ¨¡å‹æ‹Ÿåˆgnb.fit(x_train,y_train)#6ã€è¿›è¡Œé¢„æµ‹ï¼ˆæ¨¡å‹è¯„ä¼°ï¼‰#æ¨¡å‹åœ¨æµ‹è¯•æ•°æ®é›†ä¸Šçš„é¢„æµ‹gnb_pred = gnb.predict(x_test)#å„ç±»åˆ«çš„é¢„æµ‹æ•°é‡print(pd.Series(gnb_pred).value_counts())print('-----------------------------------')#å¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…from sklearn import metricsimport matplotlib.pyplot as pltimport seaborn as sns#æ„å»ºæ··æ·†çŸ©é˜µcm = pd.crosstab(gnb_pred,y_test)#ç»˜åˆ¶æ··æ·†çŸ©é˜µå›¾sns.heatmap(cm,annot = True , cmap = 'GnBu' , fmt = 'd')#å»é™¤xè½´å’Œyè½´çš„æ ‡ç­¾plt.xlabel('Real')plt.ylabel('Predict')#æ˜¾ç¤ºå›¾å½¢plt.show()print('æ¨¡å‹çš„å‡†ç¡®ç‡ï¼š\\n',metrics.accuracy_score(y_test,gnb_pred))print('æ¨¡å‹çš„è¯„ä¼°æŠ¥å‘Šï¼š\\n',metrics.classification_report(y_test,gnb_pred))#è®¡ç®—æ­£ä¾‹çš„é¢„æµ‹æ¦‚ç‡ï¼Œç”¨äºç”ŸæˆROCæ›²çº¿çš„æ•°æ®y_score = gnb.predict_proba(x_test)[:,1]fpr,tpr,threshold = metrics.roc_curve(y_test,y_score)#è®¡ç®—AUCçš„å€¼roc_auc = metrics.auc(fpr,tpr)#ç»˜åˆ¶é¢ç§¯å›¾plt.stackplot(fpr,tpr,color = 'steelblue',alpha = 0.5,edgecolor = 'black')#æ·»åŠ è¾¹é™…çº¿plt.plot(fpr,tpr,color= 'black',lw =1)#æ·»åŠ å¯¹è§’çº¿plt.plot([0,1],[0,1],color = 'red',linestyle = '--')#æ·»åŠ æ–‡æœ¬ä¿¡æ¯plt.text(0.5,0.3,'ROC curve(area = %0.2f)'% roc_auc)#æ·»åŠ xè½´ä¸yè½´æ ‡ç­¾plt.xlabel('1-Specificity')plt.ylabel('Sensitivity')#æ˜¾ç¤ºå›¾å½¢plt.show()è¾“å‡ºç»“æœï¼š1234567891011121314151617181920212223242526272829303132Sample code number FalseClump Thickness FalseUniformity of Cell Size FalseUniformity of Cell Shape FalseMarginal Adhesion FalseSingle Epithelial Cell Size FalseBare Nuclei FalseBland Chromatin FalseNormal Nucleoli FalseMitoses FalseClass Falsedtype: bool-----------------------------------0 4441 239Name: Class, dtype: int64-----------------------------------0 1231 82dtype: int64-----------------------------------æ¨¡å‹çš„å‡†ç¡®ç‡ï¼š 0.9707317073170731æ¨¡å‹çš„è¯„ä¼°æŠ¥å‘Šï¼š precision recall f1-score support 0 0.99 0.96 0.98 127 1 0.94 0.99 0.96 78 accuracy 0.97 205 macro avg 0.97 0.97 0.97 205weighted avg 0.97 0.97 0.97 2052.å¤šé¡¹å¼è´å¶æ–¯åˆ†ç±»å™¨ä»£ç ï¼š12345678910111213141516171819202122232425262728293031import pandas as pdfrom sklearn import model_selection,naive_bayes,metricsimport matplotlib.pyplot as pltdata=pd.read_csv(r'mushrooms.csv')print(data.head())#ä½¿ç”¨factorizeå‡½æ•°å°†å­—ç¬¦å‹æ•°æ®åšå› å­åŒ–å¤„ç†ï¼Œå°†å…¶è½¬æ¢ä¸ºæ•´æ•°å‹æ•°æ®#factorizeå‡½æ•°è¿”å›çš„æ˜¯ä¸¤ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºè½¬æ¢æˆçš„æ•°å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä¸ºæ•°å€¼å¯¹åº”çš„å­—ç¬¦æ°´å¹³columns=data.columns[1:]for column in columns: data[column]=pd.factorize(data[column])[0]#æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†x_train,x_test,y_train,y_test=model_selection.train_test_split(data[columns],data.type,test_size=0.25,random_state=1234)#è°ƒç”¨å¤šé¡¹å¼æœ´ç´ è´å¶æ–¯mnb=naive_bayes.MultinomialNB()mnb.fit(x_train,y_train)mnb_pred=mnb.predict(x_test)#æ˜¾ç¤ºé¢„æµ‹ç»“æœï¼Œå„ç±»åˆ«çš„é¢„æµ‹æ•°é‡#æ¨¡å‹æ£€éªŒprint('æ¨¡å‹çš„å‡†ç¡®ç‡ä¸ºï¼š',metrics.accuracy_score(y_test,mnb_pred))print('æ¨¡å‹çš„è¯„ä¼°æŠ¥å‘Šï¼š\\n',metrics.classification_report(y_test,mnb_pred))#ç»˜åˆ¶ROCæ›²çº¿y_score=mnb.predict_proba(x_test)[:,1]fpr,tpr,threshold=metrics.roc_curve(y_test.map(&#123;'e':0,'p':1&#125;),y_score)roc_auc=metrics.auc(fpr,tpr)plt.stackplot(fpr,tpr,color='steelblue',alpha=0.5,edgecolor='black')plt.plot(fpr,tpr,color='black',lw=1)plt.plot([0,1],[0,1],color='red',linestyle='--')plt.text(0.5,0.3,'ROC Curve (area=%0.2f)' % roc_auc)plt.xlabel('l-Specificity')plt.ylabel('Sensitivity')plt.show()è¾“å‡ºç»“æœï¼š123456789101112131415161718 type cap-shape cap-surface ... spore-print-color population habitat0 p x s ... k s u1 e x s ... n n g2 e b s ... n n m3 p x y ... k s u4 e x s ... n a g[5 rows x 23 columns]æ¨¡å‹çš„å‡†ç¡®ç‡ä¸ºï¼š 0.8877400295420975æ¨¡å‹çš„è¯„ä¼°æŠ¥å‘Šï¼š precision recall f1-score support e 0.85 0.95 0.89 1017 p 0.94 0.83 0.88 1014 accuracy 0.89 2031 macro avg 0.89 0.89 0.89 2031weighted avg 0.89 0.89 0.89 20313.ä¼¯åŠªåˆ©è´å¶æ–¯åˆ†ç±»å™¨æœªå®Œå¾…ç»­æ¡ˆä¾‹ï¼šæ–°é—»åˆ†ç±»ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233#æœ´ç´ è´å¶æ–¯å¯¹æ–°é—»æ•°æ®é›†è¿›è¡Œé¢„æµ‹#1ï¼‰å¯¼å…¥åº“import numpy as npfrom sklearn import datasetsfrom sklearn.datasets import fetch_20newsgroupsfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.feature_extraction.text import TfidfVectorizerfrom sklearn.naive_bayes import MultinomialNBfrom sklearn import metrics#2ï¼‰è·å–æ–°é—»çš„æ•°æ®ï¼Œ20ä¸ªç±»åˆ«news = fetch_20newsgroups(subset='all')#3ï¼‰è¿›è¡Œæ•°æ®é›†åˆ†å‰²x_train, x_test, y_train, y_test = train_test_split(news.data, news.target, test_size=0.3)#4ï¼‰å¯¹äºæ–‡æœ¬æ•°æ®ï¼Œè¿›è¡Œç‰¹å¾æŠ½å–tf = TfidfVectorizer()x_train = tf.fit_transform(x_train)#è¿™é‡Œæ‰“å°å‡ºæ¥çš„åˆ—è¡¨æ˜¯ï¼šè®­ç»ƒé›†å½“ä¸­çš„æ‰€æœ‰ä¸åŒè¯çš„ç»„æˆçš„ä¸€ä¸ªåˆ—è¡¨print(tf.get_feature_names())# print(x_train.toarray())x_test = tf.transform(x_test) # ä¸éœ€è¦fit_transform#5ï¼‰estimatorä¼°è®¡å™¨æµç¨‹mnb = MultinomialNB(alpha=1.0) #é»˜è®¤alpha=1.0mnb.fit(x_train, y_train)#6ï¼‰è¿›è¡Œé¢„æµ‹ï¼ˆæ¨¡å‹è¯„ä¼°ï¼‰y_predict = mnb.predict(x_test)print('é¢„æµ‹æ¯ç¯‡æ–‡ç« çš„ç±»åˆ«ï¼š\\n', y_predict[:100])print('çœŸå®ç±»åˆ«ä¸ºï¼š\\n', y_test[:100])print('æ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š\\n', mnb.score(x_test, y_test))#print('æ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š\\n',metrics.accuracy_score(y_test,y_predict))#æ··æ·†çŸ©é˜µfrom sklearn.metrics import classification_reportprint('æ¨¡å‹çš„è¯„ä¼°æŠ¥å‘Šï¼š\\n',classification_report(y_test,y_predict))è¾“å‡ºç»“æœï¼š123456789101112131415161718192021222324252627['00', '000', '0000', '00000', '000000', '00000000', '0000000004', '0000000005', '00000000b', '00000001', '00000001b', '00000010', Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· 'zzrk', 'zzs', 'zzt', 'zzvsi', 'zzx', 'zzy_3w', 'zzzzzz', 'zzzzzzt', 'Â³ation', 'Ã­Ã¥littin', 'Ã±austin', 'Ã½Ã©', 'Ã¿hooked']é¢„æµ‹æ¯ç¯‡æ–‡ç« çš„ç±»åˆ«ï¼š [16 7 2 4 10 3 18 7 8 12 0 13 11 11 0 15 18 10 12 8 12 2 15 7 9 12 15 16 9 0 3 15 8 3 14 17 1 0 15 16 9 2 3 6 5 4 6 14 8 9 13 9 11 12 10 10 3 11 11 0 6 12 15 3 15 6 5 1 9 14 10 3 7 11 0 3 7 16 13 9 5 15 1 13 15 16 7 4 1 16 16 18 14 15 7 16 15 14 0 14]çœŸå®ç±»åˆ«ä¸ºï¼š [19 7 2 4 10 3 18 3 8 12 0 13 11 11 0 0 18 10 12 15 12 2 15 7 9 12 15 16 9 0 3 15 8 3 14 17 1 0 15 16 9 2 3 8 5 4 6 14 8 9 13 9 11 12 10 10 3 11 11 0 6 12 0 3 0 6 5 1 9 14 12 6 8 12 0 3 7 18 13 9 5 15 1 13 15 16 7 4 1 16 18 18 14 15 7 13 15 1 0 14]æ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š 0.8593915811814644 æ¨¡å‹çš„è¯„ä¼°æŠ¥å‘Šï¼š precision recall f1-score support 0 0.89 0.76 0.82 235 1 0.93 0.72 0.81 320 Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· 18 0.99 0.63 0.77 235 19 1.00 0.21 0.35 177 accuracy 0.86 5654 macro avg 0.88 0.84 0.84 5654weighted avg 0.88 0.86 0.85 5654æœ´ç´ è´å¶æ–¯æ€»ç»“ä¼˜ç‚¹ï¼šæœ´ç´ è´å¶æ–¯æ¨¡å‹å‘æºäºå¤å…¸æ•°å­¦ç†è®ºï¼Œæœ‰ç¨³å®šçš„åˆ†ç±»æ•ˆç‡ã€‚å¯¹ç¼ºå¤±æ•°æ®ä¸å¤ªæ•æ„Ÿï¼Œç®—æ³•ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¸¸ç”¨äºæ–‡æœ¬åˆ†ç±»ã€‚åˆ†ç±»å‡†ç¡®åº¦é«˜ï¼Œé€Ÿåº¦å¿«ç¼ºç‚¹ï¼šç”±äºä½¿ç”¨äº†æ ·æœ¬å±æ€§ç‹¬ç«‹æ€§çš„å‡è®¾ï¼Œæ‰€ä»¥å¦‚æœç‰¹å¾å±æ€§æœ‰å…³è”æ—¶å…¶æ•ˆæœä¸å¥½å†³ç­–æ ‘è®¤è¯†å†³ç­–æ ‘â€‹ å¦‚ä½•é«˜æ•ˆçš„è¿›è¡Œå†³ç­–ï¼Ÿâ€‹ ç‰¹å¾çš„å…ˆåé¡ºåºå†³ç­–æ ‘åˆ†ç±»åŸç†è¯¦è§£â€‹ å·²çŸ¥ å››ä¸ªç‰¹å¾å€¼ é¢„æµ‹ æ˜¯å¦è´·æ¬¾ç»™æŸä¸ªäººâ€‹ å…ˆçœ‹æˆ¿å­ï¼Œå†å·¥ä½œ -&gt; æ˜¯å¦è´·æ¬¾ åªçœ‹äº†ä¸¤ä¸ªç‰¹å¾â€‹ å¹´é¾„ï¼Œä¿¡è´·æƒ…å†µï¼Œå·¥ä½œ çœ‹äº†ä¸‰ä¸ªç‰¹å¾ä¿¡æ¯è®ºåŸºç¡€1ï¼‰ä¿¡æ¯ï¼šæ¶ˆé™¤éšæœºä¸ç¡®å®šæ€§çš„ä¸œè¥¿å°æ˜ï¼šâ€œæˆ‘ä»Šå¹´18å²â€ - ä¿¡æ¯å°åï¼š â€å°æ˜æ˜å¹´19å²â€ - ä¸æ˜¯ä¿¡æ¯(å½“å°æ˜å‘Šè¯‰æˆ‘ä»–ä»Šå¹´18å²ï¼Œè¿™å°±æ¶ˆé™¤äº†å¯¹å°æ˜å¹´é¾„çš„ä¸ç¡®å®šæ€§)2ï¼‰ä¿¡æ¯çš„è¡¡é‡æ ‡å‡† - ç†µç†µï¼šè¡¨ç¤ºéšæœºå˜é‡ä¸ç¡®å®šæ€§çš„åº¦é‡ ç†µå•ä½ä¸ºæ¯”ç‰¹ï¼ˆbitï¼‰ï¼ˆè§£é‡Šï¼šè¯´ç™½äº†å°±æ˜¯ç‰©ä½“å†…éƒ¨çš„æ··ä¹±ç¨‹åº¦ï¼Œæ¯”å¦‚æ‚è´§å¸‚åœºé‡Œé¢ä»€ä¹ˆéƒ½æœ‰é‚£è‚¯å®šæ··ä¹±ï¼Œä¸“å–åº—é‡Œé¢åªå–ä¸€ä¸ªç‰Œå­é‚£å°±ç¨³å®šå¤šäº†ï¼‰å…¬å¼ï¼šHï¼ˆDï¼‰=-\\sum_{i=1}^{n} p(x i) * \\log _{2} p(x i)ç†µï¼šä¸ç¡®å®šæ€§è¶Šå¤§ï¼Œå¾—åˆ°çš„ç†µå€¼ä¹Ÿå°±è¶Šå¤§3ï¼‰å†³ç­–æ ‘çš„åˆ’åˆ†ä¾æ®ä¹‹ä¸€â€”â€”â€”ä¿¡æ¯å¢ç›Šç‰¹å¾Aå¯¹è®­ç»ƒæ•°æ®é›†Dçš„ä¿¡æ¯å¢ç›Š$g(D,A)$,å®šä¹‰ä¸ºé›†åˆDçš„ç†µ$H(D)$ä¸ç‰¹å¾Aç»™å®šæ¡ä»¶ä¸‹Dçš„ä¿¡æ¯æ¡ä»¶ç†µ$H(D|A)$ä¹‹å·®ï¼Œå³å…¬å¼ä¸ºï¼šg(D,A)=H(D)-H(D|A)å…¬å¼çš„è¯¦ç»†è§£é‡Šï¼šç†µçš„è®¡ç®—ï¼šH(D)=-\\sum_{k=1}^{K} \\frac{\\left|C_{k}\\right|}{|D|} \\log_{2} \\frac{\\left|C_{k}\\right|}{|D|}æ¡ä»¶ç†µçš„è®¡ç®—å…¬å¼ï¼šH(D | A)=\\sum_{i=1}^{n} \\frac{\\left|D_{i}\\right|}{|D|} H\\left(D_{i}\\right)=-\\sum_{i=1}^{n} \\frac{\\left|D_{i}\\right|}{|D|} \\sum_{k=1}^{K} \\frac{\\left|D_{i k}\\right|}{\\left|D_{i}\\right|} \\log_{2} \\frac{\\left|D_{i k}\\right|}{\\left|D_{i}\\right|}æ³¨ï¼š$C_{k}$è¡¨ç¤ºå±äºæŸä¸ªç±»åˆ«çš„æ ·æœ¬æ•°æ³¨ï¼šä¿¡æ¯å¢ç›Šè¡¨ç¤ºå¾—çŸ¥ç‰¹å¾Xçš„ä¿¡æ¯è€Œä¿¡æ¯çš„ä¸ç¡®å®šæ€§å‡å°‘çš„ç¨‹åº¦ä½¿å¾—ç±»Yçš„ä¿¡æ¯ç†µå‡å°‘çš„ç¨‹åº¦ä¾‹å­æ ¹æ®æŸäººå¹´é¾„ã€å·¥ä½œã€æˆ¿å­å’Œä¿¡è´·æƒ…å†µï¼Œåˆ¤æ–­æ˜¯å¦è´·æ¬¾ï¼Ÿåœ¨å†å²æ•°æ®ä¸­ï¼ˆ15æ¬¡è´·æ¬¾ï¼‰æœ‰6æ¬¡æ²¡è´·æ¬¾ï¼Œ9æ¬¡è´·æ¬¾ï¼Œæ‰€ä»¥æ­¤æ—¶çš„ç†µåº”ä¸ºï¼šH(D)=-(\\frac{6}{15}*log_{2}\\frac{6}{15}+\\frac{9}{15}*log_{2}\\frac{9}{15})=0.971$H(é’å¹´)=-(\\frac{2}{5}log_{2}\\frac{2}{5}+\\frac{3}{5}log_{2}\\frac{3}{5})=0.971$$H(ä¸­å¹´)=-(\\frac{2}{5}log_{2}\\frac{2}{5}+\\frac{3}{5}log_{2}\\frac{3}{5})=0.971$$H(è€å¹´)=-(\\frac{1}{5}log_{2}\\frac{1}{5}+\\frac{4}{5}log_{2}\\frac{4}{5})=0.722$$H(D|å¹´é¾„)=\\frac{5}{15}H(é’å¹´)+\\frac{5}{15}H(ä¸­å¹´)+\\frac{5}{15}H(è€å¹´)=0.888$$g(D,å¹´é¾„)=H(D)-H(D|å¹´é¾„)=0.083$ æ³¨ï¼šåˆ«äººè®¡ç®—ä¸º0.313æˆ‘ä»¬ä»¥A1ã€A2ã€A3ã€A4ä»£è¡¨å¹´é¾„ã€æœ‰å·¥ä½œã€æœ‰è‡ªå·±çš„æˆ¿å­å’Œè´·æ¬¾æƒ…å†µã€‚æœ€ç»ˆè®¡ç®—çš„ç»“æœg(D, A1) = 0.313, g(D, A2) = 0.324, g(D, A3) = 0.420,g(D, A4) = 0.363ã€‚æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©A3 ä½œä¸ºåˆ’åˆ†çš„ç¬¬ä¸€ä¸ªç‰¹å¾ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä¸€æ£µæ ‘æ…¢æ…¢å»ºç«‹å†³ç­–æ ‘çš„ä¸‰ç§ç®—æ³•å®ç°å½“ç„¶å†³ç­–æ ‘çš„åŸç†ä¸æ­¢ä¿¡æ¯å¢ç›Šè¿™ä¸€ç§ï¼Œè¿˜æœ‰å…¶ä»–æ–¹æ³•ã€‚ä½†æ˜¯åŸç†éƒ½ç±»ä¼¼ï¼Œæˆ‘ä»¬å°±ä¸å»ä¸¾ä¾‹è®¡ç®—ã€‚ID3ä¿¡æ¯å¢ç›Š æœ€å¤§çš„å‡†åˆ™C4.5ä¿¡æ¯å¢ç›Šæ¯” æœ€å¤§çš„å‡†åˆ™CARTåˆ†ç±»æ ‘: åŸºå°¼ç³»æ•° æœ€å°çš„å‡†åˆ™ åœ¨sklearnä¸­å¯ä»¥é€‰æ‹©åˆ’åˆ†çš„é»˜è®¤åŸåˆ™ä¼˜åŠ¿ï¼šåˆ’åˆ†æ›´åŠ ç»†è‡´ï¼ˆä»åé¢ä¾‹å­çš„æ ‘æ˜¾ç¤ºæ¥ç†è§£ï¼‰å†³ç­–æ ‘ç®—æ³•APIclass sklearn.tree.DecisionTreeClassifier(criterion=â€™giniâ€™, max_depth=None,random_state=None)å†³ç­–æ ‘åˆ†ç±»å™¨criterion:é»˜è®¤æ˜¯â€™giniâ€™ç³»æ•°ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¿¡æ¯å¢ç›Šçš„ç†µâ€™entropyâ€™max_depth:æ ‘çš„æ·±åº¦å¤§å°random_state:éšæœºæ•°ç§å­å…¶ä¸­ä¼šæœ‰äº›è¶…å‚æ•°ï¼šmax_depth:æ ‘çš„æ·±åº¦å¤§å°å…¶å®ƒè¶…å‚æ•°æˆ‘ä»¬ä¼šç»“åˆéšæœºæ£®æ—è®²è§£æ¡ˆä¾‹1ï¼šé¸¢å°¾èŠ±ç§ç±»é¢„æµ‹ä»£ç ï¼š1234567891011121314151617181920212223#å†³ç­–æ ‘å¯¹é¸¢å°¾èŠ±è¿›è¡Œåˆ†ç±»#1)å¯¼å…¥åº“import numpy as npfrom sklearn import datasetsfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.tree import DecisionTreeClassifier#2)è·å–æ•°æ®x,y = datasets.load_iris(True)#3ï¼‰åˆ’åˆ†æ•°æ®é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size = 0.2)#å†³ç­–æ ‘ä¸éœ€è¦ç‰¹å¾å·¥ç¨‹ï¼šæ ‡å‡†åŒ–#4)å†³ç­–æ ‘ç®—æ³•é¢„ä¼°å™¨(è®­ç»ƒæ•°æ®)estimator=DecisionTreeClassifier(criterion='entropy')estimator.fit(x_train,y_train)#5)æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=estimator.predict(x_test)print('y_predict:\\n',y_predict)print('ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=estimator.score(x_test,y_test)print('å‡†ç¡®ç‡ä¸ºï¼š\\n',score)è¾“å‡ºç»“æœï¼š12345678y_predict: [1 2 0 0 1 2 0 1 2 2 2 1 1 0 1 2 1 0 0 2 2 2 2 2 2 2 0 2 1 2]ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š [ True True True True True True True False True True False True True True True True True True True True False True True True True True True True True True]å‡†ç¡®ç‡ä¸ºï¼š 0.9æ³¨ï¼šæ¯”å¯¹kNNç®—æ³•å‡†ç¡®ç‡ä½ï¼›ç”±äºé¸¢å°¾èŠ±æ•°æ®å°‘ï¼Œè€ŒkNNç®—æ³•ä½¿ç”¨åœºæ™¯ä¸ºå°æ•°æ®åœºæ™¯å†³ç­–æ ‘å¯è§†åŒ–1ã€sklearn.tree.export_graphviz() è¯¥å‡½æ•°èƒ½å¤Ÿå¯¼å‡ºDOTæ ¼å¼tree.export_graphviz(estimator,out_file=â€™tree.dotâ€™,feature_names=[â€˜â€™,â€™â€™])2ã€å·¥å…·:(èƒ½å¤Ÿå°†dotæ–‡ä»¶è½¬æ¢ä¸ºpdfã€png)å®‰è£…graphvizubuntu:sudo apt-get install graphviz Mac:brew install graphviz3ã€è¿è¡Œå‘½ä»¤ç„¶åæˆ‘ä»¬è¿è¡Œè¿™ä¸ªå‘½ä»¤dot -Tpng tree.dot -o tree.pngä»¥ä¸Šæ–‡é¸¢å°¾èŠ±æ•°æ®ä¸ºä¾‹ï¼š12from sklearn.tree import export_graphvizexport_graphviz(estimator,out_file='iris_tree.dot',feature_names=iris.feature_names)å¯¼å‡ºæ–‡æ¡£iris_tree.dotï¼Œæ‰“å¼€æ–‡æ¡£å…¨é€‰å¤åˆ¶ï¼Œç²˜è´´åˆ°http://www.webgraphviz.com/ç½‘é¡µç‰ˆä¸Šå¯ä»¥å®ç°å¯è§†åŒ–ã€‚æ— éœ€å®‰è£…è½¯ä»¶ã€‚æ¡ˆä¾‹ï¼šæ³°å¦å°¼å…‹å·ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹æ³°å¦å°¼å…‹å·æ•°æ®åœ¨æ³°å¦å°¼å…‹å·å’Œtitanic2æ•°æ®å¸§æè¿°æ³°å¦å°¼å…‹å·ä¸Šçš„ä¸ªåˆ«ä¹˜å®¢çš„ç”Ÿå­˜çŠ¶æ€ã€‚è¿™é‡Œä½¿ç”¨çš„æ•°æ®é›†æ˜¯ç”±å„ç§ç ”ç©¶äººå‘˜å¼€å§‹çš„ã€‚å…¶ä¸­åŒ…æ‹¬è®¸å¤šç ”ç©¶äººå‘˜åˆ›å»ºçš„æ—…å®¢åå•ï¼Œç”±Michael A. Findlayç¼–è¾‘ã€‚æˆ‘ä»¬æå–çš„æ•°æ®é›†ä¸­çš„ç‰¹å¾æ˜¯ç¥¨çš„ç±»åˆ«ï¼Œå­˜æ´»ï¼Œä¹˜åç­ï¼Œå¹´é¾„ï¼Œç™»é™†ï¼Œhome.destï¼Œæˆ¿é—´ï¼Œç¥¨ï¼Œèˆ¹å’Œæ€§åˆ«ã€‚ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#å†³ç­–æ ‘è¿›è¡Œä¹˜å®¢ç”Ÿå­˜é¢„æµ‹#1ã€å¯¼å…¥åº“import numpy as npimport pandas as pdimport matplotlib.pyplot as pltfrom sklearn import datasetsfrom sklearn.feature_extraction import DictVectorizerfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.tree import DecisionTreeClassifier,export_graphvizfrom sklearn import tree#2ã€è·å–æ•°æ®titan = pd.read_csv(\"http://biostat.mc.vanderbilt.edu/wiki/pub/Main/DataSets/titanic.txt\")#3ã€æ•°æ®çš„å¤„ç†x = titan[['pclass', 'age', 'sex']]y = titan['survived']# â‘ ç¼ºå¤±å€¼å¤„ç†ï¼Œå°†ç‰¹å¾å½“ä¸­æœ‰ç±»åˆ«çš„è¿™äº›ç‰¹å¾è¿›è¡Œå­—å…¸ç‰¹å¾æŠ½å–x['age'].fillna(x['age'].mean(), inplace=True)# â‘¡å¯¹äºxè½¬æ¢æˆå­—å…¸æ•°æ®x=x.to_dict(orient=\"records\") # [&#123;\"pclass\": \"1st\", \"age\": 29.00, \"sex\": \"female\"&#125;, &#123;&#125;]#4ã€åˆ’åˆ†æ•°æ®é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size = 0.2)#5ã€å­—å…¸ç‰¹å¾æŠ½å–transfer = DictVectorizer()x_train = transfer.fit_transform(x_train)x_test=transfer.transform(x_test) #ä¸éœ€è¦è°ƒç”¨fit_transformprint(transfer.get_feature_names())print('-----------------------------------------------------')#print(x)#å†³ç­–æ ‘ä¸éœ€è¦ç‰¹å¾å·¥ç¨‹ï¼šæ ‡å‡†åŒ–#6ã€å†³ç­–æ ‘ç®—æ³•é¢„ä¼°å™¨(è®­ç»ƒæ•°æ®)estimator=DecisionTreeClassifier(criterion='entropy')estimator.fit(x_train,y_train)#7ã€æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=estimator.predict(x_test)print('y_predict:\\n',y_predict)print('-----------------------------------------------------')print('ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)print('-----------------------------------------------------')#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=estimator.score(x_test,y_test)print('å‡†ç¡®ç‡ä¸ºï¼š\\n',score)#8ã€å¯è§†åŒ–å¯¼å‡ºtitan_tree.dotæ–‡æ¡£export_graphviz(estimator,out_file='titan_tree.dot',feature_names=transfer.get_feature_names())è¾“å‡ºç»“æœï¼š12345678910111213141516171819202122232425262728['age', 'pclass=1st', 'pclass=2nd', 'pclass=3rd', 'sex=female', 'sex=male']-----------------------------------------------------y_predict: [0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 1 1 1 1 0 1 0 0 1 1 0 0 1 1 0 0 1 0 0 0 0 0 1 0 0 0 1 1 0 1 0 0 1 0 0 0 0 0 0 0 0 0 0 1 1 0 0 1 1 0 0 0 1 1 0 1 0 0 0 0 0 0 1 0 0 0 1 0 0 0 0 1 0 1 1 1 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0 1 0 0 1 0 1 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 0 1 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1 0 0 1 1 0 0 1 0 1 1 0 0 1 0 0 1 0 0 1 0 1 0 1 1 0 1 0 0 0 0 0 0 0 1 1 0 1]-----------------------------------------------------ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š 199 True1308 True814 True393 False560 True ... 955 True147 True30 True923 False404 TrueName: survived, Length: 263, dtype: bool-----------------------------------------------------å‡†ç¡®ç‡ä¸ºï¼š 0.779467680608365å†³ç­–æ ‘æ€»ç»“ä¼˜ç‚¹ï¼šå¯è§†åŒ– - å¯è§£é‡Šèƒ½åŠ›å¼ºç¼ºç‚¹ï¼šå®¹æ˜“äº§ç”Ÿè¿‡æ‹Ÿåˆæ”¹è¿›ï¼šå‡æcartç®—æ³•(å†³ç­–æ ‘APIå½“ä¸­å·²ç»å®ç°ï¼Œéšæœºæ£®æ—å‚æ•°è°ƒä¼˜æœ‰ç›¸å…³ä»‹ç»)éšæœºæ£®æ—é›†æˆå­¦ä¹ æ–¹æ³•ä¹‹éšæœºæ£®æ—ä»€ä¹ˆæ˜¯é›†æˆå­¦ä¹ æ–¹æ³•é›†æˆå­¦ä¹ é€šè¿‡å»ºç«‹å‡ ä¸ªæ¨¡å‹ç»„åˆçš„æ¥è§£å†³å•ä¸€é¢„æµ‹é—®é¢˜ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯ç”Ÿæˆå¤šä¸ªåˆ†ç±»å™¨/æ¨¡å‹ï¼Œå„è‡ªç‹¬ç«‹åœ°å­¦ä¹ å’Œä½œå‡ºé¢„æµ‹ã€‚è¿™äº›é¢„æµ‹æœ€åç»“åˆæˆç»„åˆé¢„æµ‹ï¼Œå› æ­¤ä¼˜äºä»»ä½•ä¸€ä¸ªå•åˆ†ç±»çš„åšå‡ºé¢„æµ‹ã€‚ä»€ä¹ˆæ˜¯éšæœºæ£®æ—åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œéšæœºæ£®æ—æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå†³ç­–æ ‘çš„åˆ†ç±»å™¨ï¼Œå¹¶ä¸”å…¶è¾“å‡ºçš„ç±»åˆ«æ˜¯ç”±ä¸ªåˆ«æ ‘è¾“å‡ºçš„ç±»åˆ«çš„ä¼—æ•°è€Œå®šã€‚éšæœºæ£®æ—åŸç†è¿‡ç¨‹è®­ç»ƒé›†ï¼šç‰¹å¾å€¼ +ç›®æ ‡å€¼ Nä¸ªæ ·æœ¬ Mä¸ªç‰¹å¾ä¸¤ä¸ªéšæœºè®­ç»ƒé›†éšæœº - Nä¸ªæ ·æœ¬ä¸­éšæœºæœ‰æ”¾å›çš„æŠ½æ ·Nä¸ªbootstrap(éšæœºæœ‰æ”¾å›æŠ½æ ·)[1, 2, 3, 4, 5]ç»è¿‡éšæœºæœ‰æ”¾å›æŠ½æ ·å¾—åˆ°æ–°çš„æ ‘çš„è®­ç»ƒ [2, 2, 3, 1, 5]ç‰¹å¾éšæœº - ä»Mä¸ªç‰¹å¾ä¸­éšæœºæŠ½å–mä¸ªç‰¹å¾â€‹ è¦æ±‚ï¼šM &gt;&gt; m æ•ˆæœï¼šé™ç»´éšæœºæ£®æ—ç®—æ³•APIclass sklearn.ensemble.RandomForestClassifier(n_estimators=10, criterion=â€™giniâ€™, max_depth=None, bootstrap=True, random_state=None, min_samples_split=2)éšæœºæ£®æ—åˆ†ç±»å™¨n_estimatorsï¼šintegerï¼Œoptionalï¼ˆdefault = 10ï¼‰æ£®æ—é‡Œçš„æ ‘æœ¨æ•°é‡120,200,300,500,800,1200criterianï¼šstringï¼Œå¯é€‰ï¼ˆdefault =â€œginiâ€ï¼‰åˆ†å‰²ç‰¹å¾çš„æµ‹é‡æ–¹æ³•max_depthï¼šintegeræˆ–Noneï¼Œå¯é€‰ï¼ˆé»˜è®¤=æ— ï¼‰æ ‘çš„æœ€å¤§æ·±åº¦ 5,8,15,25,30max_features=â€autoâ€,æ¯ä¸ªå†³ç­–æ ‘çš„æœ€å¤§ç‰¹å¾æ•°é‡â€‹ If â€œautoâ€, then max_features=sqrt(n_features). å¯¹Mæ±‚å¹³æ–¹æ ¹â€‹ If â€œsqrtâ€, then max_features=sqrt(n_features) (same as â€œautoâ€).â€‹ If â€œlog2â€, then max_features=log2(n_features).â€‹ If None, then max_features=n_features.bootstrapï¼šbooleanï¼Œoptionalï¼ˆdefault = Trueï¼‰ æ˜¯å¦åœ¨æ„å»ºæ ‘æ—¶ä½¿ç”¨æ”¾å›æŠ½æ ·min_samples_split:èŠ‚ç‚¹åˆ’åˆ†æœ€å°‘æ ·æœ¬æ•°min_samples_leaf:å¶å­èŠ‚ç‚¹çš„æœ€å°æ ·æœ¬æ•°è¶…å‚æ•°ï¼šn_estimator, max_depth, min_samples_split,min_samples_leafæ¡ˆä¾‹ï¼šæ³°å¦å°¼å…‹å·ä¹˜å®¢ç”Ÿå­˜é¢„æµ‹ä»£ç ï¼š1234567891011121314151617181920212223242526272829303132#å¤åˆ¶ä¸Šæ–‡ä¸­å†³ç­–æ ‘ä»£ç æ¯”å¯¹å†³ç­–æ ‘ä¸éšæœºæ£®æ—æ•ˆæœ#éšæœºæ£®æ—è¿›è¡Œä¹˜å®¢ç”Ÿå­˜é¢„æµ‹from sklearn.ensemble import RandomForestClassifierestimator= RandomForestClassifier()# gridç½‘æ ¼ï¼Œsearchæœç´¢ï¼Œcvï¼šcross_validation# æœç´¢ç®—æ³•æœ€åˆé€‚çš„å‚æ•°from sklearn.model_selection import GridSearchCV#ç½‘æ ¼æœç´¢GridSearchCVè¿›è¡Œæœ€ä½³å‚æ•°çš„æŸ¥æ‰¾params =&#123;\"n_estimators\": [120,200,300,500,800,1200], \"max_depth\": [5, 8, 15, 25, 30]&#125;# cross_val_scoreç±»ä¼¼estimator = GridSearchCV(estimator,param_grid=params,cv = 6)estimator.fit(x_train, y_train)#æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=estimator.predict(x_test)print('---------------ä»¥ä¸‹ä¸ºéšæœºæ£®æ—é¢„æµ‹æ•ˆæœ-----------------')print('y_predict:\\n',y_predict)print('éšæœºæ£®æ—é¢„æµ‹çš„ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)print('-----------------------------------------------------')#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=estimator.score(x_test,y_test)print('éšæœºæ£®æ—é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š\\n',score)print('-----------------------------------------------------')#æŸ¥çœ‹äº†GridSearchCVæœ€ä½³çš„å‚æ•°ç»„åˆ#æœ€ä½³å‚æ•°ï¼šbest_params_print('æœ€ä½³å‚æ•°ï¼š\\n',estimator.best_params_)#æœ€ä½³ç»“æœï¼šbest_score_print('æœ€ä½³ç»“æœï¼š\\n',estimator.best_score_)#æœ€ä½³ä¼°è®¡å™¨ï¼šbest_estimator_print('æœ€ä½³ä¼°è®¡å™¨ï¼š\\n',estimator.best_estimator_)#äº¤å‰éªŒè¯ç»“æœï¼šcv_results_#print('äº¤å‰éªŒè¯ç»“æœï¼š\\n',estimator.cv_results_)è¾“å‡ºç»“æœï¼šæ³¨ï¼šéšæœºæ£®æ—è¾“å‡ºç»“æœç­‰å¾…æ—¶é—´é•¿12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#å†³ç­–æ ‘è¾“å‡ºç»“æœï¼š['age', 'pclass=1st', 'pclass=2nd', 'pclass=3rd', 'sex=female', 'sex=male']-----------------------------------------------------y_predict: [1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 1 1 0 0 1 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 1 0 0 1 1 0 1 0 1 1 0 0 0 1 0 1 0 0 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 1 0 1 0 0 1 1 1 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 1 0 0 0 1 0 0 0 0 1 0 0 0 1 0 0 0 1 0 1 0 0 1 0 1 0 0 1 0 0 0 0 0 0 1 1 1 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0 1 0 0 0 0 0 1 1 1 1 1 0 0]-----------------------------------------------------ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š 379 False1099 True970 True482 True573 True ... 80 True295 True4 True1173 True684 TrueName: survived, Length: 263, dtype: bool-----------------------------------------------------å‡†ç¡®ç‡ä¸ºï¼š 0.7490494296577946 #éšæœºæ£®æ—è¾“å‡ºç»“æœï¼š---------------ä»¥ä¸‹ä¸ºéšæœºæ£®æ—é¢„æµ‹æ•ˆæœ-----------------y_predict: [1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 1 0 0 1 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 1 0 0 1 1 0 1 0 1 1 0 0 0 1 0 1 0 0 0 0 0 0 0 1 0 1 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 0 0 1 1 0 0 0 0 1 1 1 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 1 1 0 0 1 0 0 0 0 1 0 0 0 1 0 0 0 1 0 0 0 0 1 0 1 0 0 1 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 1 0 0 1 0 0 0 1 0 0 0 0 0 1 1 1 1 1 0 0]éšæœºæ£®æ—é¢„æµ‹çš„ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š 379 False1099 True970 True482 True573 True ... 80 True295 True4 True1173 True684 TrueName: survived, Length: 263, dtype: bool-----------------------------------------------------éšæœºæ£®æ—é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š 0.7908745247148289-----------------------------------------------------æœ€ä½³å‚æ•°ï¼š &#123;'max_depth': 5, 'n_estimators': 300&#125;æœ€ä½³ç»“æœï¼š 0.8295238095238096æœ€ä½³ä¼°è®¡å™¨ï¼š RandomForestClassifier(bootstrap=True, class_weight=None, criterion='gini', max_depth=5, max_features='auto', max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, min_samples_leaf=1, min_samples_split=2, min_weight_fraction_leaf=0.0, n_estimators=300, n_jobs=None, oob_score=False, random_state=None, verbose=0, warm_start=False)æ€»ç»“åœ¨å½“å‰æ‰€æœ‰ç®—æ³•ä¸­ï¼Œå…·æœ‰æå¥½çš„å‡†ç¡®ç‡èƒ½å¤Ÿæœ‰æ•ˆåœ°è¿è¡Œåœ¨å¤§æ•°æ®é›†ä¸Šï¼Œå¤„ç†å…·æœ‰é«˜ç»´ç‰¹å¾çš„è¾“å…¥æ ·æœ¬ï¼Œè€Œä¸”ä¸éœ€è¦é™ç»´èƒ½å¤Ÿè¯„ä¼°å„ä¸ªç‰¹å¾åœ¨åˆ†ç±»é—®é¢˜ä¸Šçš„é‡è¦æ€§å›å½’ç®—æ³•å›å½’é—®é¢˜ï¼šç›®æ ‡å€¼ - è¿ç»­å‹çš„æ•°æ®çº¿æ€§å›å½’ä»€ä¹ˆæ˜¯çº¿æ€§å›å½’çº¿æ€§å›å½’(Linear regression)æ˜¯åˆ©ç”¨å›å½’æ–¹ç¨‹(å‡½æ•°)å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå˜é‡(ç‰¹å¾å€¼)å’Œå› å˜é‡(ç›®æ ‡å€¼)ä¹‹é—´å…³ç³»è¿›è¡Œå»ºæ¨¡çš„ä¸€ç§åˆ†ææ–¹å¼ã€‚ç‰¹ç‚¹ï¼šåªæœ‰ä¸€ä¸ªè‡ªå˜é‡çš„æƒ…å†µç§°ä¸ºå•å˜é‡å›å½’ï¼ˆå¦‚ï¼š$y=kx+b$ï¼‰ï¼Œå¤§äºä¸€ä¸ªè‡ªå˜é‡æƒ…å†µçš„å«åšå¤šå…ƒå›å½’ã€‚é€šç”¨å…¬å¼ï¼š$h_w(x)=w_1x_1+w_2x_2+w_3x_3â€¦+b=w^Tx+b$å…¶ä¸­$w$æƒé‡ï¼Œ$b$åç½®$w$å’Œ$x$å¯ä»¥ç†è§£ä¸ºçŸ©é˜µï¼š$\\mathbf{w}=\\left(\\begin{array}{c}b \\ w_{1} \\ w_{2}\\end{array}\\right)$,$\\mathbf{x}=\\left(\\begin{array}{c}1 \\ x_{1} \\ x_{2}\\end{array}\\right)$çº¿æ€§å›å½’å½“ä¸­çš„å…³ç³»æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯çº¿æ€§å…³ç³»ï¼Œå¦ä¸€ç§æ˜¯éçº¿æ€§å…³ç³»ã€‚ä¾‹å­ï¼šçº¿æ€§å…³ç³»æ³¨ï¼šå¦‚æœåœ¨å•ç‰¹å¾ä¸ç›®æ ‡å€¼çš„å…³ç³»å‘ˆç›´çº¿å…³ç³»ï¼Œæˆ–è€…ä¸¤ä¸ªç‰¹å¾ä¸ç›®æ ‡å€¼å‘ˆç°å¹³é¢çš„å…³ç³»æ•°æ®ï¼šå·¥èµ„å’Œå¹´é¾„ï¼ˆ2ä¸ªç‰¹å¾ï¼‰ç›®æ ‡ï¼šé¢„æµ‹é“¶è¡Œä¼šè´·æ¬¾ç»™æˆ‘å¤šå°‘é’±ï¼ˆæ ‡ç­¾ï¼‰è€ƒè™‘ï¼šå·¥èµ„å’Œå¹´é¾„éƒ½ä¼šå½±å“æœ€ç»ˆé“¶è¡Œè´·æ¬¾çš„ç»“æœé‚£ä¹ˆå®ƒä»¬å„è‡ªæœ‰å¤šå¤§çš„å½±å“å‘¢ï¼Ÿï¼ˆå‚æ•°ï¼‰$X1,X2$å°±æ˜¯æˆ‘ä»¬çš„ä¸¤ä¸ªç‰¹å¾ï¼ˆå¹´é¾„ï¼Œå·¥èµ„ï¼‰$ Y$æ˜¯é“¶è¡Œæœ€ç»ˆä¼šå€Ÿç»™æˆ‘ä»¬å¤šå°‘é’±æ‰¾åˆ°æœ€åˆé€‚çš„ä¸€æ¡çº¿ï¼ˆæƒ³è±¡ä¸€ä¸ªé«˜ç»´ï¼‰æ¥æœ€å¥½çš„æ‹Ÿåˆæˆ‘ä»¬çš„æ•°æ®ç‚¹å‡è®¾$w_1$æ˜¯å¹´é¾„çš„å‚æ•°ï¼Œ$w_2$æ˜¯å·¥èµ„çš„å‚æ•°æ‹Ÿåˆçš„å¹³é¢ï¼š$h_w(x)=w_1x_1+w_2x_2$æ•´åˆï¼š$h_w(x)=w^Tx$éçº¿æ€§å…³ç³»å¦‚æœæ˜¯éçº¿æ€§å…³ç³»ï¼Œé‚£ä¹ˆå›å½’æ–¹ç¨‹å¯ä»¥ç†è§£ä¸ºï¼š$w_1x_1+w_2x_2^2+w_3x_3^2$çº¿æ€§å›å½’åŸç†1ã€è¯¯å·®çœŸå®å€¼å’Œé¢„æµ‹å€¼ä¹‹é—´è‚¯å®šæ˜¯è¦å­˜åœ¨å·®å¼‚çš„ï¼ˆç”¨$Îµ$æ¥è¡¨ç¤ºè¯¥è¯¯å·®ï¼‰å¯¹äºæ¯ä¸ªæ ·æœ¬ï¼š$y^{(i)}=w^{T} x^{(i)}+\\varepsilon^{(i)}$è¯¯å·®$\\varepsilon^{(i)}$æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒï¼Œå¹¶ä¸”æœä»å‡å€¼ä¸º0æ–¹å·®ä¸º$Î¸^2$çš„é«˜æ–¯åˆ†å¸ƒ(æ­£æ€åˆ†å¸ƒ)ç‹¬ç«‹ï¼šå¼ ä¸‰å’Œæå››ä¸€èµ·æ¥è´·æ¬¾ï¼Œä»–ä¿©æ²¡å…³ç³»åŒåˆ†å¸ƒï¼šä»–ä¿©éƒ½æ¥å¾—æ˜¯æˆ‘ä»¬å‡å®šçš„è¿™å®¶é“¶è¡Œé«˜æ–¯åˆ†å¸ƒï¼šé“¶è¡Œå¯èƒ½ä¼šå¤šç»™ï¼Œä¹Ÿå¯èƒ½ä¼šå°‘ç»™ï¼Œä½†æ˜¯ç»å¤§å¤šæ•°æƒ…å†µä¸‹è¿™ä¸ªæµ®åŠ¨ä¸ä¼šå¤ªå¤§ï¼Œæå°æƒ…å†µä¸‹æµ®åŠ¨ä¼šæ¯”è¾ƒå¤§ï¼Œç¬¦åˆæ­£å¸¸æƒ…å†µé¢„æµ‹å€¼ä¸è¯¯å·®ï¼š$y^{(i)}=w^{T} x^{(i)}+\\varepsilon^{(i)}$ $(1)$ç”±äºè¯¯å·®æœä»é«˜æ–¯åˆ†å¸ƒï¼š$p(\\varepsilon^{(i)})=\\frac{1}{\\sqrt{2 \\pi} \\sigma} \\exp \\left(-\\frac{(\\varepsilon^{(i)})^{2}}{2 \\sigma^{2}}\\right)$ $(2)$å°†$(1)$å¼ä»£å…¥$(2)$å¼ï¼š$p(y^{(i)}|x^{(i)};w)=\\frac{1}{\\sqrt{2 \\pi} \\sigma} \\exp \\left(-\\frac{(y^{(i)}-w^Tx^{(i)})^{2}}{2 \\sigma^{2}}\\right)$ä¼¼ç„¶å‡½æ•°ï¼š$L(w)=\\prod_{i=1}^{m} p\\left(y^{(i)} | x^{(i)} ; w\\right)=\\prod_{i=1}^{m} \\frac{1}{\\sqrt{2 \\pi} \\sigma} \\exp \\left(-\\frac{\\left(y^{(i)}-w^{T} x^{(i)}\\right)^{2}}{2 \\sigma^{2}}\\right)$è§£é‡Šï¼šä»€ä¹ˆæ ·çš„å‚æ•°è·Ÿæˆ‘ä»¬çš„æ•°æ®ç»„åˆåæ°å¥½æ˜¯çœŸå®å€¼å¯¹æ•°ä¼¼ç„¶ï¼š$logL(w)=log\\prod_{i=1}^{m} \\frac{1}{\\sqrt{2 \\pi} \\sigma} \\exp \\left(-\\frac{\\left(y^{(i)}-w^{T} x^{(i)}\\right)^{2}}{2 \\sigma^{2}}\\right)$è§£é‡Šï¼šä¹˜æ³•éš¾è§£ï¼ŒåŠ æ³•å°±å®¹æ˜“äº†ï¼Œå¯¹æ•°é‡Œé¢ä¹˜æ³•å¯ä»¥è½¬æ¢æˆåŠ æ³•å±•å¼€åŒ–ç®€ï¼š$\\sum_{i=1}^{m} \\log \\frac{1}{\\sqrt{2 \\pi} \\sigma} \\exp \\left(-\\frac{\\left(y^{(i)}-w^{T} x^{(i)}\\right)^{2}}{2 \\sigma^{2}}\\right)$$=m \\log \\frac{1}{\\sqrt{2 \\pi} \\sigma}-\\frac{1}{\\sigma^{2}} \\cdot \\frac{1}{2} \\sum_{i=1}^{m}\\left(y^{(i)}-w^{T} x^{(i)}\\right)^{2}$ç›®æ ‡ï¼šè®©ä¼¼ç„¶å‡½æ•°ï¼ˆå¯¹æ•°å˜æ¢åä¹Ÿä¸€æ ·ï¼‰è¶Šå¤§è¶Šå¥½2ã€æŸå¤±å‡½æ•°ï¼ˆLoss Functionï¼‰$J(w)=\\frac{1}{2} \\sum_{i=1}^{m}\\left(y^{(i)}-w^{T} x^{(i)}\\right)^{2}=\\frac{1}{2} \\sum_{i=1}^{m}\\left(h_w(x^{(i)})-y^{(i)}\\right)^{2}$è¿™é‡Œçš„è¿™ä¸ªæŸå¤±å‡½æ•°å°±æ˜¯è‘—åçš„æœ€å°äºŒä¹˜æŸå¤±å‡½æ•°3ã€ä¼˜åŒ–ç®—æ³•å¦‚ä½•å»æ±‚æ¨¡å‹å½“ä¸­çš„Wï¼Œä½¿å¾—æŸå¤±æœ€å°ï¼Ÿï¼ˆç›®çš„æ˜¯æ‰¾åˆ°æœ€å°æŸå¤±å¯¹åº”çš„Wå€¼ï¼‰çº¿æ€§å›å½’ç»å¸¸ä½¿ç”¨çš„ä¸¤ç§ä¼˜åŒ–ç®—æ³•:1)æ­£è§„æ–¹ç¨‹â€”â€”å¤©æ‰ï¼ˆç›´æ¥æ±‚è§£$w$ï¼‰ç›®æ ‡å‡½æ•°ï¼š$J(w)=\\frac{1}{2} \\sum_{i=1}^{m}\\left(h_w(x^{(i)})-y^{(i)}\\right)^{2}=\\frac{1}{2}\\left(Xw-y\\right)^T\\left(Xw-y\\right)$æ±‚åå¯¼ï¼š\\begin{aligned} &\\nabla_{w} J(w)=\\nabla_{w}\\left(\\frac{1}{2}(X w-y)^{r}(X w-y)\\right)=\\nabla_{w}\\left(\\frac{1}{2}\\left(w^{T} X^{T}-y^{T}\\right)(X w-y)\\right)\\\\ &=\\nabla_{w}\\left(\\frac{1}{2}\\left(w^{T} X^{T} X w-w^{T} X^{T} y-y^{T} X w+y^{T} y\\right)\\right)\\\\ &=\\frac{1}{2}\\left(2 X^{T} X w-X^{T} y-\\left(y^{T} X\\right)^{\\bar{T}}\\right)=X^{T} X w-X^{T} y \\end{aligned}ä»¤åå¯¼ç­‰äº0å¾—ï¼š$w=\\left(X^TX\\right)^{-1}X^Ty$ç†è§£ï¼šXä¸ºç‰¹å¾å€¼çŸ©é˜µï¼Œyä¸ºç›®æ ‡å€¼çŸ©é˜µã€‚ç›´æ¥æ±‚åˆ°æœ€å¥½çš„ç»“æœç¼ºç‚¹ï¼šå½“ç‰¹å¾è¿‡å¤šè¿‡å¤æ‚æ—¶ï¼Œæ±‚è§£é€Ÿåº¦å¤ªæ…¢å¹¶ä¸”å¾—ä¸åˆ°ç»“æœ2ï¼‰æ¢¯åº¦ä¸‹é™(Gradient Descent)â€”â€”å‹¤å¥‹åŠªåŠ›çš„æ™®é€šäººï¼ˆä¸€æ­¥ä¸€æ­¥çš„æ±‚$w$ï¼‰ç†è§£ï¼šÎ±ä¸ºå­¦ä¹ é€Ÿç‡ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šï¼ˆè¶…å‚æ•°ï¼‰ï¼ŒÎ±æ—è¾¹çš„æ•´ä½“è¡¨ç¤ºæ–¹å‘æ²¿ç€è¿™ä¸ªå‡½æ•°ä¸‹é™çš„æ–¹å‘æ‰¾ï¼Œæœ€åå°±èƒ½æ‰¾åˆ°å±±è°·çš„æœ€ä½ç‚¹ï¼Œç„¶åæ›´æ–°Wå€¼ä½¿ç”¨ï¼šé¢å¯¹è®­ç»ƒæ•°æ®è§„æ¨¡ååˆ†åºå¤§çš„ä»»åŠ¡ ï¼Œèƒ½å¤Ÿæ‰¾åˆ°è¾ƒå¥½çš„ç»“æœæˆ‘ä»¬é€šè¿‡ä¸¤ä¸ªå›¾æ›´å¥½ç†è§£æ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹:4ã€ä¼˜åŒ–åŠ¨æ€å›¾æ¼”ç¤ºçº¿æ€§å›å½’ç®—æ³•APIæ–¹æ³•ä¸€sklearn.linear_model.LinearRegression(fit_intercept=True)é€šè¿‡æ­£è§„æ–¹ç¨‹ä¼˜åŒ–fit_interceptï¼šæ˜¯å¦è®¡ç®—åç½®LinearRegression.coef_ï¼šå›å½’ç³»æ•°_LinearRegression.intercept_ï¼šåç½®_æ–¹æ³•äºŒsklearn.linear_model.SGDRegressor(loss=â€squared_lossâ€, fit_intercept=True, learning_rate =â€™invscalingâ€™, eta0=0.01)SGDRegressorç±»å®ç°äº†éšæœºæ¢¯åº¦ä¸‹é™å­¦ä¹ ï¼Œå®ƒæ”¯æŒä¸åŒçš„losså‡½æ•°å’Œæ­£åˆ™åŒ–æƒ©ç½šé¡¹æ¥æ‹Ÿåˆçº¿æ€§å›å½’æ¨¡å‹ã€‚loss:æŸå¤±ç±»å‹ loss=â€squared_lossâ€: æ™®é€šæœ€å°äºŒä¹˜æ³•fit_interceptï¼šæ˜¯å¦è®¡ç®—åç½®learning_rate : string, optionalâ€‹ å­¦ä¹ ç‡å¡«å……â€‹ â€˜constantâ€™: eta = eta0â€‹ â€˜optimalâ€™: eta = 1.0 / (alpha * (t + t0)) [default]â€‹ â€˜invscalingâ€™: eta = eta0 / pow(t, power_t) power_t=0.25:å­˜åœ¨çˆ¶ç±»å½“ä¸­å¯¹äºä¸€ä¸ªå¸¸æ•°å€¼çš„å­¦ä¹ ç‡æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨learning_rate=â€™constantâ€™ ï¼Œå¹¶ä½¿ç”¨eta0æ¥æŒ‡å®šå­¦ä¹ ç‡ã€‚SGDRegressor.coef_ï¼šå›å½’ç³»æ•°__SGDRegressor.intercept_ï¼šåç½®æ³¨ï¼šsklearnæä¾›ç»™æˆ‘ä»¬ä¸¤ç§å®ç°çš„APIï¼Œ å¯ä»¥æ ¹æ®é€‰æ‹©ä½¿ç”¨æ³¢å£«é¡¿æˆ¿ä»·é¢„æµ‹ä»£ç ï¼šï¼ˆè¡¥å……å®Œå–„https://blog.csdn.net/weixin_41890393/article/details/83589860ï¼‰1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#æ­£è§„æ–¹ç¨‹çš„ä¼˜åŒ–æ–¹æ³•å¯¹æ³¢å£«é¡¿æˆ¿ä»·è¿›è¡Œé¢„æµ‹import numpy as npfrom sklearn import datasetsfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.linear_model import LinearRegressionfrom sklearn import metrics#1)è·å–æ•°æ®x,y= datasets.load_boston(True)#å¹³æ»‘å¤„ç†é¢„æµ‹å€¼y#å¹³æ»‘å¤„ç†yå€¼ï¼Œxä¸å¤„ç†ã€‚ï¼ˆxä»£è¡¨ç‰¹å¾ï¼Œyä»£è¡¨é¢„æµ‹å€¼ï¼‰#y=np.log(y)#2ï¼‰åˆ’åˆ†æ•°æ®é›†x_train,x_test,y_train,y_test = train_test_split(x,y,random_state=22)#3)ç‰¹å¾å·¥ç¨‹ï¼šæ ‡å‡†åŒ– ä¸é€‚åˆç”¨æ ‡å‡†åŒ–æ•°æ® ä¸€èˆ¬ç”¨å¹³æ»‘å¤„ç†#transfer=StandardScaler()#x_train=transfer.fit_transform(x_train)#x_test=transfer.transform(x_test)#4)æ­£è§„æ–¹ç¨‹çš„ä¼˜åŒ–ç®—æ³•é¢„ä¼°å™¨estimator=LinearRegression()estimator.fit(x_train,y_train)#5)å¾—å‡ºæ¨¡å‹print('æ­£è§„æ–¹ç¨‹æƒé‡ç³»æ•°ä¸º:\\n',estimator.coef_)print('æ­£è§„æ–¹ç¨‹åç½®ä¸º:\\n',estimator.intercept_)#6ï¼‰æ¨¡å‹è¯„ä¼°y_predict=estimator.predict(x_test)print('é¢„æµ‹æˆ¿ä»·:\\n',y_predict)print('æ­£è§„æ–¹ç¨‹â€”å‡æ–¹è¯¯å·®MSEä¸º:', metrics.mean_squared_error(y_test, y_predict))#7ï¼‰äº¤å‰éªŒè¯from sklearn.model_selection import cross_val_predictpredicted = cross_val_predict(estimator,x,y,cv=10)print(\"MSE:\", metrics.mean_squared_error(y, predicted))#6ï¼‰å¯è§†åŒ–import matplotlib.pyplot as plt# scatterplt.scatter(y, predicted)# plotplt.plot([y.min(), y.max()], [y.min(), y.max()], 'k--', lw=4)plt.xlabel(\"Measured\")plt.ylabel(\"Predicted\")plt.show()#å±•ç¤ºç»“æœ#åˆ›å»ºç”»å¸ƒplt.figure(figsize=(20,8),dpi=80)#ç»˜å›¾plt.rcParams['font.sans-serif']='SimHei'plt.rcParams['axes.unicode_minus']=Falsex=range(len(y_predict))y1=y_predicty2=y_test#æŠ˜çº¿å›¾plt.plot(x,y1,linestyle='-')plt.plot(x,y2,linestyle='-.')#å¢åŠ å›¾ä¾‹plt.legend(['æˆ¿ä»·é¢„æµ‹å€¼','æˆ¿ä»·çœŸå®å€¼'])plt.title('æ³¢å£«é¡¿æˆ¿ä»·èµ°åŠ¿å›¾')#å±•ç¤ºplt.show()è¾“å‡ºç»“æœï¼šï¼ˆæ³¨ï¼šç‰¹å¾æœ‰å‡ ä¸ªæƒé‡å°±æœ‰å‡ ä¸ªï¼‰123456789101112æ­£è§„æ–¹ç¨‹æƒé‡ç³»æ•°ä¸º: [-0.64817766 1.14673408 -0.05949444 0.74216553 -1.95515269 2.70902585 -0.07737374 -3.29889391 2.50267196 -1.85679269 -1.75044624 0.87341624 -3.91336869]æ­£è§„æ–¹ç¨‹åç½®ä¸º: 22.62137203166228é¢„æµ‹æˆ¿ä»·: [28.22944896 31.5122308 21.11612841 32.6663189 20.0023467 19.07315705........................................................... 28.58237108]æ­£è§„æ–¹ç¨‹â€”å‡æ–¹è¯¯å·®MSEä¸º: 20.6275137630954MSE: 34.53965953999329ä»£ç ï¼š123456789101112131415161718192021222324252627#æ¢¯åº¦ä¸‹é™çš„ä¼˜åŒ–æ–¹æ³•å¯¹æ³¢å£«é¡¿æˆ¿ä»·è¿›è¡Œé¢„æµ‹import numpy as npfrom sklearn import datasetsfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.linear_model import SGDRegressorfrom sklearn import metrics#1)è·å–æ•°æ®x,y= datasets.load_boston(True)#2ï¼‰åˆ’åˆ†æ•°æ®é›†x_train,x_test,y_train,y_test = train_test_split(x,y,random_state=22)#3)ç‰¹å¾å·¥ç¨‹ï¼šæ ‡å‡†åŒ– transfer=StandardScaler()x_train=transfer.fit_transform(x_train)x_test=transfer.transform(x_test)#4)æ¢¯åº¦ä¸‹é™çš„ä¼˜åŒ–ç®—æ³•é¢„ä¼°å™¨estimator=SGDRegressor(learning_rate='constant', eta0=0.01,max_iter=10000)#è°ƒå‚æ•°estimator.fit(x_train,y_train)#5)å¾—å‡ºæ¨¡å‹print('æ¢¯åº¦ä¸‹é™æƒé‡ç³»æ•°ä¸º:\\n',estimator.coef_)print('æ¢¯åº¦ä¸‹é™æˆªè·ä¸º:\\n',estimator.intercept_)#6ï¼‰æ¨¡å‹è¯„ä¼°y_predict=estimator.predict(x_test)print('é¢„æµ‹æˆ¿ä»·:\\n',y_predict)print('æ¢¯åº¦ä¸‹é™â€”å‡æ–¹è¯¯å·®MSEä¸º:', metrics.mean_squared_error(y_test, y_predict))è¾“å‡ºç»“æœï¼š1234567891011æ¢¯åº¦ä¸‹é™æƒé‡ç³»æ•°ä¸º: [-0.529811 0.93849958 -0.43482307 0.77305338 -1.71206925 2.82393382 -0.16256326 -3.09703859 1.63812767 -0.93714655 -1.72483573 0.88640923 -3.90806571]æ¢¯åº¦ä¸‹é™æˆªè·ä¸º: [22.61725005]é¢„æµ‹æˆ¿ä»·: [28.29992805 31.66102185 21.46408381 32.63060514 20.23508805 18.98298548........................................................... 28.33964857]æ¢¯åº¦ä¸‹é™â€”å‡æ–¹è¯¯å·®MSEä¸º: 21.004247881383602æ­£è§„æ–¹ç¨‹å’Œæ¢¯åº¦ä¸‹é™å¯¹æ¯”æ–‡å­—å¯¹æ¯”æ¢¯åº¦ä¸‹é™æ­£è§„æ–¹ç¨‹éœ€è¦é€‰æ‹©å­¦ä¹ ç‡ä¸éœ€è¦éœ€è¦è¿­ä»£æ±‚è§£ä¸€æ¬¡è¿ç®—å¾—å‡ºç‰¹å¾æ•°é‡è¾ƒå¤§å¯ä»¥ä½¿ç”¨éœ€è¦è®¡ç®—æ–¹ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦é«˜O(n3)é€‰æ‹©ï¼šå°è§„æ¨¡æ•°æ®ï¼šLinearRegression(ä¸èƒ½è§£å†³æ‹Ÿåˆé—®é¢˜)å²­å›å½’å¤§è§„æ¨¡æ•°æ®ï¼šSGDRegressoræ‹“å±•-å…³äºä¼˜åŒ–æ–¹æ³•BGDã€SGDã€MBGDã€SAGç›®æ ‡å‡½æ•°ï¼š$J(w)=\\frac{1}{2m} \\sum_{i=1}^{m}\\left(y^{(i)}-h_w(x^{(i)})\\right)^{2}$â‘  æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆbatch gradient descentï¼‰ï¼šï¼ˆå®¹æ˜“å¾—åˆ°æœ€ä¼˜è§£ï¼Œä½†æ˜¯ç”±äºæ¯æ¬¡è€ƒè™‘æ‰€æœ‰æ ·æœ¬ï¼Œé€Ÿåº¦å¾ˆæ…¢ï¼‰$\\frac{\\partial J(w)}{\\partial w_{j}}=-\\frac{1}{m} \\sum_{i=1}^{m}\\left(y^{(i)}-h_{w}\\left(x^{(i)}\\right)\\right) x_{j}^{(i)}$$w_{j}^{\\prime}=w_{j}+\\frac{Î±}{m} \\sum_{i=1}^{m}\\left(y^{(i)}-h_{w}\\left(x^{(i)}\\right)\\right) x_{j}^{(i)}$æ‰¹é‡æ¢¯åº¦ä¸‹é™çš„ç®—æ³•æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾ï¼šâ‘¡ éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆStochastic Gradient Descent, SGDï¼‰ï¼šï¼ˆæ¯æ¬¡æ‰¾ä¸€ä¸ªæ ·æœ¬ï¼Œè¿­ä»£é€Ÿåº¦å¿«ï¼Œä½†ä¸ä¸€å®šæ¯æ¬¡éƒ½æœç€æ”¶æ•›çš„æ–¹å‘ï¼Œè€Œæ˜¯éœ‡è¡çš„æ–¹å¼è¶‹å‘æå°ç‚¹ï¼‰$w_{j}^{\\prime}=w_{j}+Î±\\left(y^{(i)}-h_{w}\\left(x^{(i)}\\right)\\right) x_{j}^{(i)}$SGDçš„ä¼˜ç‚¹æ˜¯ï¼šé«˜æ•ˆå®¹æ˜“å®ç°SGDçš„ç¼ºç‚¹æ˜¯ï¼šSGDéœ€è¦è®¸å¤šè¶…å‚æ•°ï¼šæ¯”å¦‚æ­£åˆ™é¡¹å‚æ•°ã€è¿­ä»£æ•°ã€‚SGDå¯¹äºç‰¹å¾æ ‡å‡†åŒ–æ˜¯æ•æ„Ÿçš„ã€‚â‘¢ å°æ‰¹é‡æ¢¯åº¦ä¸‹é™æ³•ï¼ˆMini-batch gradient descentï¼‰ï¼šï¼ˆæ¯æ¬¡æ›´æ–°é€‰æ‹©ä¸€å°éƒ¨åˆ†æ•°æ®æ¥ç®—ï¼Œå®ç”¨ï¼$w_{j}^{\\prime}=w_{j}+Î±\\frac{1}{10} \\sum_{k=i}^{i+9}\\left(y^{(k)}-h_{w}\\left(x^{(k)}\\right)\\right) x_{j}^{(k)}$â‘£éšæœºå¹³å‡æ¢¯åº¦æ³•(Stochasitc Average Gradient)ï¼šï¼ˆç”±äºæ”¶æ•›çš„é€Ÿåº¦å¤ªæ…¢ï¼Œæœ‰äººæå‡ºSAGç­‰åŸºäºæ¢¯åº¦ä¸‹é™çš„ç®—æ³•ï¼‰Scikit-learnï¼šSGDRegressorã€å²­å›å½’ã€é€»è¾‘å›å½’ç­‰å½“ä¸­éƒ½ä¼šæœ‰SAGä¼˜åŒ–æ¬ æ‹Ÿåˆä¸è¿‡æ‹Ÿåˆæ¬ æ‹Ÿåˆï¼ˆæ¨¡å‹è¿‡äºç®€å•ï¼‰è¿‡æ‹Ÿåˆï¼ˆæ¨¡å‹è¿‡äºå¤æ‚ï¼‰è§£å†³åŠæ³•æ¬ æ‹Ÿåˆè§£å†³åŠæ³•å¢åŠ æ–°çš„ç‰¹å¾ï¼Œå¯ä»¥è€ƒè™‘åŠ å…¥è¿›ç‰¹å¾ç»„åˆã€é«˜æ¬¡ç‰¹å¾ï¼Œæ¥å¢å¤§å‡è®¾ç©ºé—´é‡‡ç”¨éçº¿æ€§æ¨¡å‹ï¼Œæ¯”å¦‚æ ¸SVM ã€å†³ç­–æ ‘ã€DNNç­‰æ¨¡å‹Boostingï¼ŒBoosting å¾€å¾€ä¼šæœ‰è¾ƒå°çš„ Biasï¼Œæ¯”å¦‚ Gradient Boosting ç­‰å¦‚æœå·²æ­£åˆ™åŒ–ï¼Œå°è¯•å‡å°‘æ­£åˆ™åŒ–ç¨‹åº¦$Î»$è¿‡æ‹Ÿåˆè§£å†³åŠæ³•äº¤å‰æ£€éªŒï¼Œé€šè¿‡äº¤å‰æ£€éªŒå¾—åˆ°è¾ƒä¼˜çš„æ¨¡å‹å‚æ•°ç‰¹å¾é€‰æ‹©ï¼Œå‡å°‘ç‰¹å¾æ•°æˆ–ä½¿ç”¨è¾ƒå°‘çš„ç‰¹å¾ç»„åˆï¼Œå¯¹äºæŒ‰åŒºé—´ç¦»æ•£åŒ–çš„ç‰¹å¾ï¼Œå¢å¤§åˆ’åˆ†çš„åŒºé—´æ­£åˆ™åŒ–ï¼Œå¸¸ç”¨çš„æœ‰ L1ã€L2 æ­£åˆ™å¦‚æœå·²æ­£åˆ™åŒ–ï¼Œå°è¯•å¢å¤§æ­£åˆ™åŒ–ç¨‹åº¦Î»å¢åŠ è®­ç»ƒæ•°æ®å¯ä»¥æœ‰é™çš„é¿å…è¿‡æ‹ŸåˆBaggingï¼Œå°†å¤šä¸ªå¼±å­¦ä¹ å™¨Bagging ä¸€ä¸‹æ•ˆæœä¼šå¥½å¾ˆå¤šï¼Œæ¯”å¦‚éšæœºæ£®æ—ç­‰æ­£åˆ™åŒ–ç±»åˆ«L1æ­£åˆ™åŒ–ä½œç”¨ï¼šå¯ä»¥ä½¿å…¶ä¸­ä¸€äº›Wçš„å€¼ç›´æ¥ä¸º0ï¼Œåˆ é™¤è¿™ä¸ªç‰¹å¾çš„å½±å“ã€‚LOSSOå›å½’L2æ­£åˆ™åŒ–ä½œç”¨ï¼šå¯ä»¥ä½¿å¾—å…¶ä¸­ä¸€äº›Wçš„å€¼éƒ½å¾ˆå°ï¼Œéƒ½æ¥è¿‘äº0ï¼Œå‰Šå¼±æŸä¸ªç‰¹å¾çš„å½±å“ã€‚ä¼˜ç‚¹ï¼šè¶Šå°çš„å‚æ•°è¯´æ˜æ¨¡å‹è¶Šç®€å•ï¼Œè¶Šç®€å•çš„æ¨¡å‹åˆ™è¶Šä¸å®¹æ˜“äº§ç”Ÿè¿‡æ‹Ÿåˆç°è±¡ã€‚Ridgeå›å½’ï¼ˆå²­å›å½’ï¼‰ã€‚åŠ å…¥L2æ­£åˆ™åŒ–åçš„æŸå¤±å‡½æ•°ï¼š$J(w)=\\frac{1}{2m} \\sum_{i=1}^{m}\\left(y^{(i)}-h_w(x^{(i)})\\right)^{2}+Î»\\sum_{j=1}^{n}w_j^2$å…¶ä¸­mä¸ºæ ·æœ¬æ•°ï¼Œnä¸ºç‰¹å¾æ•°å²­å›å½’å²­å›å½’ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ç§çº¿æ€§å›å½’ã€‚åªä¸è¿‡åœ¨ç®—æ³•å»ºç«‹å›å½’æ–¹ç¨‹æ—¶å€™ï¼ŒåŠ ä¸Šæ­£åˆ™åŒ–ï¼ˆL2ï¼‰çš„é™åˆ¶ï¼Œä»è€Œè¾¾åˆ°è§£å†³è¿‡æ‹Ÿåˆçš„æ•ˆæœã€‚å‚æ•°æ¨å¯¼çº¿æ€§å›å½’æ¨¡å‹çš„ç›®æ ‡å‡½æ•°:$J(Î²)=\\sum\\left(y-XÎ²\\right)^{2}$ä¸ºäº†ä¿è¯å›å½’ç³»æ•°$Î²$å¯æ±‚ï¼Œå²­å›å½’æ¨¡å‹åœ¨ç›®æ ‡å‡½æ•°ä¸ŠåŠ äº†ä¸€ä¸ªL2èŒƒæ•°çš„æƒ©ç½šé¡¹$J(Î²)=\\sum\\left(y-XÎ²\\right)^{2}+Î»||Î²||_2^2=\\sum\\left(y-XÎ²\\right)^{2}+\\sumÎ»Î²^2$å…¶ä¸­$Î»$ä¸ºéè´Ÿæ•°ï¼Œ$Î»$è¶Šå¤§ï¼Œåˆ™ä¸ºäº†ä½¿$J(Î²)$æœ€å°ï¼Œå›å½’ç³»æ•°$Î²$å°±è¶Šå°ã€‚æ¨å¯¼è¿‡ç¨‹ï¼š$\\begin{array}{c}J(\\beta)=(y-X \\beta)^{T}(y-X \\beta)+\\lambda \\beta^{T} \\beta \\\\=y^{T} y-y^{T} X \\beta-\\beta^{T} X^{T} y+\\beta^{T} X^{T} X \\beta+\\lambda \\beta^{T} \\beta \\\\ä»¤ \\frac{\\partial J(\\beta)}{\\partial \\beta}=0 \\\\\\Rightarrow 0-X^{T} y-X^{T} y+2 X^{T} X \\beta+2 \\lambda \\beta=0 \\\\\\Rightarrow \\beta=\\left(X^{T} X+\\lambda I\\right)^{-1} X^{T} y\\end{array}$L2èŒƒæ•°æƒ©ç½šé¡¹çš„åŠ å…¥ä½¿å¾—$(X^{T}X+Î»I)$æ»¡ç§©ï¼Œä¿è¯äº†å¯é€†ï¼Œä½†æ˜¯ä¹Ÿç”±äºæƒ©ç½šé¡¹çš„åŠ $Î»$ï¼Œä½¿å¾—å›å½’ç³»æ•°$Î²$çš„ä¼°è®¡ä¸å†æ˜¯æ— åä¼°è®¡ã€‚æ‰€ä»¥å²­å›å½’æ˜¯ä»¥æ”¾å¼ƒæ— åæ€§ã€é™ä½ç²¾åº¦ä¸ºä»£ä»·è§£å†³ç—…æ€çŸ©é˜µé—®é¢˜çš„å›å½’æ–¹æ³•ã€‚å•ä½çŸ©é˜µ$I$çš„å¯¹è§’çº¿ä¸Šå…¨æ˜¯1ï¼Œåƒä¸€æ¡å±±å²­ä¸€æ ·ï¼Œè¿™ä¹Ÿæ˜¯å²­å›å½’åç§°çš„ç”±æ¥ã€‚$Î»$çš„é€‰æ‹©æ¨¡å‹çš„æ–¹å·®ï¼šå›å½’ç³»æ•°çš„æ–¹å·®æ¨¡å‹çš„åå·®ï¼šé¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„å·®å¼‚éšç€æ¨¡å‹å¤æ‚åº¦çš„æå‡ï¼Œåœ¨è®­ç»ƒé›†ä¸Šçš„æ•ˆæœå°±è¶Šå¥½ï¼Œå³æ¨¡å‹çš„åå·®å°±è¶Šå°ï¼›ä½†æ˜¯åŒæ—¶æ¨¡å‹çš„æ–¹å·®å°±è¶Šå¤§ã€‚å¯¹äºå²­å›å½’çš„$Î»$è€Œè¨€ï¼Œéšç€$Î»$çš„å¢å¤§ï¼Œ$(X^{T}X+Î»I)$å°±è¶Šå¤§ï¼Œ$(X^{T}X+Î»I)^{-1}$å°±è¶Šå°ï¼Œæ¨¡å‹çš„æ–¹å·®å°±è¶Šå°ï¼›è€Œ$Î»$è¶Šå¤§ä½¿å¾—$Î²$çš„ä¼°è®¡å€¼æ›´åŠ åç¦»çœŸå®å€¼ï¼Œæ¨¡å‹çš„åå·®å°±è¶Šå¤§ã€‚æ‰€ä»¥å²­å›å½’çš„å…³é”®æ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆç†çš„$Î»$å€¼æ¥å¹³è¡¡æ¨¡å‹çš„æ–¹å·®å’Œåå·®ã€‚æ ¹æ®å‡¸ä¼˜åŒ–ï¼Œå¯ä»¥å°†å²­å›å½’æ¨¡å‹çš„ç›®æ ‡å‡½æ•°$J(Î²)$æœ€å°åŒ–é—®é¢˜ç­‰ä»·äº$\\left\\{\\begin{array}{l}\\operatorname{argmin}\\left\\{\\Sigma\\left(y-X \\beta^{2}\\right)\\right\\} \\ \\Sigma \\beta^{2} \\leq t\\end{array}\\right.$å…¶ä¸­$t$ä¸ºä¸€ä¸ªå¸¸æ•°ã€‚ä»¥æœ€ç®€å•çš„äºŒç»´ä¸ºä¾‹ï¼Œå³$Î²(Î²_1,Î²_2)$å…¶å‡ ä½•å›¾å½¢æ˜¯:æŠ›ç‰©é¢ä»£è¡¨çš„æ˜¯$\\sum(y-X\\beta)^2$çš„éƒ¨åˆ†ï¼Œåœ†æŸ±ä½“ä»£è¡¨çš„æ˜¯$Î²_1^{1}+Î²_2^{2}â‰¤t$çš„éƒ¨åˆ†ã€‚æœ€å°äºŒä¹˜è§£æ˜¯æŠ›ç‰©é¢çš„ä¸­å¿ƒï¼Œå²­å›å½’è§£æ˜¯æŠ›ç‰©é¢ä¸åœ†æŸ±ä½“çš„äº¤ç‚¹ã€‚å²­å›å½’çš„æƒ©ç½šé¡¹$âˆ‘Î»Î²^2$æ˜¯å…³äºå›å½’ç³»æ•°$Î²$çš„äºŒæ¬¡å‡½æ•°ï¼Œå¯¹ç›®æ ‡å‡½æ•°æ±‚åå¯¼æ—¶ä¼šä¿ç•™$Î²$ï¼ŒæŠ›ç‰©é¢ä¸åœ†æŸ±ä½“å¾ˆéš¾ç›¸äº¤äºè½´ä¸Šä½¿æŸä¸ªå˜é‡çš„å›å½’ç³»æ•°ä¸º0ï¼Œå› æ­¤å²­å›å½’ä¸èƒ½å®ç°å˜é‡çš„å‰”é™¤ã€‚ï¼ˆ1ï¼‰å²­è¿¹æ³•ç¡®å®š$Î»$å€¼ç”±$Î²=(X^TX+Î»I)^{âˆ’1}X^Ty$ å¯çŸ¥$Î²$æ˜¯$Î»$çš„å‡½æ•°ï¼Œå½“$Î»âˆˆ[0,âˆ)$æ—¶ï¼Œåœ¨å¹³é¢ç›´è§’åæ ‡ç³»ä¸­çš„$Î²âˆ’Î»$æ›²çº¿ç§°ä¸ºå²­è¿¹æ›²çº¿ã€‚å½“$Î²$è¶‹äºç¨³å®šçš„ç‚¹å°±æ˜¯æ‰€è¦å¯»æ‰¾çš„$Î»$å€¼ã€‚ä»£ç ï¼š1234567891011121314151617181920212223242526272829import pandas as pdimport numpy as npfrom sklearn.model_selection import train_test_splitfrom sklearn.linear_model import Ridgeimport matplotlib.pyplot as pltdata=pd.read_csv('diabetes.csv')x=data.iloc[:,1:-1]y=data['Outcome']#æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.2,random_state=1234)#æ„é€ ä¸åŒçš„lambdaå€¼Lambdas=np.logspace(-5,2,200)#å­˜æ”¾åå›å½’ç³»æ•°ridge_cofficients=[]for Lambda in Lambdas: ridge=Ridge(alpha=Lambda,normalize=True) ridge.fit(x_train,y_train) ridge_cofficients.append(ridge.coef_)#ç»˜åˆ¶å²­è¿¹æ›²çº¿plt.rcParams['font.sans-serif']=['Microsoft YaHei']plt.rcParams['axes.unicode_minus']=Falseplt.style.use('ggplot')plt.plot(Lambdas,ridge_cofficients)#xè½´åšå¯¹æ•°å¤„ç†plt.xscale('log')plt.xlabel('Log(Lambda)')plt.ylabel('Cofficients')plt.show()è¾“å‡ºç»“æœï¼šæ­£åˆ™åŒ–åŠ›åº¦Î»è¶Šå¤§ï¼Œæƒé‡ç³»æ•°wè¶Šå°æ­£åˆ™åŒ–åŠ›åº¦Î»è¶Šå°ï¼Œæƒé‡ç³»æ•°wè¶Šå¤§ä¹¦ä¸Šè¯´åœ¨0.01é™„è¿‘å¤§å¤šæ•°å›å½’ç³»æ•°å°±è¶‹äºç¨³å®šï¼Œè¿™å“ªçœ‹å¾—å‡ºï¼Ÿæ‰€ä»¥å®šæ€§çš„æ–¹æ³•ä¸€èˆ¬ä¸å¤ªé è°±ï¼Œè¿˜æ˜¯ç”¨å®šé‡çš„æ–¹æ³•å§ï¼ï¼ˆ2ï¼‰äº¤å‰éªŒè¯æ³•ç¡®å®š$Î»$å€¼äº¤å‰éªŒè¯æ³•çš„æ€æƒ³æ˜¯ï¼Œå°†æ•°æ®é›†æ‹†åˆ†ä¸º$k$ä¸ªæ•°æ®ç»„(æ¯ç»„æ ·æœ¬é‡å¤§ä½“ç›¸å½“)ï¼Œä»$k$ç»„ä¸­æŒ‘é€‰$k-1$ç»„ç”¨äºæ¨¡å‹çš„è®­ç»ƒï¼Œå‰©ä¸‹çš„1ç»„ç”¨äºæ¨¡å‹çš„æµ‹è¯•ï¼Œåˆ™ä¼šæœ‰$k-1$ä¸ªè®­ç»ƒé›†å’Œæµ‹è¯•é›†é…å¯¹ï¼Œæ¯ä¸€ç§è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸‹éƒ½ä¼šæœ‰å¯¹åº”çš„ä¸€ä¸ªæ¨¡å‹åŠæ¨¡å‹è¯„åˆ†ï¼ˆå¦‚å‡æ–¹è¯¯å·®ï¼‰ï¼Œè¿›è€Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå¹³å‡è¯„åˆ†ã€‚å¯¹äº$Î»$å€¼åˆ™é€‰æ‹©å¹³å‡è¯„åˆ†æœ€ä¼˜çš„$Î»$å€¼ã€‚RidgeCV(alphas=(0.1, 1.0, 10.0), fit_intercept=True, normalize=False, scoring=None, cv=None, gcv_mode=None, store_cv_values=False)â€¢lambdasï¼šç”¨äºæŒ‡å®šå¤šä¸ª$Î»$å€¼çš„å…ƒç»„æˆ–æ•°ç»„å¯¹è±¡ï¼Œé»˜è®¤åŒ…å«0.1,1,10ä¸‰ç§å€¼ã€‚fit_interceptï¼šboolç±»å‹ï¼Œæ˜¯å¦éœ€è¦æ‹Ÿåˆæˆªè·é¡¹ï¼Œé»˜è®¤ä¸ºTrueã€‚normalizeï¼šboolç±»å‹ï¼Œå»ºæ¨¡æ—¶æ˜¯å¦å¯¹æ•°æ®é›†åšæ ‡å‡†åŒ–å¤„ç†ï¼Œé»˜è®¤ä¸ºFalseã€‚scoringï¼šæŒ‡å®šç”¨äºæ¨¡å‹è¯„ä¼°çš„åº¦é‡æ–¹æ³•ã€‚cvï¼šæŒ‡å®šäº¤å‰éªŒè¯çš„é‡æ•°ã€‚gcv_modeï¼šæŒ‡å®šå¹¿ä¹‰äº¤å‰éªŒè¯çš„æ–¹æ³•ã€‚store_cv_valuesï¼šboolç±»å‹ï¼Œæ˜¯å¦ä¿å­˜æ¯ä¸ªÎ»\\lambdaÎ»ä¸‹äº¤å‰éªŒè¯çš„è¯„ä¼°ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºFalseï¼Œåªæœ‰cvä¸ºNoneæ—¶æœ‰æ•ˆã€‚ä»£ç ï¼š12345678910111213141516import pandas as pdimport numpy as npfrom sklearn.model_selection import train_test_splitfrom sklearn.linear_model import RidgeCVimport matplotlib.pyplot as pltdata=pd.read_csv('diabetes.csv')x=data.iloc[:,1:-1]y=data['Outcome']#æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.2,random_state=1234)#æ„é€ ä¸åŒçš„lambdaå€¼Lambdas=np.logspace(-5,2,200)#è®¾ç½®äº¤å‰éªŒè¯çš„å‚æ•°ï¼Œä½¿ç”¨å‡æ–¹è¯¯å·®è¯„ä¼°ridge_cv=RidgeCV(alphas=Lambdas,normalize=True,scoring='neg_mean_squared_error',cv=10)ridge_cv.fit(x_train,y_train)print(ridge_cv.alpha_)è¾“å‡ºç»“æœï¼š10.038720387818125535ä»£ç å®ç°Ridge(alpha=1.0, fit_intercept=True, normalize=False, copy_X=True, max_iter=None, tol=0.001, solver=â€˜autoâ€™, random_state=None)å…·æœ‰l2æ­£åˆ™åŒ–çš„çº¿æ€§å›å½’alphaï¼šæ­£åˆ™åŒ–åŠ›åº¦ï¼Œä¹Ÿå« Î»ï¼Œé»˜è®¤ä¸º1ã€‚Î»å–å€¼ï¼š0.1~1 ~10fit_interceptï¼šboolç±»å‹ï¼Œæ˜¯å¦éœ€è¦æ‹Ÿåˆæˆªè·é¡¹ï¼Œé»˜è®¤ä¸ºTrueã€‚normalizeï¼šboolç±»å‹ï¼Œå»ºæ¨¡æ—¶æ˜¯å¦å¯¹æ•°æ®é›†åšæ ‡å‡†åŒ–å¤„ç†ï¼Œé»˜è®¤ä¸ºFalseã€‚normalize=False:å¯ä»¥åœ¨fitä¹‹å‰è°ƒç”¨preprocessing.StandardScaleræ ‡å‡†åŒ–æ•°æ®copy_Xï¼šboolç±»å‹ï¼Œæ˜¯å¦å¤åˆ¶è‡ªå˜é‡Xçš„æ•°å€¼ï¼Œé»˜è®¤ä¸ºTrueã€‚max_iterï¼šæŒ‡å®šæ¨¡å‹çš„æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚solverï¼šæŒ‡å®šæ¨¡å‹æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜çš„ç®—æ³•ï¼Œé»˜è®¤ä¸ºâ€™autoâ€™ã€‚sag:å¦‚æœæ•°æ®é›†ã€ç‰¹å¾éƒ½æ¯”è¾ƒå¤§ï¼Œé€‰æ‹©è¯¥éšæœºæ¢¯åº¦ä¸‹é™ä¼˜åŒ–random_stateï¼šæŒ‡å®šéšæœºç”Ÿæˆå™¨çš„ç§å­ã€‚Ridge.coef_:å›å½’æƒé‡_Ridge.intercept_:å›å½’åç½®All last four solvers support both dense and sparse data. However,only â€˜sagâ€™ supports sparse input when â€˜fit_interceptâ€™is True.Ridgeæ–¹æ³•ç›¸å½“äºSGDRegressor(penalty=â€™l2â€™, loss=â€squared_lossâ€),åªä¸è¿‡SGDRegressorå®ç°äº†ä¸€ä¸ªæ™®é€šçš„éšæœºæ¢¯åº¦ä¸‹é™å­¦ä¹ ï¼Œæ¨èä½¿ç”¨Ridge(å®ç°äº†SAG)sklearn.linear_model.RidgeCV(_BaseRidgeCV, RegressorMixin)_å…·æœ‰l2æ­£åˆ™åŒ–çš„çº¿æ€§å›å½’ï¼Œå¯ä»¥è¿›è¡Œäº¤å‰éªŒè¯_coef_:å›å½’ç³»æ•°12345class _BaseRidgeCV(LinearModel): def __init__(self, alphas=(0.1, 1.0, 10.0), fit_intercept=True, normalize=False, scoring=None, cv=None, gcv_mode=None, store_cv_values=False):ä»£ç ï¼š123456789101112131415161718192021222324252627import pandas as pdimport numpy as npfrom sklearn.model_selection import train_test_splitfrom sklearn.linear_model import Ridge,RidgeCVdata=pd.read_csv('diabetes.csv')x=data.iloc[:,1:-1]y=data['Outcome']#æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.2,random_state=1234)#æ„é€ ä¸åŒçš„lambdaå€¼Lambdas=np.logspace(-5,2,200)#è®¾ç½®äº¤å‰éªŒè¯çš„å‚æ•°ï¼Œä½¿ç”¨å‡æ–¹è¯¯å·®è¯„ä¼°ridge_cv=RidgeCV(alphas=Lambdas,normalize=True,scoring='neg_mean_squared_error',cv=10)ridge_cv.fit(x_train,y_train)print(ridge_cv.alpha_)#åŸºäºæœ€ä½³lambdaå€¼å»ºæ¨¡ridge=Ridge(alpha=ridge_cv.alpha_,normalize=True)ridge.fit(x_train,y_train)#æ‰“å°å›å½’ç³»æ•°print(pd.Series(index=['Intercept']+x_train.columns.tolist(), data=[ridge.intercept_]+ridge.coef_.tolist()))#æ¨¡å‹è¯„ä¼°ridge_pred=ridge.predict(x_test)#å‡æ–¹è¯¯å·®from sklearn.metrics import mean_squared_errorMSE=mean_squared_error(y_test,ridge_pred)print(MSE)è¾“å‡ºç»“æœï¼š12345678910110.038720387818125535Intercept -0.829372Glucose 0.005658BloodPressure -0.002019SkinThickness -0.000805Insulin -0.000016BMI 0.012776DiabetesPedigreeFunction 0.158436Age 0.004989dtype: float640.16870817670347735LASSOå›å½’å‚æ•°æ¨å¯¼å²­å›å½’æ— æ³•å‰”é™¤å˜é‡ï¼Œè€ŒLASSOå›å½’æ¨¡å‹ï¼Œå°†æƒ©ç½šé¡¹ç”±L2èŒƒæ•°å˜ä¸ºL1èŒƒæ•°ï¼Œå¯ä»¥å°†ä¸€äº›ä¸é‡è¦çš„å›å½’ç³»æ•°ç¼©å‡ä¸º0ï¼Œè¾¾åˆ°å‰”é™¤å˜é‡çš„ç›®çš„ã€‚$J(Î²)=\\sum\\left(y-XÎ²\\right)^{2}+Î»||Î²||_1=\\sum\\left(y-XÎ²\\right)^{2}+\\sumÎ»|Î²|=ESSï¼ˆÎ²ï¼‰+Î»l_1(Î²)$$Î»$çš„é€‰æ‹©ç›´æ¥ä½¿ç”¨äº¤å‰éªŒè¯æ³•LassoCV(eps=0.001, n_alphas=100, alphas=None, fit_intercept=True, normalize=False, precompute=â€˜autoâ€™, max_iter=1000, tol=0.0001, copy_X=True, cv=None, verbose=False, n_jobs=1, positive=False, random_state=None, selection=â€˜cyclicâ€™)epsï¼šæŒ‡ä»£Î»\\lambdaÎ»æœ€å°å€¼ä¸æœ€å¤§å€¼çš„å•†ï¼Œé»˜è®¤ä¸º0.001ã€‚n_alphasï¼šæŒ‡å®šÎ»\\lambdaÎ»çš„ä¸ªæ•°ï¼Œé»˜è®¤ä¸º100ä¸ªã€‚alphasï¼šæŒ‡å®šå…·ä½“çš„Î»\\lambdaÎ»åˆ—è¡¨ç”¨äºæ¨¡å‹çš„è¿ç®—ã€‚fit_interceptï¼šboolç±»å‹ï¼Œæ˜¯å¦éœ€è¦æ‹Ÿåˆæˆªè·é¡¹ï¼Œé»˜è®¤ä¸ºTrueã€‚normalizeï¼šboolç±»å‹ï¼Œå»ºæ¨¡æ—¶æ˜¯å¦å¯¹æ•°æ®é›†åšæ ‡å‡†åŒ–å¤„ç†ï¼Œé»˜è®¤ä¸ºFalseã€‚precomputeï¼šboolç±»å‹ï¼Œæ˜¯å¦åœ¨å»ºæ¨¡å‰è®¡ç®—GramçŸ©é˜µæå‡è¿ç®—é€Ÿåº¦ï¼Œé»˜è®¤ä¸ºFalseã€‚max_iterï¼šæŒ‡å®šæ¨¡å‹çš„æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚tolï¼šæŒ‡å®šæ¨¡å‹æ”¶æ•›çš„é˜ˆå€¼ï¼Œé»˜è®¤ä¸º0.0001ã€‚copy_Xï¼šboolç±»å‹ï¼Œæ˜¯å¦å¤åˆ¶è‡ªå˜é‡Xçš„æ•°å€¼ï¼Œé»˜è®¤ä¸ºTrueã€‚cvï¼šæŒ‡å®šäº¤å‰éªŒè¯çš„é‡æ•°ã€‚verboseï¼šboolç±»å‹ï¼Œæ˜¯å¦è¿”å›æ¨¡å‹è¿è¡Œçš„è¯¦ç»†ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºFalseã€‚n_jobsï¼šæŒ‡å®šä½¿ç”¨çš„CPUæ•°é‡ï¼Œé»˜è®¤ä¸º1ï¼Œå¦‚æœä¸º-1è¡¨ç¤ºæ‰€æœ‰CPUç”¨äºäº¤å‰éªŒè¯çš„è¿ç®—ã€‚positiveï¼šboolç±»å‹ï¼Œæ˜¯å¦å°†å›å½’ç³»æ•°å¼ºåˆ¶ä¸ºæ­£æ•°ï¼Œé»˜è®¤ä¸ºFalseã€‚random_stateï¼šæŒ‡å®šéšæœºç”Ÿæˆå™¨çš„ç§å­ã€‚selectionï¼šæŒ‡å®šæ¯æ¬¡è¿­ä»£é€‰æ‹©çš„å›å½’ç³»æ•°ï¼Œå¦‚æœä¸ºâ€™randomâ€™ï¼Œè¡¨ç¤ºæ¯æ¬¡è¿­ä»£ä¸­å°†éšæœºæ›´æ–°å›å½’ç³»æ•°ï¼›å¦‚æœä¸ºâ€™cyclicâ€™ï¼Œåˆ™æ¯æ¬¡è¿­ä»£æ—¶å›å½’ç³»æ•°çš„æ›´æ–°éƒ½åŸºäºä¸Šä¸€æ¬¡è¿ç®—ã€‚ä»£ç ï¼š123456789101112131415import pandas as pdimport numpy as npfrom sklearn.model_selection import train_test_splitfrom sklearn.linear_model import LassoCVdata=pd.read_csv('diabetes.csv')x=data.iloc[:,1:-1]y=data['Outcome']#æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.2,random_state=1234)#æ„é€ ä¸åŒçš„lambdaå€¼Lambdas=np.logspace(-5,2,200)#è®¾ç½®äº¤å‰éªŒè¯çš„å‚æ•°ï¼Œä½¿ç”¨å‡æ–¹è¯¯å·®è¯„ä¼°lasso_cv=LassoCV(alphas=Lambdas,normalize=True,cv=10,max_iter=10000)lasso_cv.fit(x_train,y_train)print(lasso_cv.alpha_)è¾“å‡ºç»“æœï¼š10.00011357333583431052ä»£ç å®ç°Lasso(alpha=1.0, fit_intercept=True, normalize=False, precompute=False, copy_X=True, max_iter=1000, tol=0.0001, warm_start=False, positive=False, random_state=None, selection=â€˜cyclicâ€™)alphasï¼šæŒ‡å®šÎ»\\lambdaÎ»å€¼ï¼Œé»˜è®¤ä¸º1ã€‚fit_interceptï¼šboolç±»å‹ï¼Œæ˜¯å¦éœ€è¦æ‹Ÿåˆæˆªè·é¡¹ï¼Œé»˜è®¤ä¸ºTrueã€‚normalizeï¼šboolç±»å‹ï¼Œå»ºæ¨¡æ—¶æ˜¯å¦å¯¹æ•°æ®é›†åšæ ‡å‡†åŒ–å¤„ç†ï¼Œé»˜è®¤ä¸ºFalseã€‚precomputeï¼šboolç±»å‹ï¼Œæ˜¯å¦åœ¨å»ºæ¨¡å‰è®¡ç®—GramçŸ©é˜µæå‡è¿ç®—é€Ÿåº¦ï¼Œé»˜è®¤ä¸ºFalseã€‚copy_Xï¼šboolç±»å‹ï¼Œæ˜¯å¦å¤åˆ¶è‡ªå˜é‡Xçš„æ•°å€¼ï¼Œé»˜è®¤ä¸ºTrueã€‚max_iterï¼šæŒ‡å®šæ¨¡å‹çš„æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚tolï¼šæŒ‡å®šæ¨¡å‹æ”¶æ•›çš„é˜ˆå€¼ï¼Œé»˜è®¤ä¸º0.0001ã€‚warm_startï¼šboolç±»å‹ï¼Œæ˜¯å¦å°†å‰ä¸€æ¬¡è®­ç»ƒç»“æœç”¨ä½œåä¸€æ¬¡çš„è®­ç»ƒï¼Œé»˜è®¤ä¸ºFalseã€‚positiveï¼šboolç±»å‹ï¼Œæ˜¯å¦å°†å›å½’ç³»æ•°å¼ºåˆ¶ä¸ºæ­£æ•°ï¼Œé»˜è®¤ä¸ºFalseã€‚random_stateï¼šæŒ‡å®šéšæœºç”Ÿæˆå™¨çš„ç§å­ã€‚selectionï¼šæŒ‡å®šæ¯æ¬¡è¿­ä»£é€‰æ‹©çš„å›å½’ç³»æ•°ï¼Œå¦‚æœä¸ºâ€™randomâ€™ï¼Œè¡¨ç¤ºæ¯æ¬¡è¿­ä»£ä¸­å°†éšæœºæ›´æ–°å›å½’ç³»æ•°ï¼›å¦‚æœä¸ºâ€™cyclicâ€™ï¼Œåˆ™æ¯æ¬¡è¿­ä»£æ—¶å›å½’ç³»æ•°çš„æ›´æ–°éƒ½åŸºäºä¸Šä¸€æ¬¡è¿ç®—ã€‚ä»£ç ï¼š1234567891011121314151617181920212223242526import pandas as pdimport numpy as npfrom sklearn.model_selection import train_test_splitfrom sklearn.linear_model import Lasso,LassoCVdata=pd.read_csv('diabetes.csv')x=data.iloc[:,1:-1]y=data['Outcome']#æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†x_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.2,random_state=1234)#æ„é€ ä¸åŒçš„lambdaå€¼Lambdas=np.logspace(-5,2,200)#è®¾ç½®äº¤å‰éªŒè¯çš„å‚æ•°ï¼Œä½¿ç”¨å‡æ–¹è¯¯å·®è¯„ä¼°lasso_cv=LassoCV(alphas=Lambdas,normalize=True,cv=10,max_iter=10000)lasso_cv.fit(x_train,y_train)#åŸºäºæœ€ä½³lambdaå€¼å»ºæ¨¡lasso=Lasso(alpha=lasso_cv.alpha_,normalize=True,max_iter=10000)lasso.fit(x_train,y_train)#æ‰“å°å›å½’ç³»æ•°print(pd.Series(index=['Intercept']+x_train.columns.tolist(), data=[lasso.intercept_]+lasso.coef_.tolist()))#æ¨¡å‹è¯„ä¼°lasso_pred=lasso.predict(x_test)#å‡æ–¹è¯¯å·®from sklearn.metrics import mean_squared_errorMSE=mean_squared_error(y_test,lasso_pred)print(MSE)è¾“å‡ºç»“æœï¼š12345678910Intercept -0.842415Glucose 0.005801BloodPressure -0.001983SkinThickness -0.000667Insulin -0.000011BMI 0.012670DiabetesPedigreeFunction 0.153236Age 0.004865dtype: float640.16876008361250405ç›¸å¯¹äºå²­å›å½’è€Œè¨€ï¼Œå¯ä»¥çœ‹åˆ°LASSOå›å½’å‰”é™¤äº†ä¸¤ä¸ªå˜é‡ï¼Œé™ä½äº†æ¨¡å‹çš„å¤æ‚åº¦ï¼ŒåŒæ—¶å‡å°‘äº†å‡æ–¹è¯¯å·®ï¼Œæé«˜äº†æ¨¡å‹çš„æ‹Ÿåˆæ•ˆæœã€‚é€»è¾‘å›å½’é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰æ˜¯æœºå™¨å­¦ä¹ ä¸­çš„ä¸€ç§åˆ†ç±»æ¨¡å‹ï¼Œé€»è¾‘å›å½’æ˜¯ä¸€ç§åˆ†ç±»ç®—æ³•ï¼Œè™½ç„¶åå­—ä¸­å¸¦æœ‰å›å½’ï¼Œä½†æ˜¯å®ƒä¸å›å½’ä¹‹é—´æœ‰ä¸€å®šçš„è”ç³»ã€‚ç”±äºç®—æ³•çš„ç®€å•å’Œé«˜æ•ˆï¼Œåœ¨å®é™…ä¸­åº”ç”¨éå¸¸å¹¿æ³›ã€‚é€»è¾‘å›å½’çš„åº”ç”¨åœºæ™¯å¹¿å‘Šç‚¹å‡»ç‡æ˜¯å¦ä¸ºåƒåœ¾é‚®ä»¶æ˜¯å¦æ‚£ç—…é‡‘èè¯ˆéª—è™šå‡è´¦å·ç›®çš„ï¼šåˆ†ç±»è¿˜æ˜¯å›å½’ï¼Ÿç»å…¸çš„äºŒåˆ†ç±»ç®—æ³•ï¼é€»è¾‘å›å½’çš„å†³ç­–è¾¹ç•Œï¼šå¯ä»¥æ˜¯éçº¿æ€§çš„é€»è¾‘å›å½’çš„åŸç†è¾“å…¥$h_w(x)=w_1x_1+w_2x_2+w_3x_3â€¦+b=w^Tx+b$Sigmoidå‡½æ•°å…¬å¼ï¼š$g(z)=\\frac{1}{1+e^{-z}}$è‡ªå˜é‡å–å€¼ä¸ºä»»æ„å®æ•°ï¼Œå€¼åŸŸ[0,1]è§£é‡Šï¼šå°†ä»»æ„çš„è¾“å…¥æ˜ å°„åˆ°äº†[0,1]åŒºé—´ï¼Œæˆ‘ä»¬åœ¨çº¿æ€§å›å½’ä¸­å¯ä»¥å¾—åˆ°ä¸€ä¸ªé¢„æµ‹å€¼ï¼Œå†å°†è¯¥å€¼æ˜ å°„åˆ°Sigmoid å‡½æ•°ä¸­è¿™æ ·å°±å®Œæˆäº†ç”±å€¼åˆ°æ¦‚ç‡çš„è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯åˆ†ç±»ä»»åŠ¡é¢„æµ‹å‡½æ•°ï¼šh_w(x)=g(w^Tx)=\\frac{1}{1+e^{-w^Tx}}åˆ†ç±»ä»»åŠ¡ï¼š$P(y=1|x;w)=h_w(x)$ ; $P(y=0|x;w)=1-h_w(x)$æ•´åˆå¾—ï¼š $P(y|x;w)=(h_w(x))^y(1-h_w(x))^{1-y}$è§£é‡Šï¼šå¯¹äºäºŒåˆ†ç±»ä»»åŠ¡ï¼ˆ0ï¼Œ1ï¼‰ï¼Œæ•´åˆåyå–0åªä¿ç•™$(1-h_w(x))^{1-y}$ï¼Œyå–1åªä¿ç•™$(h_w(x))^y$æŸå¤±ä»¥åŠä¼˜åŒ–1ã€æŸå¤±é€»è¾‘å›å½’çš„æŸå¤±ï¼Œç§°ä¹‹ä¸ºå¯¹æ•°ä¼¼ç„¶æŸå¤±ï¼Œå…¬å¼å¦‚ä¸‹ï¼šåˆ†å¼€ç±»åˆ«ï¼š\\operatorname{cost}\\left(h_{\\theta}(x), y\\right)=\\left\\{\\begin{array}{ll} -\\log \\left(h_{\\theta}(x)\\right) & \\text { if } y=1 \\\\ -\\log \\left(1-h_{\\theta}(x)\\right) & \\text { if } y=0 \\end{array}\\right.ç»¼åˆå®Œæ•´æŸå¤±å‡½æ•°ï¼š$$\\operatorname{cost}\\left(h_{\\theta}(x), y\\right)=\\sum_{i=1}^{m}-y_{i} \\log \\left(h_{\\theta}(x)\\right)-\\left(1-y_{i}\\right) \\log \\left(1-h_{\\theta}(x)\\right)$$2ã€ä¼˜åŒ–åŒæ ·ä½¿ç”¨æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•ï¼Œå»å‡å°‘æŸå¤±å‡½æ•°çš„å€¼ã€‚è¿™æ ·å»æ›´æ–°é€»è¾‘å›å½’å‰é¢å¯¹åº”ç®—æ³•çš„æƒé‡å‚æ•°ï¼Œæå‡åŸæœ¬å±äº1ç±»åˆ«çš„æ¦‚ç‡ï¼Œé™ä½åŸæœ¬æ˜¯0ç±»åˆ«çš„æ¦‚ç‡ã€‚é€»è¾‘å›å½’ç®—æ³•APIsklearn.linear_model.LogisticRegression(solver=â€™liblinearâ€™, penalty=â€˜l2â€™, C = 1.0)solver:ä¼˜åŒ–æ±‚è§£æ–¹å¼é»˜è®¤å¼€æºçš„liblinearåº“å®ç°ï¼Œå†…éƒ¨ä½¿ç”¨äº†åæ ‡è½´ä¸‹é™æ³•æ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°sagï¼šæ ¹æ®æ•°æ®é›†è‡ªåŠ¨é€‰æ‹©ï¼Œéšæœºå¹³å‡æ¢¯åº¦ä¸‹é™penaltyï¼šæ­£åˆ™åŒ–çš„ç§ç±»Cï¼šæ­£åˆ™åŒ–åŠ›åº¦é»˜è®¤å°†ç±»åˆ«æ•°é‡å°‘çš„å½“åšæ­£ä¾‹LogisticRegressionæ–¹æ³•ç›¸å½“äº SGDClassifier(loss=â€logâ€, penalty=â€ â€œ),SGDClassifierå®ç°äº†ä¸€ä¸ªæ™®é€šçš„éšæœºæ¢¯åº¦ä¸‹é™å­¦ä¹ ï¼Œä¹Ÿæ”¯æŒå¹³å‡éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼ˆASGDï¼‰ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®average=Trueã€‚è€Œä½¿ç”¨LogisticRegression(å®ç°äº†SAG)è‰¯ï¼æ¶æ€§ä¹³è…ºç™Œè‚¿ç˜¤é¢„æµ‹æ¡ˆä¾‹ï¼šç™Œç—‡åˆ†ç±»é¢„æµ‹è‰¯/æ¶æ€§ä¹³è…ºç™Œè‚¿ç˜¤é¢„æµ‹æ•°æ®æè¿°:ï¼ˆ1ï¼‰699æ¡æ ·æœ¬ï¼Œå…±11åˆ—æ•°æ®ï¼Œç¬¬ä¸€åˆ—ç”¨è¯­æ£€ç´¢çš„idï¼Œå9åˆ—åˆ†åˆ«æ˜¯ä¸è‚¿ç˜¤ç›¸å…³çš„åŒ»å­¦ç‰¹å¾ï¼Œæœ€åä¸€åˆ—è¡¨ç¤ºè‚¿ç˜¤ç±»å‹çš„æ•°å€¼ã€‚ï¼ˆ2ï¼‰åŒ…å«16ä¸ªç¼ºå¤±å€¼ï¼Œç”¨â€?â€æ ‡å‡ºã€‚åŸå§‹æ•°æ®çš„ä¸‹è½½åœ°å€ï¼šhttps://archive.ics.uci.edu/ml/machine-learning-databases/åˆ†æ:ç¼ºå¤±å€¼å¤„ç†æ ‡å‡†åŒ–å¤„ç†é€»è¾‘å›å½’é¢„æµ‹ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839#é€»è¾‘å›å½’è¿›è¡Œç™Œç—‡é¢„æµ‹import numpy as npimport pandas as pdfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScalerfrom sklearn.linear_model import LogisticRegression# 1ã€è¯»å–æ•°æ®column_name = ['Sample code number', 'Clump Thickness', 'Uniformity of Cell Size', 'Uniformity of Cell Shape', 'Marginal Adhesion', 'Single Epithelial Cell Size', 'Bare Nuclei', 'Bland Chromatin', 'Normal Nucleoli', 'Mitoses', 'Class']data = pd.read_csv(\"https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data\", names=column_name)# 2ã€æ•°æ®å¤„ç†â€”å¤„ç†ç¼ºå¤±å€¼data = data.replace(to_replace='?', value=np.nan) #1)æ›¿æ¢np.nandata = data.dropna() #2)åˆ é™¤ç¼ºå¤±å€¼print(data.isnull().any()) #ç¡®è®¤ä¸å­˜åœ¨ç¼ºå¤±å€¼# å–å‡ºç‰¹å¾å€¼x = data[column_name[1:10]] #x=data.iloc[:,1:-1]y = data[column_name[10]] #y=data['Class']#3ã€åˆ†å‰²æ•°æ®é›†x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3)#4ã€ç‰¹å¾å·¥ç¨‹â€”æ ‡å‡†åŒ–std = StandardScaler()x_train = std.fit_transform(x_train)x_test = std.transform(x_test)# 5ã€ä½¿ç”¨é€»è¾‘å›å½’lr = LogisticRegression()lr.fit(x_train, y_train)#é€»è¾‘å›å½’çš„æ¨¡å‹å‚æ•°ï¼šå›å½’ç³»æ•°å’Œåç½®print(\"æƒé‡ï¼š\\n\", lr.coef_)print(\"åç½®ï¼š\\n\", lr.intercept_)#6ã€æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=lr.predict(x_test)print('y_predict:\\n',y_predict)print('ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=lr.score(x_test,y_test)print('å‡†ç¡®ç‡ä¸ºï¼š\\n',score)è¾“å‡ºç»“æœï¼š123456789101112131415161718192021222324252627282930313233343536373839Sample code number FalseClump Thickness FalseUniformity of Cell Size FalseUniformity of Cell Shape FalseMarginal Adhesion FalseSingle Epithelial Cell Size FalseBare Nuclei FalseBland Chromatin FalseNormal Nucleoli FalseMitoses FalseClass Falsedtype: boolæƒé‡ï¼š [[1.4449604 0.10902357 0.64529009 1.02979746 0.2544256 1.55064687 0.92516667 0.62683691 0.54739363]]åç½®ï¼š [-1.08426503]y_predict: #æ³¨ï¼š2â€”â€”è‰¯æ€§ 4â€”â€”æ¶æ€§ [4 4 2 4 2 2 4 2 4 4 2 2 4 2 4 2 2 2 2 4 4 2 2 2 4 2 2 4 2 2 2 2 2 2 2 4 2 2 2 4 2 4 2 2 2 4 4 2 2 2 2 4 4 4 2 2 2 4 4 2 4 2 2 4 2 2 2 4 2 4 2 2 4 4 2 2 2 2 2 2 4 4 2 2 2 4 2 4 4 4 4 2 4 2 2 4 2 2 4 2 4 4 2 2 4 2 2 4 2 2 4 2 2 4 2 2 4 2 4 2 2 2 4 4 4 2 4 2 2 2 2 2 4 2 4 2 4 2 4 4 2 4 2 2 2 4 4 2 2 2 2 2 4 2 2 4 4 4 4 2 2 4 4 2 4 4 2 4 2 4 4 4 2 2 4 2 2 2 2 4 2 4 2 4 2 2 4 4 2 4 2 4 2 4 2 2 2 2 4 4 4 4 4 2 4]ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š 221 True266 True4 True183 True341 True ... 55 True132 True15 True597 True479 TrueName: Class, Length: 205, dtype: boolå‡†ç¡®ç‡ä¸ºï¼š 0.9707317073170731åœ¨å¾ˆå¤šåˆ†ç±»åœºæ™¯å½“ä¸­æˆ‘ä»¬ä¸ä¸€å®šåªå…³æ³¨é¢„æµ‹çš„å‡†ç¡®ç‡ï¼ï¼ï¼ï¼ï¼æ¯”å¦‚ä»¥è¿™ä¸ªç™Œç—‡ä¸¾ä¾‹å­ï¼ï¼ï¼æˆ‘ä»¬å¹¶ä¸å…³æ³¨é¢„æµ‹çš„å‡†ç¡®ç‡ï¼Œè€Œæ˜¯å…³æ³¨åœ¨æ‰€æœ‰çš„æ ·æœ¬å½“ä¸­ï¼Œç™Œç—‡æ‚£è€…æœ‰æ²¡æœ‰è¢«å…¨éƒ¨é¢„æµ‹ï¼ˆæ£€æµ‹ï¼‰å‡ºæ¥ã€‚åˆ†ç±»æ¨¡å‹çš„è¯„ä¼°å‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡ã€f1_scoreï¼Œæ··æ·†çŸ©é˜µï¼Œksï¼Œksæ›²çº¿ï¼ŒROCæ›²çº¿ï¼Œpsiç­‰ã€‚å‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡ã€f1_scoreå‡†ç¡®ç‡ï¼ˆAccuracyï¼‰çš„å®šä¹‰æ˜¯ï¼šå¯¹äºç»™å®šçš„æµ‹è¯•é›†ï¼Œåˆ†ç±»æ¨¡å‹æ­£ç¡®åˆ†ç±»çš„æ ·æœ¬æ•°ä¸æ€»æ ·æœ¬æ•°ä¹‹æ¯”ï¼›ä»£ç ç¤ºä¾‹ï¼š1234567891011#1ã€å‡†ç¡®ç‡import numpy as npfrom sklearn.metrics import accuracy_scorey_pred = [0, 2, 1, 3,9,9,8,5,8]y_true = [0, 1, 2, 3,2,6,3,5,9]accuracy_score(y_true, y_pred)Out[127]: 0.33333333333333331 accuracy_score(y_true, y_pred, normalize=False) # ç±»ä¼¼æµ·æ˜è·ç¦»ï¼Œæ¯ä¸ªç±»åˆ«æ±‚å‡†ç¡®åï¼Œå†æ±‚å¾®å¹³å‡Out[128]: 3ç²¾ç¡®ç‡(Precision)ï¼šé¢„æµ‹ç»“æœä¸ºæ­£ä¾‹æ ·æœ¬ä¸­çœŸå®ä¸ºæ­£ä¾‹çš„æ¯”ä¾‹ï¼ˆäº†è§£ï¼‰å¬å›ç‡(Recall)ï¼šçœŸå®ä¸ºæ­£ä¾‹çš„æ ·æœ¬ä¸­é¢„æµ‹ç»“æœä¸ºæ­£ä¾‹çš„æ¯”ä¾‹ï¼ˆæŸ¥çš„å…¨ï¼Œå¯¹æ­£æ ·æœ¬çš„åŒºåˆ†èƒ½åŠ›ï¼‰å¬å›ç‡ï¼šæŸ¥å¾—å…¨ä¸å…¨ åº”ç”¨ï¼šè´¨é‡æ£€æµ‹ æ¬¡å“é‚£ä¹ˆæ€ä¹ˆæ›´å¥½ç†è§£è¿™ä¸ªä¸¤ä¸ªæ¦‚å¿µF1_scoreï¼šåæ˜ äº†æ¨¡å‹çš„ç¨³å¥å‹åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æ¨¡å‹çš„ç²¾ç¡®ç‡è¶Šé«˜è¶Šå¥½ï¼ŒåŒæ—¶å¬å›ç‡ä¹Ÿè¶Šé«˜è¶Šé«˜ï¼Œä½†æ˜¯ï¼Œç°å®æƒ…å†µå¾€å¾€äº‹ä¸æ„¿è¿ï¼Œåœ¨ç°å®æƒ…å†µä¸‹ï¼Œç²¾ç¡®ç‡å’Œå¬å›ç‡åƒæ˜¯ååœ¨è··è··æ¿ä¸Šä¸€æ ·ï¼Œå¾€å¾€å‡ºç°ä¸€ä¸ªå€¼å‡é«˜ï¼Œå¦ä¸€ä¸ªå€¼é™ä½ï¼Œé‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªæŒ‡æ ‡æ¥ç»¼åˆè€ƒè™‘ç²¾ç¡®ç‡å’Œå¬å›ç‡äº†ï¼Œè¿™ä¸ªæŒ‡æ ‡å°±æ˜¯Få€¼ã€‚Få€¼çš„è®¡ç®—å…¬å¼ä¸ºï¼š$F=\\frac{(a^2+1)PR}{a^2*(P+R)}$ å¼ä¸­ï¼š$Pï¼šPrecision$ï¼Œ$Rï¼šRecall$ï¼Œ$a$ï¼šæƒé‡å› å­ã€‚å½“$a=1$æ—¶ï¼Œ$F$å€¼ä¾¿æ˜¯$F1$å€¼ï¼Œä»£è¡¨ç²¾ç¡®ç‡å’Œå¬å›ç‡çš„æƒé‡æ˜¯ä¸€æ ·çš„ï¼Œæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§è¯„ä»·æŒ‡æ ‡ã€‚$F 1=\\frac{2 T P}{2 T P+F N+F P}=\\frac{2 \\cdot \\text { Precision } \\cdot \\text { Recall}}{\\text { Precision }+\\text { Recall}}$æ··æ·†çŸ©é˜µåœ¨åˆ†ç±»ä»»åŠ¡ä¸‹ï¼Œé¢„æµ‹ç»“æœ(Predicted Condition)ä¸æ­£ç¡®æ ‡è®°(True Condition)ä¹‹é—´å­˜åœ¨å››ç§ä¸åŒçš„ç»„åˆï¼Œæ„æˆæ··æ·†çŸ©é˜µ(é€‚ç”¨äºå¤šåˆ†ç±»)æ··æ·†çŸ©é˜µä¸€çº§æŒ‡æ ‡ï¼ˆæœ€åº•å±‚çš„ï¼‰ï¼šçœŸå®å€¼æ˜¯positiveï¼Œæ¨¡å‹è®¤ä¸ºæ˜¯positiveçš„æ•°é‡ï¼ˆTrue Positive=TPï¼‰ï¼›çœŸå®å€¼æ˜¯positiveï¼Œæ¨¡å‹è®¤ä¸ºæ˜¯negativeçš„æ•°é‡ï¼ˆFalse Negative=FNï¼‰ï¼šè¿™å°±æ˜¯ç»Ÿè®¡å­¦ä¸Šçš„ç¬¬ä¸€ç±»é”™è¯¯ï¼ˆType I Errorï¼‰ï¼›çœŸå®å€¼æ˜¯negativeï¼Œæ¨¡å‹è®¤ä¸ºæ˜¯positiveçš„æ•°é‡ï¼ˆFalse Positive=FPï¼‰ï¼šè¿™å°±æ˜¯ç»Ÿè®¡å­¦ä¸Šçš„ç¬¬äºŒç±»é”™è¯¯ï¼ˆType II Errorï¼‰ï¼›çœŸå®å€¼æ˜¯negativeï¼Œæ¨¡å‹è®¤ä¸ºæ˜¯negativeçš„æ•°é‡ï¼ˆTrue Negative=TNï¼‰ç¤ºä¾‹åŠå®ç°ä»£ç 123456789101112# å‡å¦‚æœ‰ä¸€ä¸ªæ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šå¾—åˆ°çš„é¢„æµ‹ç»“æœä¸ºï¼šy_true=[1,0,0,2,1,0,3,3,3]# å®é™…çš„ç±»åˆ« y_pred=[1,1,0,2,1,0,1,3,3]# æ¨¡å‹é¢„æµ‹çš„ç±»åˆ« #ä½¿ç”¨sklearnæ¨¡å—è®¡ç®—æ··æ·†çŸ©é˜µfrom sklearn.metrics import confusion_matrixconfusion_mat=confusion_matrix(y_true,y_pred)print(confusion_mat) #çœ‹çœ‹æ··æ·†çŸ©é˜µé•¿å•¥æ · [[2 1 0 0] [0 2 0 0] [0 0 1 0] [0 1 0 2]]æ··æ·†çŸ©é˜µå¯è§†åŒ–12345678910111213import matplotlib.pyplot as pltimport numpy as npdef plot_confusion_matrix(confusion_mat): #å°†æ··æ·†çŸ©é˜µç”»å›¾å¹¶æ˜¾ç¤ºå‡ºæ¥''' plt.title('Confusion matrix') plt.imshow(confusion_mat,interpolation='nearest',cmap=plt.cm.gray) plt.colorbar() tick_marks=np.arange(confusion_mat.shape[0]) plt.xticks(tick_marks,tick_marks) plt.yticks(tick_marks,tick_marks) plt.ylabel('True label') plt.xlabel('Predicted label') plt.show()plot_confusion_matrix(confusion_mat)åˆ†ç±»è¯„ä¼°æŠ¥å‘ŠAPIsklearn.metrics.classification_report(y_true, y_pred, labels=[], target_names=None )y_trueï¼šçœŸå®ç›®æ ‡å€¼y_predï¼šä¼°è®¡å™¨é¢„æµ‹ç›®æ ‡å€¼labels:æŒ‡å®šç±»åˆ«å¯¹åº”çš„æ•°å­—target_namesï¼šç›®æ ‡ç±»åˆ«åç§°returnï¼šæ¯ä¸ªç±»åˆ«ç²¾ç¡®ç‡ä¸å¬å›ç‡ä¸Šæ–‡é€»è¾‘å›å½’è¿›è¡Œç™Œç—‡é¢„æµ‹ä»£ç +ä¸‹æ–‡ä»£ç ï¼š123from sklearn.metrics import classification_reportreport=classification_report(y_test, lr.predict(x_test), labels=[2, 4], target_names=['è‰¯æ€§', 'æ¶æ€§'])print(\"ç²¾ç¡®ç‡å’Œå¬å›ç‡ä¸ºï¼š\",report)è¾“å‡ºç»“æœï¼š12345678ç²¾ç¡®ç‡å’Œå¬å›ç‡ä¸ºï¼š precision recall f1-score support è‰¯æ€§ 0.98 0.98 0.98 132 æ¶æ€§ 0.96 0.97 0.97 73 accuracy 0.98 205 macro avg 0.97 0.97 0.97 205weighted avg 0.98 0.98 0.98 205äºŒçº§æŒ‡æ ‡æ··æ·†çŸ©é˜µé‡Œé¢ç»Ÿè®¡çš„æ˜¯ä¸ªæ•°ï¼Œæœ‰æ—¶å€™é¢å¯¹å¤§é‡çš„æ•°æ®ï¼Œå…‰å‡­ç®—ä¸ªæ•°ï¼Œå¾ˆéš¾è¡¡é‡æ¨¡å‹çš„ä¼˜åŠ£ã€‚å› æ­¤æ··æ·†çŸ©é˜µåœ¨åŸºæœ¬çš„ç»Ÿè®¡ç»“æœä¸Šåˆå»¶ä¼¸äº†å¦‚ä¸‹4ä¸ªæŒ‡æ ‡ï¼Œæˆ‘ç§°ä»–ä»¬æ˜¯äºŒçº§æŒ‡æ ‡ï¼ˆé€šè¿‡æœ€åº•å±‚æŒ‡æ ‡åŠ å‡ä¹˜é™¤å¾—åˆ°çš„ï¼‰ï¼šå‡†ç¡®ç‡ï¼ˆAccuracyï¼‰â€”â€” é’ˆå¯¹æ•´ä¸ªæ¨¡å‹ç²¾ç¡®ç‡ï¼ˆPrecisionï¼‰çµæ•åº¦ï¼ˆSensitivityï¼‰ï¼šå°±æ˜¯å¬å›ç‡ï¼ˆRecallï¼‰ç‰¹å¼‚åº¦ï¼ˆSpecificityï¼‰ä¾‹ï¼šå‡è®¾è¿™æ ·ä¸€ä¸ªæƒ…å†µï¼Œå¦‚æœ99ä¸ªæ ·æœ¬ç™Œç—‡ï¼Œ1ä¸ªæ ·æœ¬éç™Œç—‡ï¼Œä¸ç®¡æ€æ ·æˆ‘å…¨éƒ½é¢„æµ‹æ­£ä¾‹(é»˜è®¤ç™Œç—‡ä¸ºæ­£ä¾‹),å‡†ç¡®ç‡å°±ä¸º99%ä½†æ˜¯è¿™æ ·æ•ˆæœå¹¶ä¸å¥½ï¼Œè¿™å°±æ˜¯æ ·æœ¬ä¸å‡è¡¡ä¸‹çš„è¯„ä¼°é—®é¢˜è§£ï¼šå‡†ç¡®ç‡ï¼š99% å¬å›ç‡ï¼š99/99=100% ç²¾ç¡®ç‡ï¼š99%F1â€”scoreï¼š2*99%/199%=99.497%AUCï¼š0.5 â€”ä¸å¥½çš„æ¨¡å‹ AUCä¸‹æ–‡ä»‹ç»TPR=100%FPR=1/1=100%é—®é¢˜ï¼šå¦‚ä½•è¡¡é‡æ ·æœ¬ä¸å‡è¡¡ä¸‹çš„è¯„ä¼°ï¼ŸROCæ›²çº¿å’ŒAUCè®¡ç®—è®¡ç®—ROCå€¼1234567import numpy as npfrom sklearn.metrics import roc_auc_scorey_true = np.array([0, 0, 1, 1])y_scores = np.array([0.1, 0.4, 0.35, 0.8])print(roc_auc_score(y_true, y_scores))0.75TPR = TP / (TP + FN)æ‰€æœ‰çœŸå®ç±»åˆ«ä¸º1çš„æ ·æœ¬ä¸­ï¼Œé¢„æµ‹ç±»åˆ«ä¸º1çš„æ¯”ä¾‹FPR = FP / (FP + FN)æ‰€æœ‰çœŸå®ç±»åˆ«ä¸º0çš„æ ·æœ¬ä¸­ï¼Œé¢„æµ‹ç±»åˆ«ä¸º1çš„æ¯”ä¾‹ROCæ›²çº¿ROCæ›²çº¿çš„æ¨ªè½´å°±æ˜¯FPRï¼Œçºµè½´å°±æ˜¯TPRï¼Œå½“äºŒè€…ç›¸ç­‰æ—¶ï¼Œè¡¨ç¤ºçš„æ„ä¹‰åˆ™æ˜¯ï¼šå¯¹äºä¸è®ºçœŸå®ç±»åˆ«æ˜¯1è¿˜æ˜¯0çš„æ ·æœ¬ï¼Œåˆ†ç±»å™¨é¢„æµ‹ä¸º1çš„æ¦‚ç‡æ˜¯ç›¸ç­‰çš„ï¼Œæ­¤æ—¶AUCä¸º0.5AUCæŒ‡æ ‡AUC(AUCå€¼æ˜¯ä¸€ä¸ªæ¦‚ç‡å€¼)çš„æ¦‚ç‡æ„ä¹‰æ˜¯éšæœºå–ä¸€å¯¹æ­£è´Ÿæ ·æœ¬ï¼Œæ­£æ ·æœ¬å¾—åˆ†å¤§äºè´Ÿæ ·æœ¬çš„æ¦‚ç‡AUCçš„æœ€å°å€¼ä¸º0.5ï¼Œæœ€å¤§å€¼ä¸º1ï¼Œå–å€¼è¶Šé«˜è¶Šå¥½AUC=1ï¼Œå®Œç¾åˆ†ç±»å™¨ï¼Œé‡‡ç”¨è¿™ä¸ªé¢„æµ‹æ¨¡å‹æ—¶ï¼Œä¸ç®¡è®¾å®šä»€ä¹ˆé˜ˆå€¼éƒ½èƒ½å¾—å‡ºå®Œç¾é¢„æµ‹ã€‚ç»å¤§å¤šæ•°é¢„æµ‹çš„åœºåˆï¼Œä¸å­˜åœ¨å®Œç¾åˆ†ç±»å™¨ã€‚0.5&lt;AUC&lt;1ï¼Œä¼˜äºéšæœºçŒœæµ‹ã€‚è¿™ä¸ªåˆ†ç±»å™¨ï¼ˆæ¨¡å‹ï¼‰å¦¥å–„è®¾å®šé˜ˆå€¼çš„è¯ï¼Œèƒ½æœ‰é¢„æµ‹ä»·å€¼ã€‚AUCå°±æ˜¯ROC æ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œé€šå¸¸æƒ…å†µä¸‹æ•°å€¼ä»‹äº0.5-1ä¹‹é—´ï¼Œå¯ä»¥è¯„ä»·åˆ†ç±»å™¨çš„å¥½åï¼Œæ•°å€¼è¶Šå¤§è¯´æ˜è¶Šå¥½ã€‚AUCè®¡ç®—APIfrom sklearn.metrics import roc_auc_scoresklearn.metrics.roc_auc_score(y_true, y_score)è®¡ç®—ROCæ›²çº¿é¢ç§¯ï¼Œå³AUCå€¼y_true:æ¯ä¸ªæ ·æœ¬çš„çœŸå®ç±»åˆ«ï¼Œå¿…é¡»ä¸º0(åä¾‹),1(æ­£ä¾‹)æ ‡è®°y_score:æ¯ä¸ªæ ·æœ¬é¢„æµ‹çš„æ¦‚ç‡å€¼ä»£ç ï¼ˆæ¥ä¸Šæ–‡ä»£ç ï¼‰ï¼š1234567891011121314151617181920212223242526print(y_test.head())#y_true:æ¯ä¸ªæ ·æœ¬çš„çœŸå®ç±»åˆ«ï¼Œå¿…é¡»ä¸º0ï¼ˆåä¾‹ï¼‰ï¼Œ1ï¼ˆæ­£ä¾‹ï¼‰æ ‡è®°#å°†y_test è½¬æ¢æˆ0å’Œ1y_test = np.where(y_test &gt; 2.5, 1, 0) #y_testæ•°å€¼å¤§äº2.5è®¾ç½®ä¸º1ï¼Œä¸å¤§äºè®¾ç½®ä¸º0from sklearn.metrics import roc_auc_scoreprint(\"AUCæŒ‡æ ‡ï¼š\", roc_auc_score(y_test, lr.predict(x_test)))# ROCæ›²çº¿# y_scoreä¸ºæ¨¡å‹é¢„æµ‹æ­£ä¾‹çš„æ¦‚ç‡y_score = lr.predict_proba(x_test)[:, 1]# è®¡ç®—ä¸åŒé˜ˆå€¼ä¸‹ï¼Œfprå’Œtprçš„ç»„åˆä¹‹ï¼Œfprè¡¨ç¤º1-Specificityï¼Œtprè¡¨ç¤ºSensitivityfrom sklearn import metricsfpr, tpr, threshold = metrics.roc_curve(y_test, y_score)# è®¡ç®—AUCroc_auc = metrics.auc(fpr, tpr)# ç»˜åˆ¶é¢ç§¯å›¾import matplotlib.pyplot as pltplt.stackplot(fpr, tpr, color='steelblue', alpha=0.5, edgecolor='black')# æ·»åŠ ROCæ›²çº¿çš„è½®å»“plt.plot(fpr, tpr, color='black', lw=1)# æ·»åŠ å¯¹è§’çº¿ä½œä¸ºå‚è€ƒçº¿plt.plot([0, 1], [0, 1], color='red', linestyle='--')plt.text(0.5, 0.3, 'ROC curve (area=%0.2f)' % roc_auc)plt.xlabel('1-Specificity')plt.ylabel('Sensitivity')plt.show()è¾“å‡ºç»“æœï¼š123456753 4503 2434 2495 2595 2Name: Class, dtype: int64AUCæŒ‡æ ‡ï¼š 0.9556899934597778æ€»ç»“AUCåªèƒ½ç”¨æ¥è¯„ä»·äºŒåˆ†ç±»AUCéå¸¸é€‚åˆè¯„ä»·æ ·æœ¬ä¸å¹³è¡¡ä¸­çš„åˆ†ç±»å™¨æ€§èƒ½LIftå’ŒgainLiftå›¾è¡¡é‡çš„æ˜¯ï¼Œä¸ä¸åˆ©ç”¨æ¨¡å‹ç›¸æ¯”ï¼Œæ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›â€œå˜å¥½â€äº†å¤šå°‘ï¼Œlift(æå‡æŒ‡æ•°)è¶Šå¤§ï¼Œæ¨¡å‹çš„è¿è¡Œæ•ˆæœè¶Šå¥½ã€‚Gainå›¾æ˜¯æè¿°æ•´ä½“ç²¾å‡†åº¦çš„æŒ‡æ ‡ã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š$Lift=\\frac{\\frac{TP}{TP+FP}}{\\frac{P}{P+N}}$$Gain=\\frac{TP}{TP+FP}$ä½œå›¾æ­¥éª¤ï¼šï¼ˆ1ï¼‰ æ ¹æ®å­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœï¼ˆæ³¨æ„ï¼Œæ˜¯æ­£ä¾‹çš„æ¦‚ç‡å€¼ï¼Œé0/1å˜é‡ï¼‰å¯¹æ ·æœ¬è¿›è¡Œæ’åºï¼ˆä»å¤§åˆ°å°ï¼‰â€”â€”-è¿™å°±æ˜¯æˆªæ–­ç‚¹ä¾æ¬¡é€‰å–çš„é¡ºåºï¼›ï¼ˆ2ï¼‰ æŒ‰é¡ºåºé€‰å–æˆªæ–­ç‚¹ï¼Œå¹¶è®¡ç®—Liftå’ŒGain â€”-ä¹Ÿå¯ä»¥åªé€‰å–nä¸ªæˆªæ–­ç‚¹ï¼Œåˆ†åˆ«åœ¨1/nï¼Œ2/nï¼Œ3/nç­‰ä½ç½®å›å½’æ¨¡å‹çš„è¯„ä¼°ä¸»è¦æœ‰ä»¥ä¸‹æ–¹æ³•ï¼šæŒ‡æ ‡æè¿°metricsæ–¹æ³•Mean Absolute Error (MAE)å¹³å‡ç»å¯¹è¯¯å·®from sklearn.metrics import mean_absolute_errorMean Square Error(MSE)å¹³å‡æ–¹å·®from sklearn.metrics import mean_squared_errorR-SquaredRå¹³æ–¹å€¼from sklearn.metrics import r2_scoreä»£ç ï¼š12345678#sklearnçš„è°ƒç”¨from sklearn.metrics import mean_absolute_errorfrom sklearn.metrics import mean_squared_error from sklearn.metrics import r2_score mean_absolute_error(y_test,y_predict)mean_squared_error(y_test,y_predict)r2_score(y_test,y_predict)ï¼ˆä¸€ï¼‰å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆMean Absolute Errorï¼ŒMAEï¼‰å¹³å‡ç»å¯¹è¯¯å·®å°±æ˜¯æŒ‡é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´å¹³å‡ç›¸å·®å¤šå¤§ ï¼š$MAE=\\frac{1}{m}\\sum_{i=1}^{m}|f_i-y_i|$å¹³å‡ç»å¯¹è¯¯å·®èƒ½æ›´å¥½åœ°åæ˜ é¢„æµ‹å€¼è¯¯å·®çš„å®é™…æƒ…å†µ.ï¼ˆäºŒï¼‰å‡æ–¹è¯¯å·®ï¼ˆMean Squared Errorï¼ŒMSEï¼‰è§‚æµ‹å€¼ä¸çœŸå€¼åå·®çš„å¹³æ–¹å’Œä¸è§‚æµ‹æ¬¡æ•°çš„æ¯”å€¼ï¼š$MSE=\\frac{1}{m}\\sum_{i=1}^{m}(f_i-y_i)^2$è¿™ä¹Ÿæ˜¯çº¿æ€§å›å½’ä¸­æœ€å¸¸ç”¨çš„æŸå¤±å‡½æ•°ï¼Œçº¿æ€§å›å½’è¿‡ç¨‹ä¸­å°½é‡è®©è¯¥æŸå¤±å‡½æ•°æœ€å°ã€‚é‚£ä¹ˆæ¨¡å‹ä¹‹é—´çš„å¯¹æ¯”ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥æ¯”è¾ƒã€‚MSEå¯ä»¥è¯„ä»·æ•°æ®çš„å˜åŒ–ç¨‹åº¦ï¼ŒMSEçš„å€¼è¶Šå°ï¼Œè¯´æ˜é¢„æµ‹æ¨¡å‹æè¿°å®éªŒæ•°æ®å…·æœ‰æ›´å¥½çš„ç²¾ç¡®åº¦ã€‚ï¼ˆä¸‰ï¼‰R-square(å†³å®šç³»æ•°)$R^2=1-\\frac{\\sum(Y_actual-Y_predict)^2}{\\sum(Y_actual-Y_mean)^2}$123456#ä»¥çº¿æ€§å›å½’ä¸ºä¾‹lr = LinearRegression()lr.fit(x_train,y_train)y_ = lr.predict(X_test)# R2 å†³å®šç³»æ•°lr.score(X_test,y_test) #ä¸ç”¨from sklearn.metrics import r2_scoreç›¸åŒæ•°å­¦ç†è§£ï¼š åˆ†æ¯ç†è§£ä¸ºåŸå§‹æ•°æ®çš„ç¦»æ•£ç¨‹åº¦ï¼Œåˆ†å­ä¸ºé¢„æµ‹æ•°æ®å’ŒåŸå§‹æ•°æ®çš„è¯¯å·®ï¼ŒäºŒè€…ç›¸é™¤å¯ä»¥æ¶ˆé™¤åŸå§‹æ•°æ®ç¦»æ•£ç¨‹åº¦çš„å½±å“å…¶å®â€œå†³å®šç³»æ•°â€æ˜¯é€šè¿‡æ•°æ®çš„å˜åŒ–æ¥è¡¨å¾ä¸€ä¸ªæ‹Ÿåˆçš„å¥½åã€‚ç†è®ºä¸Šå–å€¼èŒƒå›´$ ï¼ˆ-âˆï¼Œ1] $, æ­£å¸¸å–å€¼èŒƒå›´ä¸º[0 1] â€”â€”â€”å®é™…æ“ä½œä¸­é€šå¸¸ä¼šé€‰æ‹©æ‹Ÿåˆè¾ƒå¥½çš„æ›²çº¿è®¡ç®—RÂ²ï¼Œå› æ­¤å¾ˆå°‘å‡ºç°$-âˆ$è¶Šæ¥è¿‘1ï¼Œè¡¨æ˜æ–¹ç¨‹çš„å˜é‡å¯¹yçš„è§£é‡Šèƒ½åŠ›è¶Šå¼ºï¼Œè¿™ä¸ªæ¨¡å‹å¯¹æ•°æ®æ‹Ÿåˆçš„ä¹Ÿè¾ƒå¥½è¶Šæ¥è¿‘0ï¼Œè¡¨æ˜æ¨¡å‹æ‹Ÿåˆçš„è¶Šå·®ç»éªŒå€¼ï¼š&gt;0.4ï¼Œ æ‹Ÿåˆæ•ˆæœå¥½ç¼ºç‚¹ï¼šæ•°æ®é›†çš„æ ·æœ¬è¶Šå¤§ï¼ŒRÂ²è¶Šå¤§ï¼Œå› æ­¤ï¼Œä¸åŒæ•°æ®é›†çš„æ¨¡å‹ç»“æœæ¯”è¾ƒä¼šæœ‰ä¸€å®šçš„è¯¯å·®ï¼ˆå››ï¼‰Adjusted R-Square (æ ¡æ­£å†³å®šç³»æ•°ï¼‰$R^2_adjusted=1-\\frac{(1-R^2)(n-1)}{n-p-1}$$n$ä¸ºæ ·æœ¬æ•°é‡ï¼Œ$p$ä¸ºç‰¹å¾æ•°é‡æ¶ˆé™¤äº†æ ·æœ¬æ•°é‡å’Œç‰¹å¾æ•°é‡çš„å½±å“ï¼ˆäº”ï¼‰äº¤å‰éªŒè¯ï¼ˆCross-Validationï¼‰äº¤å‰éªŒè¯ï¼Œæœ‰çš„æ—¶å€™ä¹Ÿç§°ä½œå¾ªç¯ä¼°è®¡ï¼ˆRotation Estimationï¼‰ï¼Œæ˜¯ä¸€ç§ç»Ÿè®¡å­¦ä¸Šå°†æ•°æ®æ ·æœ¬åˆ‡å‰²æˆè¾ƒå°å­é›†çš„å®ç”¨æ–¹æ³•ï¼Œè¯¥ç†è®ºæ˜¯ç”±Seymour Geisseræå‡ºçš„ã€‚åœ¨ç»™å®šçš„å»ºæ¨¡æ ·æœ¬ä¸­ï¼Œæ‹¿å‡ºå¤§éƒ¨åˆ†æ ·æœ¬è¿›è¡Œå»ºæ¨¡å‹ï¼Œç•™å°éƒ¨åˆ†æ ·æœ¬ç”¨åˆšå»ºç«‹çš„æ¨¡å‹è¿›è¡Œé¢„æŠ¥ï¼Œå¹¶æ±‚è¿™å°éƒ¨åˆ†æ ·æœ¬çš„é¢„æŠ¥è¯¯å·®ï¼Œè®°å½•å®ƒä»¬çš„å¹³æ–¹åŠ å’Œã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´è¿›è¡Œï¼Œç›´åˆ°æ‰€æœ‰çš„æ ·æœ¬éƒ½è¢«é¢„æŠ¥äº†ä¸€æ¬¡è€Œä¸”ä»…è¢«é¢„æŠ¥ä¸€æ¬¡ã€‚æŠŠæ¯ä¸ªæ ·æœ¬çš„é¢„æŠ¥è¯¯å·®å¹³æ–¹åŠ å’Œï¼Œç§°ä¸ºPRESS(predicted Error Sum of Squares)ã€‚äº¤å‰éªŒè¯çš„åŸºæœ¬æ€æƒ³æ˜¯æŠŠåœ¨æŸç§æ„ä¹‰ä¸‹å°†åŸå§‹æ•°æ®(dataset)è¿›è¡Œåˆ†ç»„,ä¸€éƒ¨åˆ†åšä¸ºè®­ç»ƒé›†(train set)ï¼Œå¦ä¸€éƒ¨åˆ†åšä¸ºéªŒè¯é›†(validation set or test set)ã€‚é¦–å…ˆç”¨è®­ç»ƒé›†å¯¹åˆ†ç±»å™¨è¿›è¡Œè®­ç»ƒï¼Œå†åˆ©ç”¨éªŒè¯é›†æ¥æµ‹è¯•è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹(model)ï¼Œä»¥æ­¤æ¥åšä¸ºè¯„ä»·åˆ†ç±»å™¨çš„æ€§èƒ½æŒ‡æ ‡ã€‚æ— è®ºåˆ†ç±»è¿˜æ˜¯å›å½’æ¨¡å‹ï¼Œéƒ½å¯ä»¥åˆ©ç”¨äº¤å‰éªŒè¯ï¼Œè¿›è¡Œæ¨¡å‹è¯„ä¼°ï¼Œç¤ºä¾‹ä»£ç ï¼š123from sklearn.cross_validation import cross_val_scoreprint(cross_val_score(knn, X_train, y_train, cv=4))print(cross_cal_score(lr, X, y, cv=2))æ¨¡å‹ä¿å­˜å’ŒåŠ è½½å½“è®­ç»ƒæˆ–è€…è®¡ç®—å¥½ä¸€ä¸ªæ¨¡å‹ä¹‹åï¼Œé‚£ä¹ˆå¦‚æœåˆ«äººéœ€è¦æˆ‘ä»¬æä¾›ç»“æœé¢„æµ‹ï¼Œå°±éœ€è¦ä¿å­˜æ¨¡å‹ï¼ˆä¸»è¦æ˜¯ä¿å­˜ç®—æ³•çš„å‚æ•°ï¼‰sklearnæ¨¡å‹çš„ä¿å­˜å’ŒåŠ è½½APIfrom sklearn.externals import joblibä¿å­˜ï¼šjoblib.dump(rf, â€˜test.pklâ€™)åŠ è½½ï¼šestimator = joblib.load(â€˜test.pklâ€™)çº¿æ€§å›å½’çš„æ¨¡å‹ä¿å­˜åŠ è½½æ¡ˆä¾‹ä¿å­˜1234567#ä½¿ç”¨çº¿æ€§æ¨¡å‹è¿›è¡Œé¢„æµ‹#ä½¿ç”¨æ­£è§„æ–¹ç¨‹æ±‚è§£lr = LinearRegression()#æ­¤æ—¶åœ¨å¹²ä»€ä¹ˆï¼Ÿlr.fit(x_train, y_train)#ä¿å­˜è®­ç»ƒå®Œç»“æŸçš„æ¨¡å‹joblib.dump(lr, \"test.pkl\")åŠ è½½1234567891011#ä½¿ç”¨çº¿æ€§æ¨¡å‹è¿›è¡Œé¢„æµ‹#ä½¿ç”¨æ­£è§„æ–¹ç¨‹æ±‚è§£#lr = LinearRegression()#æ­¤æ—¶åœ¨å¹²ä»€ä¹ˆï¼Ÿ#lr.fit(x_train, y_train)#ä¿å­˜è®­ç»ƒå®Œç»“æŸçš„æ¨¡å‹#joblib.dump(lr, \"test.pkl\")#å½“ä¸Šæ­¥æ¨¡å‹å·²ç»ä¿å­˜å¥½äº†å°±ä¸éœ€è¦è®­ç»ƒfitå’Œä¿å­˜æ¨¡å‹äº†#é€šè¿‡å·²æœ‰çš„æ¨¡å‹å»é¢„æµ‹æˆ¿ä»·model = joblib.load(\"test.pkl\")print(\"ä»æ–‡ä»¶åŠ è½½è¿›æ¥çš„æ¨¡å‹é¢„æµ‹æˆ¿ä»·çš„ç»“æœï¼š\", std_y.inverse_transform(model.predict(x_test)))æ— ç›‘ç£å­¦ä¹ -K-meansç®—æ³•ä»€ä¹ˆæ˜¯æ— ç›‘ç£å­¦ä¹ æ²¡æœ‰ç›®æ ‡å€¼â€”æ— ç›‘ç£å­¦ä¹ ä¾‹ï¼šä¸€å®¶å¹¿å‘Šå¹³å°éœ€è¦æ ¹æ®ç›¸ä¼¼çš„äººå£å­¦ç‰¹å¾å’Œè´­ä¹°ä¹ æƒ¯å°†ç¾å›½äººå£åˆ†æˆä¸åŒçš„å°ç»„ï¼Œä»¥ä¾¿å¹¿å‘Šå®¢æˆ·å¯ä»¥é€šè¿‡æœ‰å…³è”çš„å¹¿å‘Šæ¥è§¦åˆ°ä»–ä»¬çš„ç›®æ ‡å®¢æˆ·ã€‚Airbnb éœ€è¦å°†è‡ªå·±çš„æˆ¿å±‹æ¸…å•åˆ†ç»„æˆä¸åŒçš„ç¤¾åŒºï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½æ›´è½»æ¾åœ°æŸ¥é˜…è¿™äº›æ¸…å•ã€‚ä¸€ä¸ªæ•°æ®ç§‘å­¦å›¢é˜Ÿéœ€è¦é™ä½ä¸€ä¸ªå¤§å‹æ•°æ®é›†çš„ç»´åº¦çš„æ•°é‡ï¼Œä»¥ä¾¿ç®€åŒ–å»ºæ¨¡å’Œé™ä½æ–‡ä»¶å¤§å°ã€‚æˆ‘ä»¬å¯ä»¥æ€æ ·æœ€æœ‰ç”¨åœ°å¯¹å…¶è¿›è¡Œå½’çº³å’Œåˆ†ç»„ï¼Ÿæˆ‘ä»¬å¯ä»¥æ€æ ·ä»¥ä¸€ç§å‹ç¼©æ ¼å¼æœ‰æ•ˆåœ°è¡¨å¾æ•°æ®ï¼Ÿè¿™éƒ½æ˜¯æ— ç›‘ç£å­¦ä¹ çš„ç›®æ ‡ï¼Œä¹‹æ‰€ä»¥ç§°ä¹‹ä¸ºæ— ç›‘ç£ï¼Œæ˜¯å› ä¸ºè¿™æ˜¯ä»æ— æ ‡ç­¾çš„æ•°æ®å¼€å§‹å­¦ä¹ çš„ã€‚æ— ç›‘ç£å­¦ä¹ åŒ…å«ç®—æ³•èšç±»K-means(Kå‡å€¼èšç±»)é™ç»´PCAK-meansåŸç†æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¸€ä¸ªK-meansçš„èšç±»æ•ˆæœå›¾K-meansèšç±»æ­¥éª¤1ã€éšæœºè®¾ç½®Kä¸ªç‰¹å¾ç©ºé—´å†…çš„ç‚¹ä½œä¸ºåˆå§‹çš„èšç±»ä¸­å¿ƒ2ã€å¯¹äºå…¶ä»–æ¯ä¸ªç‚¹è®¡ç®—åˆ°Kä¸ªä¸­å¿ƒçš„è·ç¦»ï¼ŒæœªçŸ¥çš„ç‚¹é€‰æ‹©æœ€è¿‘çš„ä¸€ä¸ªèšç±»ä¸­å¿ƒç‚¹ä½œä¸ºæ ‡è®°ç±»åˆ«3ã€æ¥ç€å¯¹ç€æ ‡è®°çš„èšç±»ä¸­å¿ƒä¹‹åï¼Œé‡æ–°è®¡ç®—å‡ºæ¯ä¸ªèšç±»çš„æ–°ä¸­å¿ƒç‚¹ï¼ˆå¹³å‡å€¼ï¼‰4ã€å¦‚æœè®¡ç®—å¾—å‡ºçš„æ–°ä¸­å¿ƒç‚¹ä¸åŸä¸­å¿ƒç‚¹ä¸€æ ·ï¼Œé‚£ä¹ˆç»“æŸï¼Œå¦åˆ™é‡æ–°è¿›è¡Œç¬¬äºŒæ­¥è¿‡ç¨‹Kâ€”è¶…å‚æ•° æ ¹æ®ä»¥ä¸‹ç¡®å®šï¼š 1ï¼‰çœ‹éœ€æ±‚ï¼›2ï¼‰è°ƒèŠ‚è¶…å‚æ•°æˆ‘ä»¬ä»¥ä¸€å¼ å›¾æ¥è§£é‡Šæ•ˆæœK-meansç®—æ³•APIsklearn.cluster.KMeans(n_clusters=8,init=â€˜k-means++â€™)k-meansèšç±»n_clusters:å¼€å§‹çš„èšç±»ä¸­å¿ƒæ•°é‡init:åˆå§‹åŒ–æ–¹æ³•ï¼Œé»˜è®¤ä¸ºâ€™k-means ++â€™labels_:é»˜è®¤æ ‡è®°çš„ç±»å‹ï¼Œå¯ä»¥å’ŒçœŸå®å€¼æ¯”è¾ƒï¼ˆä¸æ˜¯å€¼æ¯”è¾ƒï¼‰æ¡ˆä¾‹ï¼šk-meanså¯¹Instacart Marketç”¨æˆ·èšç±»åˆ†æ1ã€PCAé™ç»´æ•°æ®2ã€k-meansèšç±»3ã€èšç±»ç»“æœæ˜¾ç¤ºä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839import pandas as pd# 1ã€è·å–æ•°æ®order_products = pd.read_csv(\"./instacart/order_products__prior.csv\")products = pd.read_csv(\"./instacart/products.csv\")orders = pd.read_csv(\"./instacart/orders.csv\")aisles = pd.read_csv(\"./instacart/aisles.csv\")# 2ã€åˆå¹¶è¡¨# order_products__prior.csvï¼šè®¢å•ä¸å•†å“ä¿¡æ¯# å­—æ®µï¼šorder_id, product_id, add_to_cart_order, reordered# products.csvï¼šå•†å“ä¿¡æ¯# å­—æ®µï¼šproduct_id, product_name, aisle_id, department_id# orders.csvï¼šç”¨æˆ·çš„è®¢å•ä¿¡æ¯# å­—æ®µï¼šorder_id,user_id,eval_set,order_number,â€¦.# aisles.csvï¼šå•†å“æ‰€å±å…·ä½“ç‰©å“ç±»åˆ«# å­—æ®µï¼š aisle_id, aisle# åˆå¹¶aisleså’Œproducts aisleå’Œproduct_idtab1 = pd.merge(aisles, products, on=[\"aisle_id\", \"aisle_id\"])tab2 = pd.merge(tab1, order_products, on=[\"product_id\", \"product_id\"])tab3 = pd.merge(tab2, orders, on=[\"order_id\", \"order_id\"])#print(tab3.head())# 3ã€æ‰¾åˆ°user_idå’Œaisleä¹‹é—´çš„å…³ç³»table = pd.crosstab(tab3[\"user_id\"], tab3[\"aisle\"])data = table[:10000] #ç¼©å°æ•°æ®# 4ã€PCAé™ç»´from sklearn.decomposition import PCA# 1ï¼‰å®ä¾‹åŒ–ä¸€ä¸ªè½¬æ¢å™¨ç±»transfer = PCA(n_components=0.95)# 2ï¼‰è°ƒç”¨fit_transformdata_new = transfer.fit_transform(data)print(data_new.shape)#5ã€é¢„ä¼°å™¨æµç¨‹from sklearn.cluster import KMeansestimator=KMeans(n_clusters=3)#KMeans(algorithm='auto', copy_x=True, init='k-means++', max_iter=300,# n_clusters=3, n_init=10, n_jobs=None, precompute_distances='auto',# random_state=None, tol=0.0001, verbose=0)estimator.fit(data_new)y_predict=estimator.predict(data_new)print(y_predict[:300])è¾“å‡ºç»“æœï¼š12345678910(10000, 42)[1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 0 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 1 1 0 1 1 1 1 1 1 1 1 1 1 0 1 1 0 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 2 1 0 1 1 1 0 1 1 1 1 1 0 0 0 0 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 0 1 0 1 1 1 1 1 2 1 1 1 2 1 1 1 1 0 1 0 1 2 1 1 1 0 1 1 1 1 2 0 0 1 0 1 1 1 1 1 1 0 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 0 0 1 1 0 1 1 1 1 2 0 1 1 1 1 0 1 1 1 1 0]é—®é¢˜ï¼šå¦‚ä½•å»è¯„ä¼°èšç±»çš„æ•ˆæœå‘¢ï¼ŸKmeansæ€§èƒ½è¯„ä¼°æŒ‡æ ‡è½®å»“ç³»æ•°$SC_i=\\frac{b_i-a_i}{max(b_i,a_i)}$æ³¨ï¼šå¯¹äºæ¯ä¸ªç‚¹ $i$ä¸ºå·²èšç±»æ•°æ®ä¸­çš„æ ·æœ¬ ï¼Œ$b_i$ ä¸º $i$ åˆ°å…¶å®ƒæ—ç¾¤çš„æ‰€æœ‰æ ·æœ¬çš„è·ç¦»æœ€å°å€¼ï¼Œ$a_i $ä¸º $i$ åˆ°æœ¬èº«ç°‡çš„è·ç¦»å¹³å‡å€¼ã€‚æœ€ç»ˆè®¡ç®—å‡ºæ‰€æœ‰çš„æ ·æœ¬ç‚¹çš„è½®å»“ç³»æ•°å¹³å‡å€¼è½®å»“ç³»æ•°å€¼åˆ†æåˆ†æè¿‡ç¨‹ï¼ˆæˆ‘ä»¬ä»¥ä¸€ä¸ªè“1ç‚¹ä¸ºä¾‹ï¼‰1ã€è®¡ç®—å‡ºè“1ç¦»æœ¬èº«æ—ç¾¤æ‰€æœ‰ç‚¹çš„è·ç¦»çš„å¹³å‡å€¼a_i2ã€è“1åˆ°å…¶å®ƒä¸¤ä¸ªæ—ç¾¤çš„è·ç¦»è®¡ç®—å‡ºå¹³å‡å€¼çº¢å¹³å‡ï¼Œç»¿å¹³å‡ï¼Œå–æœ€å°çš„é‚£ä¸ªè·ç¦»ä½œä¸ºb_iæ ¹æ®å…¬å¼ï¼šæç«¯å€¼è€ƒè™‘ï¼šå¦‚æœb_i &gt;&gt;a_i: é‚£ä¹ˆå…¬å¼ç»“æœè¶‹è¿‘äº1ï¼›å¦‚æœa_i&gt;&gt;&gt;b_i: é‚£ä¹ˆå…¬å¼ç»“æœè¶‹è¿‘äº-1ç»“è®ºå¦‚æœ$b_i&gt;&gt;a_i$:è¶‹è¿‘äº1æ•ˆæœè¶Šå¥½ï¼Œ$ b_i&lt;&lt;a_i$:è¶‹è¿‘äº-1ï¼Œæ•ˆæœä¸å¥½ã€‚è½®å»“ç³»æ•°çš„å€¼æ˜¯ä»‹äº [-1,1] ï¼Œè¶Šè¶‹è¿‘äº1ä»£è¡¨å†…èšåº¦å’Œåˆ†ç¦»åº¦éƒ½ç›¸å¯¹è¾ƒä¼˜ã€‚è½®å»“ç³»æ•°APIsklearn.metrics.silhouette_score(X, labels)è®¡ç®—æ‰€æœ‰æ ·æœ¬çš„å¹³å‡è½®å»“ç³»æ•°Xï¼šç‰¹å¾å€¼labelsï¼šè¢«èšç±»æ ‡è®°çš„ç›®æ ‡å€¼ç”¨æˆ·èšç±»ç»“æœè¯„ä¼°ä»£ç æ¥ä¸Šæ–‡ä»£ç ï¼š123#6ã€æ¨¡å‹è¯„ä¼°â€”è½®å»“ç³»æ•°from sklearn.metrics import silhouette_scoreprint(silhouette_score(data_new,y_predict))è¾“å‡ºç»“æœï¼š10.5396819903993842K-meansæ€»ç»“ç‰¹ç‚¹åˆ†æï¼šé‡‡ç”¨è¿­ä»£å¼ç®—æ³•ï¼Œç›´è§‚æ˜“æ‡‚å¹¶ä¸”éå¸¸å®ç”¨ç¼ºç‚¹ï¼šå®¹æ˜“æ”¶æ•›åˆ°å±€éƒ¨æœ€ä¼˜è§£(å¤šæ¬¡èšç±»)æ³¨ï¼šèšç±»ä¸€èˆ¬åšåœ¨åˆ†ç±»ä¹‹å‰SVMç®—æ³•ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#SVCç®—æ³•è¿›è¡Œç™Œç—‡é¢„æµ‹import numpy as npimport pandas as pdfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScaler# 1ã€è¯»å–æ•°æ®column_name = ['Sample code number', 'Clump Thickness', 'Uniformity of Cell Size', 'Uniformity of Cell Shape', 'Marginal Adhesion', 'Single Epithelial Cell Size', 'Bare Nuclei', 'Bland Chromatin', 'Normal Nucleoli', 'Mitoses', 'Class']data = pd.read_csv(\"https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data\", names=column_name)# 2ã€æ•°æ®å¤„ç†â€”å¤„ç†ç¼ºå¤±å€¼data = data.replace(to_replace='?', value=np.nan) #1)æ›¿æ¢np.nandata = data.dropna() #2)åˆ é™¤ç¼ºå¤±å€¼print(data.isnull().any()) #ç¡®è®¤ä¸å­˜åœ¨ç¼ºå¤±å€¼# å–å‡ºç‰¹å¾å€¼x = data[column_name[1:10]] #x=data.iloc[:,1:-1]y = data[column_name[10]] #y=data['Class']#3ã€åˆ†å‰²æ•°æ®é›†x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3)#4ã€ç‰¹å¾å·¥ç¨‹â€”æ ‡å‡†åŒ–std = StandardScaler()x_train = std.fit_transform(x_train)x_test = std.transform(x_test)# 5ã€ä½¿ç”¨SVCç®—æ³•from sklearn import svm #æ”¯æŒå‘é‡æœº#module = svm.SVC()module.fit(x_train, y_train)#6ã€æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=module.predict(x_test)print('y_predict:\\n',y_predict)print('ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=module.score(x_test,y_test)print('å‡†ç¡®ç‡ä¸ºï¼š\\n',score)from sklearn.metrics import classification_reportreport=classification_report(y_test, module.predict(x_test), labels=[2, 4], target_names=['è‰¯æ€§', 'æ¶æ€§'])print(\"ç²¾ç¡®ç‡å’Œå¬å›ç‡ä¸ºï¼š\",report)print(y_test.head())#y_true:æ¯ä¸ªæ ·æœ¬çš„çœŸå®ç±»åˆ«ï¼Œå¿…é¡»ä¸º0ï¼ˆåä¾‹ï¼‰ï¼Œ1ï¼ˆæ­£ä¾‹ï¼‰æ ‡è®°#å°†y_test è½¬æ¢æˆ0å’Œ1y_test = np.where(y_test &gt; 2.5, 1, 0) #y_testæ•°å€¼å¤§äº2.5è®¾ç½®ä¸º1ï¼Œä¸å¤§äºè®¾ç½®ä¸º0from sklearn.metrics import roc_auc_scoreprint(\"AUCæŒ‡æ ‡ï¼š\", roc_auc_score(y_test, module.predict(x_test)))# ROCæ›²çº¿# y_scoreä¸ºæ¨¡å‹é¢„æµ‹æ­£ä¾‹çš„æ¦‚ç‡###é€šè¿‡decision_function()è®¡ç®—å¾—åˆ°çš„y_scoreçš„å€¼ï¼Œç”¨åœ¨roc_curve()å‡½æ•°ä¸­y_score = module.fit(x_train, y_train).decision_function(x_test)# è®¡ç®—ä¸åŒé˜ˆå€¼ä¸‹ï¼Œfprå’Œtprçš„ç»„åˆä¹‹ï¼Œfprè¡¨ç¤º1-Specificityï¼Œtprè¡¨ç¤ºSensitivityfrom sklearn import metricsfpr, tpr, threshold = metrics.roc_curve(y_test, y_score)# è®¡ç®—AUCroc_auc = metrics.auc(fpr, tpr)# ç»˜åˆ¶é¢ç§¯å›¾import matplotlib.pyplot as pltplt.stackplot(fpr, tpr, color='steelblue', alpha=0.5, edgecolor='black')# æ·»åŠ ROCæ›²çº¿çš„è½®å»“plt.plot(fpr, tpr, color='black', lw=1)# æ·»åŠ å¯¹è§’çº¿ä½œä¸ºå‚è€ƒçº¿plt.plot([0, 1], [0, 1], color='red', linestyle='--')plt.text(0.5, 0.3, 'ROC curve (area=%0.2f)' % roc_auc)plt.xlabel('1-Specificity')plt.ylabel('Sensitivity')plt.show()è¾“å‡ºç»“æœï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950Sample code number FalseClump Thickness FalseUniformity of Cell Size FalseUniformity of Cell Shape FalseMarginal Adhesion FalseSingle Epithelial Cell Size FalseBare Nuclei FalseBland Chromatin FalseNormal Nucleoli FalseMitoses FalseClass Falsedtype: booly_predict: [2 4 2 2 2 2 2 2 2 4 2 2 4 4 2 2 2 2 2 2 4 4 2 2 2 4 4 4 2 4 4 4 2 2 2 2 2 4 2 2 2 2 4 2 2 2 4 2 4 2 2 2 2 4 4 4 2 4 2 2 2 2 4 2 4 2 2 4 2 2 2 2 4 2 2 2 2 2 2 2 2 4 2 2 2 2 2 4 2 2 2 2 4 2 4 2 2 4 2 2 2 4 4 2 2 2 2 4 4 2 4 2 4 2 4 4 2 2 2 4 4 4 2 4 2 2 2 2 2 2 4 2 2 2 2 2 2 4 2 4 4 2 4 2 2 2 4 2 4 4 2 4 4 2 2 2 2 2 2 2 4 4 2 2 2 2 4 2 4 2 2 4 2 2 4 4 2 2 4 2 2 4 4 2 4 4 2 4 4 2 2 2 4 2 2 2 2 4 2 4 2 4 4 4 2]ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š 492 True236 True208 True518 True81 True ... 653 True434 False196 False210 True137 TrueName: Class, Length: 205, dtype: boolå‡†ç¡®ç‡ä¸ºï¼š 0.9658536585365853ç²¾ç¡®ç‡å’Œå¬å›ç‡ä¸ºï¼š precision recall f1-score support è‰¯æ€§ 0.99 0.96 0.97 139 æ¶æ€§ 0.92 0.98 0.95 66 accuracy 0.97 205 macro avg 0.95 0.97 0.96 205weighted avg 0.97 0.97 0.97 205492 2236 4208 2518 281 2Name: Class, dtype: int64AUCæŒ‡æ ‡ï¼š 0.9708415086112929GBDTç®—æ³•ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#GBDTè¿›è¡Œç™Œç—‡é¢„æµ‹import numpy as npimport pandas as pdfrom sklearn.model_selection import train_test_splitfrom sklearn.preprocessing import StandardScaler# 1ã€è¯»å–æ•°æ®column_name = ['Sample code number', 'Clump Thickness', 'Uniformity of Cell Size', 'Uniformity of Cell Shape', 'Marginal Adhesion', 'Single Epithelial Cell Size', 'Bare Nuclei', 'Bland Chromatin', 'Normal Nucleoli', 'Mitoses', 'Class']data = pd.read_csv(\"https://archive.ics.uci.edu/ml/machine-learning-databases/breast-cancer-wisconsin/breast-cancer-wisconsin.data\", names=column_name)# 2ã€æ•°æ®å¤„ç†â€”å¤„ç†ç¼ºå¤±å€¼data = data.replace(to_replace='?', value=np.nan) #1)æ›¿æ¢np.nandata = data.dropna() #2)åˆ é™¤ç¼ºå¤±å€¼print(data.isnull().any()) #ç¡®è®¤ä¸å­˜åœ¨ç¼ºå¤±å€¼# å–å‡ºç‰¹å¾å€¼x = data[column_name[1:10]] #x=data.iloc[:,1:-1]y = data[column_name[10]] #y=data['Class']#3ã€åˆ†å‰²æ•°æ®é›†x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3)#4ã€ç‰¹å¾å·¥ç¨‹â€”æ ‡å‡†åŒ–std = StandardScaler()x_train = std.fit_transform(x_train)x_test = std.transform(x_test)# 5ã€ä½¿ç”¨GBDTfrom sklearn.ensemble import GradientBoostingClassifier #Gradient Boosting å’Œ AdaBoostç®—æ³•#from sklearn.ensemble import GradientBoostingRegressormodule = GradientBoostingClassifier(n_estimators=100, learning_rate=0.1, max_depth=1, random_state=0)module.fit(x_train, y_train)#6ã€æ¨¡å‹è¯„ä¼°#æ–¹æ³•1ï¼šç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼y_predict=module.predict(x_test)print('y_predict:\\n',y_predict)print('ç›´æ¥æ¯”å¯¹çœŸå®å€¼å’Œé¢„æµ‹å€¼ï¼š\\n',y_test y_predict)#æ–¹æ³•2ï¼šè®¡ç®—å‡†ç¡®ç‡score=module.score(x_test,y_test)print('å‡†ç¡®ç‡ä¸ºï¼š\\n',score)from sklearn.metrics import classification_reportreport=classification_report(y_test, module.predict(x_test), labels=[2, 4], target_names=['è‰¯æ€§', 'æ¶æ€§'])print(\"ç²¾ç¡®ç‡å’Œå¬å›ç‡ä¸ºï¼š\",report)print(y_test.head())#y_true:æ¯ä¸ªæ ·æœ¬çš„çœŸå®ç±»åˆ«ï¼Œå¿…é¡»ä¸º0ï¼ˆåä¾‹ï¼‰ï¼Œ1ï¼ˆæ­£ä¾‹ï¼‰æ ‡è®°#å°†y_test è½¬æ¢æˆ0å’Œ1y_test = np.where(y_test &gt; 2.5, 1, 0) #y_testæ•°å€¼å¤§äº2.5è®¾ç½®ä¸º1ï¼Œä¸å¤§äºè®¾ç½®ä¸º0from sklearn.metrics import roc_auc_scoreprint(\"AUCæŒ‡æ ‡ï¼š\", roc_auc_score(y_test, module.predict(x_test)))# ROCæ›²çº¿# y_scoreä¸ºæ¨¡å‹é¢„æµ‹æ­£ä¾‹çš„æ¦‚ç‡y_score = module.predict_proba(x_test)[:, 1]# è®¡ç®—ä¸åŒé˜ˆå€¼ä¸‹ï¼Œfprå’Œtprçš„ç»„åˆä¹‹ï¼Œfprè¡¨ç¤º1-Specificityï¼Œtprè¡¨ç¤ºSensitivityfrom sklearn import metricsfpr, tpr, threshold = metrics.roc_curve(y_test, y_score)# è®¡ç®—AUCroc_auc = metrics.auc(fpr, tpr)# ç»˜åˆ¶é¢ç§¯å›¾import matplotlib.pyplot as pltplt.stackplot(fpr, tpr, color='steelblue', alpha=0.5, edgecolor='black')# æ·»åŠ ROCæ›²çº¿çš„è½®å»“plt.plot(fpr, tpr, color='black', lw=1)# æ·»åŠ å¯¹è§’çº¿ä½œä¸ºå‚è€ƒçº¿plt.plot([0, 1], [0, 1], color='red', linestyle='--')plt.text(0.5, 0.3, 'ROC curve (area=%0.2f)' % roc_auc)plt.xlabel('1-Specificity')plt.ylabel('Sensitivity')plt.show()","categories":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://qikaile.tk/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"},{"name":"åˆ†ç±»ç®—æ³•","slug":"æœºå™¨å­¦ä¹ /åˆ†ç±»ç®—æ³•","permalink":"https://qikaile.tk/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95/"},{"name":"å›å½’ç®—æ³•","slug":"æœºå™¨å­¦ä¹ /åˆ†ç±»ç®—æ³•/å›å½’ç®—æ³•","permalink":"https://qikaile.tk/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95/%E5%9B%9E%E5%BD%92%E7%AE%97%E6%B3%95/"},{"name":"èšç±»ç®—æ³•","slug":"æœºå™¨å­¦ä¹ /åˆ†ç±»ç®—æ³•/å›å½’ç®—æ³•/èšç±»ç®—æ³•","permalink":"https://qikaile.tk/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95/%E5%9B%9E%E5%BD%92%E7%AE%97%E6%B3%95/%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://qikaile.tk/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"Hexoæ­å»ºä¸ªäººåšå®¢ç³»åˆ—ï¼šä¸»é¢˜ç¾åŒ–ç¯‡","slug":"hexo-theme-beautify","date":"2020-03-18T16:00:00.000Z","updated":"2020-10-12T09:08:59.840Z","comments":true,"path":"hexo-theme-beautify.html","link":"","permalink":"https://qikaile.tk/hexo-theme-beautify.html","excerpt":"æœ¬æ–‡ä»‹ç»äº†åœ¨Nextä¸»é¢˜çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥å¯¹åšå®¢è¿›è¡Œç¾åŒ–çš„æ–¹æ¡ˆï¼Œä¸»è¦åŒ…æ‹¬:åœ¨æ–‡ç« æœ«å°¾æ·»åŠ ç»“æŸæ ‡è®°ä¿®æ”¹ä¾§è¾¹æ çš„ä½ç½®åˆ°å·¦è¾¹æ·»åŠ ä¸åŒç±»å‹çš„åŠ¨æ€èƒŒæ™¯æ•ˆæœæ·»åŠ  live2d çœ‹æ¿å¨˜ä¸ºå¸ƒå±€å…ƒç´ æ·»åŠ è¾¹ç¼˜å¼¹æ€§æ‘†åŠ¨æ•ˆæœä¸ªæ€§åŒ–å›åˆ°é¡¶éƒ¨æŒ‰é’®æ·»åŠ ä¸åŒç±»å‹çš„é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆè¯„è®ºåŒºè¾“å…¥æ‰“å­—ç¤¼èŠ±ç‰¹æ•ˆè¯»è€…å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å…¶ä¸­å–œæ¬¢çš„æ–¹æ¡ˆåº”ç”¨åˆ°ç«™ç‚¹åšå®¢ä¸­ã€‚","text":"æœ¬æ–‡ä»‹ç»äº†åœ¨Nextä¸»é¢˜çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥å¯¹åšå®¢è¿›è¡Œç¾åŒ–çš„æ–¹æ¡ˆï¼Œä¸»è¦åŒ…æ‹¬:åœ¨æ–‡ç« æœ«å°¾æ·»åŠ ç»“æŸæ ‡è®°ä¿®æ”¹ä¾§è¾¹æ çš„ä½ç½®åˆ°å·¦è¾¹æ·»åŠ ä¸åŒç±»å‹çš„åŠ¨æ€èƒŒæ™¯æ•ˆæœæ·»åŠ  live2d çœ‹æ¿å¨˜ä¸ºå¸ƒå±€å…ƒç´ æ·»åŠ è¾¹ç¼˜å¼¹æ€§æ‘†åŠ¨æ•ˆæœä¸ªæ€§åŒ–å›åˆ°é¡¶éƒ¨æŒ‰é’®æ·»åŠ ä¸åŒç±»å‹çš„é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆè¯„è®ºåŒºè¾“å…¥æ‰“å­—ç¤¼èŠ±ç‰¹æ•ˆè¯»è€…å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å…¶ä¸­å–œæ¬¢çš„æ–¹æ¡ˆåº”ç”¨åˆ°ç«™ç‚¹åšå®¢ä¸­ã€‚ä¿®æ”¹åšå®¢å­—ä½“åœ¨ Google Fonts ä¸Šæ‰¾åˆ°å¿ƒä»ªçš„å­—ä½“ï¼Œç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ä¸ºä¸åŒçš„åº”ç”¨åœºæ™¯é…ç½®å­—ä½“ï¼šthemes\\next\\_config.yml123456789101112131415161718192021222324252627282930font: enable: true # å¤–é“¾å­—ä½“åº“åœ°å€ï¼Œä¾‹å¦‚ //fonts.googleapis.com (é»˜è®¤å€¼) host: # å…¨å±€å­—ä½“ï¼Œåº”ç”¨åœ¨ body å…ƒç´ ä¸Š global: external: true family: Monda # æ ‡é¢˜å­—ä½“ (h1, h2, h3, h4, h5, h6) headings: external: true family: Roboto Slab # æ–‡ç« å­—ä½“ posts: external: true family: # Logo å­—ä½“ logo: external: true family: # ä»£ç å­—ä½“ï¼Œåº”ç”¨äº code ä»¥åŠä»£ç å— codes: external: true family:æ–‡ç« é¡µæœ«ç¾åŒ–ä¸ºæ ‡ç­¾æ·»åŠ å›¾æ ‡é»˜è®¤æƒ…å†µä¸‹æ ‡ç­¾å‰ç¼€æ˜¯ # å­—ç¬¦ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä¿®æ”¹ä¸»é¢˜æºç å°†æ ‡ç­¾çš„å­—ç¬¦å‰ç¼€æ”¹ä¸ºå›¾æ ‡å‰ç¼€ï¼Œæ›´æ”¹åæ•ˆæœå¦‚ä¸‹ï¼šåœ¨æ–‡ç« å¸ƒå±€æ¨¡æ¿ä¸­æ‰¾åˆ°æ–‡æœ«æ ‡ç­¾ç›¸å…³ä»£ç æ®µï¼Œå°† # æ¢æˆ &lt;i class=&quot;fa fa-tags&quot;&gt;&lt;/i&gt; å³å¯ï¼šthemes\\next\\layout\\_macro\\post.swig1234567891011 &lt;footer class=\"post-footer\"&gt; &#123;% if post.tags and post.tags.length and not is_index %&#125; &lt;div class=\"post-tags\"&gt; &#123;% for tag in post.tags %&#125;- &lt;a href=\"&#123;&#123; url_for(tag.path) &#125;&#125;\" rel=\"tag\"&gt;# &#123;&#123; tag.name &#125;&#125;&lt;/a&gt;+ &lt;a href=\"&#123;&#123; url_for(tag.path) &#125;&#125;\" rel=\"tag\"&gt;&lt;i class=\"fa fa-tags\"&gt;&lt;/i&gt; &#123;&#123; tag.name &#125;&#125;&lt;/a&gt; &#123;% endfor %&#125; &lt;/div&gt; &#123;% endif %&#125; ... &lt;/footer&gt;Nextä¸­ä½¿ç”¨ FontAwesome ä½œä¸ºå›¾æ ‡åº“ï¼Œç”¨æˆ·å¯ä»¥åœ¨ FontAwesome ä¸Šæ‰¾åˆ°å¿ƒä»ªçš„å›¾æ ‡æ¥æ›¿æ¢æ ‡ç­¾çš„å­—ç¬¦å‰ç¼€ã€‚æ·»åŠ ç»“æŸæ ‡è®°æœ¬ç« èŠ‚å‚è€ƒ asdfv1929 | Hexo NexTä¸»é¢˜å†…ç»™æ¯ç¯‡æ–‡ç« åæ·»åŠ ç»“æŸæ ‡è¯­åœ¨æ–‡æœ«æ·»åŠ ç»“æŸæ ‡è®°ï¼Œæ•ˆæœå¦‚ä¸‹ï¼šæ–°å»ºå¸ƒå±€æ¨¡æ¿æ–‡ä»¶ post-end-tag.swigï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼šthemes\\next\\layout\\_macro\\post-end-tag.swig123456789&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style=\"text-align:center;color:#bfbfbf;font-size:16px;\"&gt; &lt;span&gt;-------- æœ¬æ–‡ç»“æŸ &lt;/span&gt; &lt;i class=\"fa fa-&#123;&#123; config.post_end_tag.icon &#125;&#125;\"&gt;&lt;/i&gt; &lt;span&gt; æ„Ÿè°¢é˜…è¯» --------&lt;/span&gt; &lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt;åœ¨æ–‡ç« å¸ƒå±€æ¨¡æ¿ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼šthemes\\next\\layout\\_macro\\post123456789101112131415&#123;#####################&#125;&#123;### END POST BODY ###&#125;&#123;#####################&#125;+ &#123;% if config.post_end_tag.enabled and not is_index %&#125;+ &lt;div&gt;+ &#123;% include 'post-end-tag.swig' %&#125;+ &lt;/div&gt;+ &#123;% endif %&#125;&#123;% if theme.wechat_subscriber.enabled and not is_index %&#125; &lt;div&gt; &#123;% include 'wechat-subscriber.swig' %&#125; &lt;/div&gt;&#123;% endif %&#125;åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š_config.yml123post_end_tag: enabled: true # æ˜¯å¦å¼€å¯æ–‡æœ«çš„æœ¬æ–‡ç»“æŸæ ‡è®° icon: paw # ç»“æŸæ ‡è®°ä¹‹é—´çš„å›¾æ ‡é‡å¯æœåŠ¡å™¨åå³å¯åœ¨æ–‡æœ«çœ‹åˆ°ç»“æŸæ ‡è®°ã€‚é¡µé¢åŠ è½½è¿›åº¦æ¡å½“ç½‘ç»œä¸å¥½çš„æ—¶å€™å¯èƒ½ä¼šåœ¨æ‰“å¼€ç«™ç‚¹æˆ–è·³è½¬æ–‡ç« æ—¶å‡ºç°çŸ­æš‚çš„ç™½å±ï¼Œæ­¤æ—¶å¦‚æœèƒ½æœ‰åŠ è½½è¿›åº¦æç¤ºå°†ä¼šæé«˜ç”¨æˆ·æ“ä½œä½“éªŒã€‚åœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ç›¸å…³ä¾èµ–ï¼š1$ git clone https://github.com/theme-next/theme-next-pace themes/next/source/lib/paceåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½® pace: trueã€‚é»˜è®¤æä¾›äº†å¤šç§ä¸»é¢˜çš„è¿›åº¦æ¡åŠ è½½æ ·å¼ï¼Œæœ‰é¡¶éƒ¨æç¤ºçš„ï¼Œæœ‰ä¸­é—´æç¤ºçš„ï¼Œè¿˜æœ‰å…¨é¡µé¢é®æŒ¡æç¤ºçš„ï¼Œä¸ªäººè®¤ä¸ºé»˜è®¤çš„è¿›åº¦æ¡æ•ˆæœå°±æ°å¦‚å…¶å½“ï¼Œæ—¢èƒ½å¤Ÿåœ¨é¡µé¢ç©ºç™½çš„æ—¶å€™èµ·åˆ°åŠ è½½ä½œç”¨ï¼Œä¹Ÿä¸ä¼šå› ä¸ºå¤ªè¿‡èŠ±é‡Œèƒ¡å“¨è€Œå–§å®¾å¤ºä¸»ï¼Œå°¤å…¶æ˜¯å½“ä½ å¦‚æœä½¿ç”¨äº†ä¸è’œå­çš„ç«™ç‚¹è®¿é—®ç»Ÿè®¡çš„åŠŸèƒ½çš„æ—¶å€™ï¼Œå¸¸å¸¸ä¼šé‡åˆ°æ‰€æœ‰èµ„æºéƒ½åŠ è½½å®Œæ¯•è€Œä¸è’œå­è¿˜åœ¨ç­‰å¾…å“åº”ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™åœ¨é¡µé¢è¾ƒæ˜¾çœ¼çš„ä½ç½®å‡ºç°ä¸€ä¸ªåœæ»ä¸å‰çš„è¿›åº¦æ¡ï¼Œå¾ˆè®©äººæŠ“ç‹‚ã€‚ä¾§è¾¹æ æ”¾å·¦è¾¹å— çŒªçŒªä¾ çš„åšå®¢ æ‰€å¯å‘ï¼ŒèŒç”Ÿäº†æƒ³æŠŠä¸»é¢˜ä¾§è¾¹æ æ”¾åœ¨å·¦ä¾§çš„æƒ³æ³•ã€‚Nextä¸»é¢˜å„ç³»åˆ—ä¸­åªæœ‰Pisceså’ŒGeminiæ”¯æŒé€šè¿‡ä¸»é¢˜é…ç½®æ–‡ä»¶æ¥å°†ä¾§è¾¹æ ç½®äºå·¦ä¾§æˆ–å³ä¾§ï¼Œè€ŒMuseå’ŒMiståˆ™éœ€è¦æ·±åº¦ä¿®æ”¹æºç æ‰èƒ½å®ç°æ”¹å˜ä¾§è¾¹æ ä½ç½®ã€‚åœ¨è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è§„åˆ™ï¼šthemes\\next\\source\\css\\_custom\\custom.styl1234567.sidebar-toggle &#123; left: 30px;&#125;.sidebar &#123; left: 0px;&#125;ä¿®æ”¹åŠ¨æ•ˆè„šæœ¬ä»£ç ï¼šthemes\\next\\source\\js\\src\\motion.js1234567891011121314151617181920$(document) .on('sidebar.isShowing', function() &#123; NexT.utils.isDesktop() &amp;&amp; $('body').velocity('stop').velocity(- &#123;paddingRight: SIDEBAR_WIDTH&#125;,+ &#123;paddingLeft: SIDEBAR_WIDTH&#125;, SIDEBAR_DISPLAY_DURATION ); &#125;) .on('sidebar.isHiding', function() &#123; &#125;); ... hideSidebar: function() &#123;- NexT.utils.isDesktop() &amp;&amp; $('body').velocity('stop').velocity(&#123;paddingRight: 0&#125;);+ NexT.utils.isDesktop() &amp;&amp; $('body').velocity('stop').velocity(&#123;paddingLeft: 0&#125;); this.sidebarEl.find('.motion-element').velocity('stop').css('display', 'none'); this.sidebarEl.velocity('stop').velocity(&#123;width: 0&#125;, &#123;display: 'none'&#125;); sidebarToggleLines.init(); ...&#125;å¦‚æ­¤ä»¥æ¥å°±å¯ä»¥å°†ä¾§è¾¹æ æ”¾ç½®åœ¨å·¦è¾¹äº†ï¼Œä½†å½“çª—å£å®½åº¦ç¼©å°åˆ°991pxä¹‹åä¼šå‡ºç°æ ·å¼é”™è¯¯ï¼šä¾§è¾¹æ æ”¶ç¼©æ¶ˆå¤±ä½†æ˜¯é¡µé¢å·¦ä¾§ä»ç•™æœ‰ç©ºç™½é—´è·ï¼Œæ­¤æ—¶ä¿®æ”¹å¦‚ä¸‹ä»£ç å³å¯ï¼šthemes\\next\\source\\css\\_common\\scaffolding\\base.styl1234567891011121314body &#123; position: relative; // Required by scrollspy font-family: $font-family-base; font-size: $font-size-base; line-height: $line-height-base; color: $text-color; background: $body-bg-color;- +mobile() &#123; padding-left: 0 !important; &#125;- +tablet() &#123; padding-left: 0 !important; &#125; + +mobile() &#123; padding-right: 0 !important; &#125;+ +tablet() &#123; padding-right: 0 !important; &#125; +desktop-large() &#123; font-size: $font-size-large; &#125;&#125;æ·»åŠ åŠ¨æ€èƒŒæ™¯Nextä¸»é¢˜å¯ä»¥é€šè¿‡å®‰è£…æ’ä»¶å¿«é€Ÿä¸ºç«™ç‚¹æ·»åŠ ä¸åŒæ•ˆæœçš„åŠ¨æ€èƒŒæ™¯ã€‚ç²’å­æ¼‚æµ®èšåˆåº”ç”¨æ•ˆæœå¦‚ä¸‹å›¾ï¼šè¯¥åŠŸèƒ½ç”± theme-next-canvas-nest æ’ä»¶æä¾›ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š1$ git clone https://github.com/theme-next/theme-next-canvas-nest themes/next/source/lib/canvas-nestç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½® canvas_nest: true å³å¯ã€‚Next v6.5.0 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒæ›´å¤šçš„è‡ªå®šä¹‰é€‰é¡¹ï¼šthemes\\next\\_config.yml1234567canvas_nest: enable: true onmobile: true # æ˜¯å¦åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º color: '0,0,255' # åŠ¨æ€èƒŒæ™¯ä¸­çº¿æ¡çš„ RGB é¢œè‰² opacity: 0.5 # åŠ¨æ€èƒŒæ™¯ä¸­çº¿æ¡é€æ˜åº¦ zIndex: -1 # åŠ¨æ€èƒŒæ™¯çš„ z-index å±æ€§å€¼ count: 99 # åŠ¨æ€èƒŒæ™¯ä¸­çº¿æ¡æ•°é‡Three ä¸‰ç»´åŠ¨æ•ˆtheme-next-three æ’ä»¶æä¾›äº†ä¸‰ä¸ªç±»å‹çš„èƒŒæ™¯åŠ¨æ•ˆï¼Œåº”ç”¨æ•ˆæœå¦‚ä¸‹ï¼šthree-wavescanvas-linescanvas-sphereåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ç›¸å…³ä¾èµ–ï¼š1$ git clone https://github.com/theme-next/theme-next-three themes/next/source/lib/threeç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¼€å¯å¯¹åº”çš„åŠ¨æ•ˆé€‰é¡¹å³å¯ã€‚themes\\next\\_config.yml12345678# JavaScript 3D library.# Dependencies: https://github.com/theme-next/theme-next-three# three_wavesthree_waves: true# canvas_linescanvas_lines: false# canvas_spherecanvas_sphere: falseä¸ªäººè®¤ä¸ºåœ¨ç«™ç‚¹ä¸­æ·»åŠ åŠ¨æ€èƒŒæ™¯å¹¶æ²¡æœ‰å®é™…çš„æ„ä¹‰ï¼Œåªä¼šå‡­ç©ºå¢åŠ é¡µé¢å†…å­˜å ç”¨åŠCPUæ¶ˆè€—ï¼Œæ‰€ä»¥æœ¬ç«™æ²¡æœ‰æ·»åŠ ä»»ä½•åŠ¨æ€èƒŒæ™¯ã€‚éšæœºä¸‰è§’ä¸å¸¦è¯¥åŠŸèƒ½ç”± Vue ä½œè€… å°¤é›¨æºª é¦–åˆ›ã€‚æœ¬ç« èŠ‚ä¸­æ ¸å¿ƒä»£ç æ¥æºäº DIYgod ç¼–å†™çš„ sagiri ä¸»é¢˜ã€‚ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¸‹è½½ç›¸åº”çš„è„šæœ¬ï¼Œå¹¶ç½®äº themes\\\\next\\\\source\\\\js\\ ç›®å½•ä¸‹ï¼šéšæœºä¸‰è§’ä¸å¸¦åœ¨ä¸»é¢˜è‡ªå®šä¹‰å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\layout\\_custom\\custom.swig123456789101112131415&#123;# éšæœºä¸‰è§’ä¸å¸¦èƒŒæ™¯ #&#125;&#123;% if theme.evanyou %&#125; &lt;canvas id=\"evanyou\"&gt;&lt;/canvas&gt; &lt;style&gt; #evanyou &#123; position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: -1; &#125; &lt;/style&gt; &lt;script src=\"/js/evan-you.js\"&gt;&lt;/script&gt;&#123;% endif %&#125;å¦‚æœ custom.swig æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ–°å»ºå¹¶åœ¨å¸ƒå±€é¡µé¢ä¸­ body æœ«å°¾å¼•å…¥ï¼šthemes\\next\\layout\\_layout.swig12345678 ... &#123;% include '_third-party/exturl.swig' %&#125; &#123;% include '_third-party/bookmark.swig' %&#125; &#123;% include '_third-party/copy-code.swig' %&#125;+ &#123;% include '_custom/custom.swig' %&#125; &lt;/body&gt; &lt;/html&gt;åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\_config.yml12# colorful trilateral riband backgroundevanyou: trueå¦‚æœä»æœ¬åœ°åŠ è½½JSè„šæœ¬é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥è€ƒè™‘å°†è„šæœ¬æ”¾åˆ°CDNä¸Šå†å¼•å…¥ã€‚æ·»åŠ çœ‹æ¿å¨˜æœ¬ç« èŠ‚éƒ¨åˆ†å†…å®¹å‚è€ƒ FJKang | æ·»åŠ ä¸€ä¸ªèŒç‰©è¯¥åŠŸèƒ½ç”± hexo-helper-live2d æ’ä»¶æ”¯æŒï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼šåœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–ï¼š1$ npm install --save hexo-helper-live2dåœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¸‹é…ç½®é¡¹_config.yml123456789101112131415161718192021222324252627282930# Live2D# https://github.com/EYHN/hexo-helper-live2dlive2d: enable: true pluginRootPath: live2dw/ pluginJsPath: lib/ pluginModelPath: assets/ Relative) # è„šæœ¬åŠ è½½æº scriptFrom: local # é»˜è®¤ä»æœ¬åœ°åŠ è½½è„šæœ¬ # scriptFrom: jsdelivr # ä» jsdelivr CDN åŠ è½½è„šæœ¬ # scriptFrom: unpkg # ä» unpkg CDN åŠ è½½è„šæœ¬ # scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # ä»è‡ªå®šä¹‰åœ°å€åŠ è½½è„šæœ¬ tagMode: false # åªåœ¨æœ‰ &#123;&#123; live2d() &#125;&#125; æ ‡ç­¾çš„é¡µé¢ä¸ŠåŠ è½½ / åœ¨æ‰€æœ‰é¡µé¢ä¸ŠåŠ è½½ log: false # æ˜¯å¦åœ¨æ§åˆ¶å°æ‰“å°æ—¥å¿— # é€‰æ‹©çœ‹æ¿å¨˜æ¨¡å‹ model: use: live2d-widget-model-shizuku # npm packageçš„åå­— # use: wanko # /live2d_models/ ç›®å½•ä¸‹çš„æ¨¡å‹æ–‡ä»¶å¤¹åç§° # use: ./wives/wanko # ç«™ç‚¹æ ¹ç›®å½•ä¸‹çš„æ¨¡å‹æ–‡ä»¶å¤¹åç§° # use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # è‡ªå®šä¹‰ç½‘ç»œæ•°æ®æº display: position: left # æ˜¾ç¤ºåœ¨å·¦è¾¹è¿˜æ˜¯å³è¾¹ width: 100 # å®½åº¦ height: 180 # é«˜åº¦ mobile: show: false react: opacityDefault: 0.7 # é»˜è®¤é€æ˜åº¦æ›´å¤šé…ç½®å‚æ•°è¯·æŸ¥çœ‹ L2Dwidget | live2d-widget.jsæ­¤æ—¶é‡å¯æœåŠ¡å™¨æš‚æ—¶è¿˜çœ‹ä¸åˆ°çœ‹æ¿å¨˜ï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹è½½æˆ–å®‰è£…æ¨¡å‹èµ„æºã€‚å¯ä»¥ä» hexo live2d æ¨¡å‹é¢„è§ˆ é‡Œæ‰¾åˆ°ä½ å–œæ¬¢çš„è§’è‰²ï¼Œç„¶åæ ¹æ® live2d-widget-models ä¸­æä¾›çš„æ–¹æ³•æ¥ä¸‹è½½æ¨¡å‹æ•°æ®.ä¾‹å¦‚é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æ¨¡å‹ shizukuï¼š1$ npm install live2d-widget-model-shizukuå› ä¸ºä¿®æ”¹äº†ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦é‡å¯æœåŠ¡å™¨æ‰èƒ½é¢„è§ˆæ¨¡å‹æ•ˆæœã€‚å¦‚æœè®¾ç½®äº† live2d.tagMode: trueï¼Œåˆ™å¯ä»¥åœ¨æŒ‡å®šé¡µé¢ä¸­æ’å…¥ä»¥ä¸‹æ ‡ç­¾ï¼š1&#123;&#123; live2d() &#125;&#125;åªæœ‰æ‹¥æœ‰è¯¥æ ‡ç­¾çš„é¡µé¢æ‰ä¼šæ¸²æŸ“live2dæ¨¡å‹ï¼Œè¿™æ ·ä»¥æ¥å°±å¯ä»¥ç²¾ç¡®æ§åˆ¶åœ¨å“ªäº›é¡µé¢ä¸Šæ˜¾ç¤ºçœ‹æ¿å¨˜äº†ã€‚å¦‚æœåªæƒ³åœ¨ä¸€çº§èœå•é¡µé¢ä¸Šæ˜¾ç¤ºçœ‹æ¿å¨˜ï¼Œå¯ä»¥åœ¨Headeræ¨¡æ¿ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\layout\\_partials\\header\\index.swig123+ &#123;% if is_index %&#125;+ &#123;&#123; live2d() &#125;&#125;+ &#123;% endif %&#125;ä¸ªäººè®¤ä¸ºåœ¨æ–‡ç« å†…å‡ºç°çœ‹æ¿å¨˜å°†ä¼šå½±å“è¯»è€…æ³¨æ„åŠ›çš„é›†ä¸­ï¼Œæ¯•ç«Ÿä¸€ç¯‡åšå®¢é‡Œæœ€é‡è¦çš„æ˜¯å†…å®¹ï¼Œè€Œä¸æ˜¯è¿™äº›èŠ±é‡Œèƒ¡å“¨è½¬ç§»æ³¨æ„åŠ›çš„ä¸œè¥¿ã€‚æ‰€ä»¥æœ¬ç«™åªåœ¨ä¸€çº§èœå•é¡µé¢æ·»åŠ äº†çœ‹æ¿å¨˜ï¼Œæ–‡ç« é¡µé¢åˆ™ä¿æŒæè‡´ç²¾ç®€çš„é˜…è¯»ä½“éªŒã€‚ç»è¿‡æµ‹è¯•å‘ç° live2d.mobile.show: false å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œæš‚æ—¶æ²¡æœ‰æ‰¾åˆ°å¥½çš„è§£å†³æ–¹æ³•ï¼Œå‚è€ƒ EYHN/hexo-helper-live2d Issues #12 åå‘ç°å¯ä»¥åœ¨è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç æ¥è§£å†³ï¼šthemes/next/source/css/_custom/custom.styl12345678#live2dcanvas &#123; +mobile() &#123; display: none; &#125; +tablet() &#123; display: none; &#125;&#125;ä¸è¦ä¹±ç‚¹ä¸è¯¥ç‚¹çš„åœ°æ–¹ï¼Œä¼šç”Ÿæ°”çš„ã€‚è¾¹ç¼˜æ‘†åŠ¨æ•ˆæœåœ¨ çŒªçŒªä¾ çš„åšå®¢ é‡Œå‘ç°çš„è¿™ç§ç‰¹æ•ˆï¼Œè§‰å¾—æŒºæœ‰æ„æ€çš„ï¼Œå°±ä»ä»–Githubä¸Šç»™æ‰’è¿‡æ¥äº†ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¸‹è½½è„šæœ¬ï¼Œå¹¶ç½®äº themes\\\\next\\\\source\\\\js\\ ç›®å½•ä¸‹ï¼šwobblewindow.jsåœ¨ä¸»é¢˜è‡ªå®šä¹‰å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\layout\\_custom\\custom.swig12345678910111213141516171819202122232425262728293031323334353637383940414243&#123;# wobbleçª—å£æ‘†åŠ¨ç‰¹æ•ˆ #&#125;&#123;% if theme.wobble %&#125; &lt;script src=\"/js/wobblewindow.js\"&gt;&lt;/script&gt; &lt;script&gt; //åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ if( window.innerWidth &gt; 768 )&#123; $(document).ready(function () &#123; &#123;% if theme.wobble.header %&#125; $('#header').wobbleWindow(&#123; radius: &#123;&#123; theme.wobble.radius &#125;&#125;, movementTop: false, movementLeft: false, movementRight: false, debug: false, &#125;); &#123;% endif %&#125; &#123;% if theme.wobble.sidebar %&#125; $('#sidebar').wobbleWindow(&#123; radius: &#123;&#123; theme.wobble.radius &#125;&#125;, movementLeft: false, movementTop: false, movementBottom: false, position: 'fixed', debug: false, &#125;); &#123;% endif %&#125; &#123;% if theme.wobble.footer %&#125; $('#footer').wobbleWindow(&#123; radius: &#123;&#123; theme.wobble.radius &#125;&#125;, movementBottom: false, movementLeft: false, movementRight: false, offsetX: &#123;&#123; theme.wobble.offset &#125;&#125;, position: 'absolute', debug: false, &#125;); &#123;% endif %&#125; &#125;); &#125; &lt;/script&gt;&#123;% endif %&#125;å¦‚æœ custom.swig æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ–°å»ºå¹¶åœ¨å¸ƒå±€é¡µé¢ä¸­ body æœ«å°¾å¼•å…¥ï¼šthemes\\next\\layout\\_layout.swig12345678 ... &#123;% include '_third-party/exturl.swig' %&#125; &#123;% include '_third-party/bookmark.swig' %&#125; &#123;% include '_third-party/copy-code.swig' %&#125;+ &#123;% include '_custom/custom.swig' %&#125; &lt;/body&gt; &lt;/html&gt;åœ¨è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹æ ·å¼ï¼šthemes\\next\\source\\css\\_custom\\custom.styl1234567891011121314151617181920212223242526272829//çª—å£æ³¢åŠ¨æ•ˆæœç›¸å…³æ ·å¼if hexo-config('wobble') &#123; .sidebar &#123; box-shadow: none; &#125; .wobbleTransparentBK&#123; background-color: rgba(0,0,0,0) !important; &#125; .wobbleTransparentLine&#123; border-color: rgba(0,0,0,0) !important; &#125; //Next.Museä¸­ä¸ºHeaderå’ŒFooteræ·»åŠ èƒŒæ™¯è‰² #header, #footer &#123; background-color: rgb(245, 245, 245); &#125; //é˜²æ­¢sidebarå’ŒfooteråŒæ—¶å¼€å¯åŠ¨æ•ˆæ—¶å †å å¼‚å¸¸ #sidebar, header &#123; z-index: 1 !important; &#125; //é˜²æ­¢æŒ¡ä½é¡µæœ«æ–‡ç« çš„é˜…è¯»å…¨æ–‡æŒ‰é’® .main &#123; padding-bottom: 200px; &#125;&#125;Next.Museä¸»é¢˜æ–¹æ¡ˆä¸­Headerå’ŒFooteræ˜¯æ²¡æœ‰èƒŒæ™¯è‰²çš„ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ èƒŒæ™¯è‰²åæ‰èƒ½çœ‹å‡ºè¾¹ç¼˜æ‘†åŠ¨æ•ˆæœã€‚å¦å¤–ï¼Œå®ç°è¾¹ç¼˜æ‘†åŠ¨æ•ˆæœæ‰€éœ€çš„ z-index å±æ€§å¯èƒ½ä¼šå¯¼è‡´å…ƒç´ å †å å¼‚å¸¸ï¼Œéœ€è¦æ·»åŠ ä»¥ä¸Šæ ·å¼æ¥çŸ«æ­£ã€‚åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\_config.yml1234567# window wobllewobble: enable: true # æ˜¯å¦å¼€å¯è¾¹ç¼˜æ³¢åŠ¨æ•ˆæœ radius: 50 # æ³¢åŠ¨åŠå¾„ sidebar: true # å¼€å¯ä¾§è¾¹æ è¾¹ç¼˜æ‘†åŠ¨ header: true # å¼€å¯å¤´éƒ¨è¾¹ç¼˜æ‘†åŠ¨ footer: true # å¼€å¯è„šéƒ¨è¾¹ç¼˜æ‘†åŠ¨ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­ä¸ºé€‰æ‹©å¼€å¯è¾¹ç¼˜æ‘†åŠ¨æ•ˆæœçš„å¸ƒå±€å…ƒç´ ã€‚åˆ·æ–°æµè§ˆå™¨ï¼Œç„¶åå°†é¼ æ ‡ç§»åŠ¨åˆ°å¸ƒå±€è¾¹ç¼˜ä¸Šå°½æƒ…çš„æŒ‘é€—å®ƒå§ã€‚å¦‚æœä»æœ¬åœ°åŠ è½½JSè„šæœ¬é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥è€ƒè™‘å°†è„šæœ¬æ”¾åˆ°CDNä¸Šå†å¼•å…¥ã€‚ä¸ªæ€§åŒ–å›åˆ°é¡¶éƒ¨ä» DIYgodçš„åšå®¢ é‡Œæ‰’æ¥çš„ï¼Œæ•ˆæœå¦‚ä¸‹ï¼šåŸç†å¾ˆç®€å•ï¼Œå°† back-to-top æŒ‰é’®æ·»åŠ å›¾ç‰‡èƒŒæ™¯ï¼Œå¹¶æ·»åŠ CSS3åŠ¨æ•ˆå³å¯ã€‚é¦–å…ˆï¼Œæ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„å›¾ç‰‡ç´ ææ”¾åˆ° source\\\\images\\ ç›®å½•ä¸‹ã€‚ä½ å¯ä»¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¸‹è½½æœ¬ç«™æ‰€ä½¿ç”¨çš„å°çŒ«ä¸ŠåŠç´ æï¼ˆå°çŒ«å’ªè¿™ä¹ˆå¯çˆ±ï¼Œå½“ç„¶è¦å¤šæ”¾ç‚¹å­œç„¶å•¦â€¦ï¼‰ä¸‹è½½å›¾ç‰‡ç„¶ååœ¨è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼šthemes\\next\\source\\css\\_custom\\custom.styl1234567891011121314151617181920//è‡ªå®šä¹‰å›åˆ°é¡¶éƒ¨æ ·å¼.back-to-top &#123; right: 60px; width: 70px; //å›¾ç‰‡ç´ æå®½åº¦ height: 900px; //å›¾ç‰‡ç´ æé«˜åº¦ top: -900px; bottom: unset; transition: all .5s ease-in-out; background: url(\"/images/scroll.png\"); //éšè—ç®­å¤´å›¾æ ‡ &gt; i &#123; display: none; &#125; &amp;.back-to-top-on &#123; bottom: unset; top: 100vh &lt; (900px + 200px) ? calc( 100vh - 900px - 200px ) : 0px; &#125;&#125;åˆ·æ–°æµè§ˆå™¨å³å¯é¢„è§ˆæ•ˆæœã€‚é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆä»å„ä¸ªç«™ç‚¹é‡Œæœç½—äº†ä»¥ä¸‹å››ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆï¼šç¤¼èŠ±ç‰¹æ•ˆçˆ†ç‚¸ç‰¹æ•ˆæµ®å‡ºçˆ±å¿ƒæµ®å‡ºæ–‡å­—ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¸‹è½½ç›¸åº”çš„è„šæœ¬ï¼Œå¹¶ç½®äº themes\\\\next\\\\source\\\\js\\\\cursor\\ ç›®å½•ä¸‹ï¼šç¤¼èŠ±ç‰¹æ•ˆ çˆ†ç‚¸ç‰¹æ•ˆ æµ®å‡ºçˆ±å¿ƒ æµ®å‡ºæ–‡å­—åœ¨ä¸»é¢˜è‡ªå®šä¹‰å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\layout\\_custom\\custom.swig123456789101112&#123;# é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ #&#125;&#123;% if theme.cursor_effect == \"fireworks\" %&#125; &lt;script async src=\"/js/cursor/fireworks.js\"&gt;&lt;/script&gt;&#123;% elseif theme.cursor_effect == \"explosion\" %&#125; &lt;canvas class=\"fireworks\" style=\"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;\" &gt;&lt;/canvas&gt; &lt;script src=\"//cdn.bootcss.com/animejs/2.2.0/anime.min.js\"&gt;&lt;/script&gt; &lt;script async src=\"/js/cursor/explosion.min.js\"&gt;&lt;/script&gt;&#123;% elseif theme.cursor_effect == \"love\" %&#125; &lt;script async src=\"/js/cursor/love.min.js\"&gt;&lt;/script&gt;&#123;% elseif theme.cursor_effect == \"text\" %&#125; &lt;script async src=\"/js/cursor/text.js\"&gt;&lt;/script&gt;&#123;% endif %&#125;å¦‚æœ custom.swig æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ–°å»ºå¹¶åœ¨å¸ƒå±€é¡µé¢ä¸­ body æœ«å°¾å¼•å…¥ï¼šthemes\\next\\layout\\_layout.swig12345678 ... &#123;% include '_third-party/exturl.swig' %&#125; &#123;% include '_third-party/bookmark.swig' %&#125; &#123;% include '_third-party/copy-code.swig' %&#125;+ &#123;% include '_custom/custom.swig' %&#125; &lt;/body&gt; &lt;/html&gt;åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\_config.yml12# mouse click effect: fireworks | explosion | love | textcursor_effect: fireworksè¿™æ ·å³å¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¸€é”®å¿«é€Ÿåˆ‡æ¢é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆã€‚å¦‚æœä»æœ¬åœ°åŠ è½½JSè„šæœ¬é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥è€ƒè™‘å°†è„šæœ¬æ”¾åˆ°CDNä¸Šå†å¼•å…¥ã€‚æ‰“å­—ç‰¹æ•ˆæœ¬ç« èŠ‚å‚è€ƒ åƒçµå¤™èµ‹ | Hexo ä¼˜åŒ–æ±‡æ€» #31ï¼ŒåŸæ–‡å‡ºè‡ª é¾™ç¬‘å¤©ä¸‹ | ç»™ WordPress åšå®¢ç½‘ç«™æ·»åŠ è¯„è®ºè¾“å…¥æ‰“å­—ç¤¼èŠ±åŠéœ‡åŠ¨ç‰¹æ•ˆç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¸‹è½½ç›¸åº”çš„è„šæœ¬ï¼Œå¹¶ç½®äº themes\\\\next\\\\source\\\\js\\ ç›®å½•ä¸‹ï¼šæ‰“å­—ç‰¹æ•ˆåœ¨ä¸»é¢˜è‡ªå®šä¹‰å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\layout\\_custom\\custom.swig123456789&#123;# æ‰“å­—ç‰¹æ•ˆ #&#125;&#123;% if theme.typing_effect %&#125; &lt;script src=\"/js/activate-power-mode.min.js\"&gt;&lt;/script&gt; &lt;script&gt; POWERMODE.colorful = &#123;&#123; theme.typing_effect.colorful &#125;&#125;; POWERMODE.shake = &#123;&#123; theme.typing_effect.shake &#125;&#125;; document.body.addEventListener('input', POWERMODE); &lt;/script&gt;&#123;% endif %&#125;å¦‚æœ custom.swig æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ–°å»ºå¹¶åœ¨å¸ƒå±€é¡µé¢ä¸­ body æœ«å°¾å¼•å…¥ï¼šthemes\\next\\layout\\_layout.swig12345678 ... &#123;% include '_third-party/exturl.swig' %&#125; &#123;% include '_third-party/bookmark.swig' %&#125; &#123;% include '_third-party/copy-code.swig' %&#125;+ &#123;% include '_custom/custom.swig' %&#125; &lt;/body&gt; &lt;/html&gt;åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼šthemes\\next\\_config.yml1234# typing effecttyping_effect: colorful: true # ç¤¼èŠ±ç‰¹æ•ˆ shake: false # éœ‡åŠ¨ç‰¹æ•ˆå¦‚æœä»æœ¬åœ°åŠ è½½JSè„šæœ¬é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥è€ƒè™‘å°†è„šæœ¬æ”¾åˆ°CDNä¸Šå†å¼•å…¥ã€‚ç»“æŸè¯­æœ¬æ–‡è®°å½•äº†æœ¬ç«™åœ¨Nextçš„åŸºç¡€ä¸Šçš„è¿›é˜¶ç¾åŒ–æ–¹æ¡ˆï¼Œé™¤äº†ä¸€äº›ç®€å•çš„æ ·å¼ä¿®æ”¹å¤–ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›ç”±æ’ä»¶æ”¯æŒçš„é«˜çº§åŠ¨æ•ˆï¼ŒåŒ…æ‹¬åŠ¨æ€èƒŒæ™¯ã€çœ‹æ¿å¨˜ã€è¾¹ç¼˜æ‘†åŠ¨ã€é¼ æ ‡ç‚¹å‡»å’Œæ‰“å­—ç‰¹æ•ˆç­‰ã€‚ç¬”è€…è®¤ä¸ºï¼ŒåŠ¨æ•ˆå¯ä»¥ä½¿å¾—ç«™ç‚¹å˜æœ‰è¶£ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå¢åŠ ç½‘é¡µçš„èµ„æºæ¶ˆè€—ï¼Œä»¥åŠå½±å“ç”¨æˆ·çš„å…³æ³¨ç‚¹ï¼Œæœ‰æ—¶å€™ä¼šå–§å®¾å¤ºä¸»é€‚å¾—å…¶åï¼Œå»ºè®®ççˆ±PCèµ„æºï¼Œåˆç†ä½¿ç”¨åŠ¨æ•ˆã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"https://qikaile.tk/categories/%E6%8A%80%E6%9C%AF/"},{"name":"åšå®¢","slug":"æŠ€æœ¯/åšå®¢","permalink":"https://qikaile.tk/categories/%E6%8A%80%E6%9C%AF/%E5%8D%9A%E5%AE%A2/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://qikaile.tk/tags/Hexo/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-03-13T16:00:00.000Z","updated":"2020-03-29T08:24:08.235Z","comments":true,"path":"hello-world.html","link":"","permalink":"https://qikaile.tk/hello-world.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.Quick StartCreate a new post1$ hexo new \"My New Post\"More info: WritingRun server1$ hexo serverMore info: ServerGenerate static files1$ hexo generateMore info: GeneratingDeploy to remote sites1$ hexo deployMore info: Deployment","categories":[],"tags":[]}]}